KISSY.add("brix/gallery/lavalamp/index",function(a,b,c,d){function e(){e.superclass.constructor.apply(this,arguments)}return e.ATTRS={fx:{value:"bounceOut"},speed:{value:.4},triggered:{value:"mouseover"},click:{value:function(){}}},a.extend(e,b,{initialize:function(){function i(a){f.css({left:a.offsetLeft+"px",width:a.offsetWidth+"px"}),h=a}function j(b){e&&e.stop(),e=new c(f[0],{width:b.offsetWidth+"px",left:b.offsetLeft+"px"},a.get("speed"),a.get("fx")),e.run()}var a=this,b=a.get("el"),e,f=new d('<li class="back"></li>'),g=b.all("li"),h=(b.one(".current")||g[0].addClass("current"))[0];b.append(f),g.each(function(b){a.get("triggered")=="mouseover"?(b.on("mouseenter",function(){j(b[0])}),b.on("click",function(c){return i(b[0]),a.get("click").apply(a,[c])})):b.on("click",function(c){return j(b[0]),i(b[0]),a.get("click").apply(a,[c])})}),b.on("mouseleave",function(){j(h)}),i(h)},destructor:function(){}}),e},{requires:["brix/core/brick","anim","node"]});