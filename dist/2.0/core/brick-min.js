KISSY.add("brix/core/brick",function(e,t,n){var r=t.extend({initializer:function(){for(var e=this,t=e.constructor;t;){var n=t.RENDERERS;n&&(e.addTmpl(),e.get("dataset").setRenderer(n,e)),t=t.superclass&&t.superclass.constructor}e.pagelet=e.get("pagelet")},bindUI:function(){var e=this;e._bx_bindEvent()},_bx_detachEvent:function(){for(var e=this,t=e.constructor;t;){var n=t.EVENTS;n&&e._bx_removeEvents(n);var r=t.DOCEVENTS;r&&e._bx_removeEvents(r,document),t=t.superclass&&t.superclass.constructor}var a=e.get("events");a&&this._bx_removeEvents(a)},_bx_bindEvent:function(){for(var e=this,t=e.constructor;t;){var n=t.EVENTS;n&&this._bx_addEvents(n);var r=t.DOCEVENTS;r&&this._bx_addEvents(r,document),t=t.superclass&&t.superclass.constructor}var a=e.get("events");a&&this._bx_addEvents(a)},_bx_removeEvents:function(e,t){t=t||this.get("el");for(var r in e){var a=e[r];for(var i in a){var o=a[i];""===r?n.detach(t,i,o,this):n.undelegate(t,i,r,o,this)}}},_bx_addEvents:function(e,t){t=t||this.get("el");for(var r in e){var a=e[r];for(var i in a){var o=a[i];""===r?n.on(t,i,o,this):n.delegate(t,i,r,o,this)}}},destructor:function(){var e=this;if(e.get("rendered")){e._bx_detachEvent();var t=e.get("destroyAction"),n=e.get("el");switch(t){case"remove":n.remove();break;case"empty":n.empty()}}e.get("pagelet")&&e.set("pagelet",null)}},{ATTRS:{pagelet:{value:null}}});return r},{requires:["./chunk","event"]});