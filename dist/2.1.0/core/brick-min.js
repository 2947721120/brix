KISSY.add("brix/core/brick",function(e,t,r){var n=t.extend({initializer:function(){for(var e=this,t=e.constructor,r=e.get("dataset");t;){var n=t.RENDERERS;n&&r.setRenderer(n,e),t=t.superclass&&t.superclass.constructor}e.pagelet=e.get("pagelet")},bindUI:function(){this._bx_bindEvent()},_bx_detachEvent:function(){for(var e=this,t=e.constructor;t;){var r=t.EVENTS;r&&e._bx_removeEvents(r);var n=t.DOCEVENTS;n&&e._bx_removeEvents(n,document);var i=t.WINEVENTS;i&&this._bx_removeWinEvents(i),t=t.superclass&&t.superclass.constructor}var a=e.get("events");a&&this._bx_removeEvents(a);var s=e.get("docEvents");s&&this._bx_removeEvents(s,document);var o=e.get("winEvents");o&&this._bx_removeWinEvents(o)},_bx_bindEvent:function(){for(var e=this,t=e.constructor;t;){var r=t.EVENTS;r&&this._bx_addEvents(r);var n=t.DOCEVENTS;n&&this._bx_addEvents(n,document);var i=t.WINEVENTS;i&&this._bx_addWinEvents(i),t=t.superclass&&t.superclass.constructor}var a=e.get("events");a&&this._bx_addEvents(a);var s=e.get("docEvents");s&&this._bx_addEvents(s,document);var o=e.get("winEvents");o&&this._bx_addWinEvents(o)},_bx_removeEvents:function(e,t){t=t||this.get("el");for(var n in e){var i=e[n];for(var a in i){var s=i[a];""===n?r.detach(t,a,s,this):r.undelegate(t,a,n,s,this)}}},_bx_addEvents:function(e,t){t=t||this.get("el");for(var n in e){var i=e[n];for(var a in i){var s=i[a];""===n?r.on(t,a,s,this):r.delegate(t,a,n,s,this)}}},_bx_removeWinEvents:function(e){for(var t in e){var n=e[t];r.detach(window,t,n,this)}},_bx_addWinEvents:function(e){for(var t in e){var n=e[t];r.on(window,t,n,this)}},destructor:function(){var e=this;if(e.get("rendered")){e._bx_detachEvent();var t=e.get("destroyAction"),r=e.get("el");switch(t){case"remove":r.remove();break;case"empty":r.empty()}}e.get("pagelet")&&(delete e.pagelet,e.set("pagelet",null))}},{ATTRS:{pagelet:{value:null}}},"Brick");return n},{requires:["./chunk","event"]});