KISSY.add("brix/gallery/multimedia/index",function(e,t,i,n){function a(){var e=this;a.superclass.constructor.apply(e,arguments),e.init()}var r=i.all;return a.ATTRS={w0:{value:100},h0:{value:100},w1:{value:300},h1:{value:250},right:{value:0},top:{value:28}},e.extend(a,t,{init:function(){var t=this,i="multimedia_"+e.guid();t.set("id",i);var a=r('<div id="'+i+'"></div>');a.css({width:t.get("w0"),height:t.get("h0"),position:"absolute",right:t.get("right"),top:t.get("top"),"z-index":999999}),r("body").prepend(a),a=null;var o="fn_multimedia_"+e.guid();window[o]=function(e,i){t.sendToJS(e,i)},n.add("#"+i,{src:t.get("swf_url"),id:i+"_swf",version:10,params:{flashvars:{JavaScriptName:o,url:t.get("url")},wmode:"transparent",allowScriptAccess:"always"},attrs:{width:"100%",height:"100%"}})},sendToJS:function(e,t){var i=this;"switch"==e?i._switch(t):"open"==e&&window.open(t)},_switch:function(t){var i,n=this,a="start"==t?1:0;1==a?(i={width:n.get("w1"),height:n.get("h1")},a=0):(i={width:n.get("w0"),height:n.get("h0")},a=1),e.one("#"+n.get("id")).css(i)}}),a},{requires:["base","node","flash"]});