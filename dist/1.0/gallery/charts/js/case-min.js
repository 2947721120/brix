KISSY.add("brix/gallery/charts/js/case",function(a,b,c,d,e){function g(){var a=this;g.superclass.constructor.apply(this,arguments),a.init()}var f=a.all;return g.ATTRS={chart:{value:{type:"",config:"",data:""}}},a.extend(g,b,{init:function(){var b=this,c=(new d).parse(b.get("configData"));b.get("chart").type=c.type,b.get("chart").config=c.data,b.get("chart").data=b.get("chartData"),a.use("brix/gallery/charts/js/m/widget/widget",function(a,c){var d={};d.parent_id=b.get("parent_id"),d.w=f("#"+b.get("parent_id")).width(),d.h=f("#"+b.get("parent_id")).height(),d.type=b.get("chart").type,d.config=b.get("chart").config,d.data=b.get("chart").data,new c(d)})},actions:function(a,b){var c=this;if(a=="reset"){var d=b;d&&(c.set("configData",d.configData),c.set("chartData",d.chartData)),c.reset()}},reset:function(){var a=this;a.remove(),a.init()},remove:function(){var a=this,b=f("#"+a.get("parent_id")).getDOMNode();b&&b.lastChild&&b.removeChild(b.lastChild)}}),g},{requires:["base","node","./m/datasource/datasource","./m/widget/widget"]}),KISSY.add("brix/gallery/charts/js/e/histogram/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0"}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0];return d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/histogram/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:"",data:[]},vertical:{name:"",data:[]},horizontal:{name:"",start:{name:"0"},data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("indexAxis")[0],i=h.getElementsByTagName("key")[0],j=h.getElementsByTagName("start")[0],k=g.getElementsByTagName("sets")[0];return d.key.indexs=i&&String(i.getAttribute("indexs"))?String(i.getAttribute("indexs")):d.key.indexs,d.vertical.name=k.getAttribute("name")&&String(k.getAttribute("name"))?String(k.getAttribute("name")):d.vertical.name,d.vertical.data=c._getItems(k.getElementsByTagName("set")),d.horizontal.name=h.getAttribute("name")&&String(h.getAttribute("name"))?String(h.getAttribute("name")):d.horizontal.name,d.horizontal.data=h.getAttribute("labels")?String(h.getAttribute("labels")).split(","):d.horizontal.data,d.horizontal.start.name=j&&String(j.getAttribute("name"))?String(j.getAttribute("name")):d.horizontal.start.name,d},_getItems:function(a){var b=[],c;for(var d=0,e=a.length;d<e;d++)c=a[d],String(c.getAttribute("values"))&&b.push(String(c.getAttribute("values")).split(","));return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/histogram/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new e).parse(a.get("data"))),a.set("_config",(new f).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new g(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./control/dataparse","./control/configparse","./view/widget"]}),KISSY.add("brix/gallery/charts/js/e/histogram/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/histogram/view/graphs",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments)}return i.ATTRS={w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:0},groupW:{value:59},groupCount:{value:1},disGroupX:{value:22},disGroupMinX:{value:2},disGroupLimitX:{value:1},disSingleX:{value:4},disSingleMinX:{value:1},singleW:{value:16},singleMinW:{value:4},intX:{value:16},_groupMinW:{value:0},_groupNormalW:{value:0},_disGroupX:{value:0},_disSingleX:{value:0},_singleW:{value:0},_groupArr:{value:[]},_groups:{value:null}},a.extend(i,b,{init:function(){var a=this;i.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a.set("_disGroupX",a.get("disGroupX")),a.set("_disSingleX",a.get("disSingleX")),a.set("_singleW",a.get("singleW")),a._algorithm(),a._widget(),a._layout()},induce:function(a,b){var c=this;c.get("_groupArr")[a.index].induce({id:a.id},b)},getGroupMinW:function(){var a=this;return a.get("_groupMinW")||a.set("_groupMinW",2*a.get("disGroupLimitX")+a.get("groupCount")*a.get("singleMinW")+(a.get("groupCount")-1)*a.get("disSingleMinX")),a.get("_groupMinW")},getInfos:function(){var a=this,b=[];for(var c=0,e=a.get("_groupArr").length;c<e;c++){var f=a.get("_groupArr")[c],g=f.getInfos();b.push(g)}for(var h=0,i=b.length;h<i;h++)for(var j=0,k=b[h].length;j<k;j++)g=b[h][j],g.cx=a.get("intX")?g.cx+d.ceil(h*a.get("groupW")):g.cx+h*a.get("groupW");return b},getNodeInfoAt:function(a,b){var c=this,d=c.get("_groupArr")[a],e=d.getNodeInfoAt(b);return e.cx=Number(e.cx)+Number(d.get("element").get("_x")),e.x=Number(e.x)+Number(d.get("element").get("_x")),e},_widget:function(){var a=this;a.set("_groups",new e("g")),a.get("_groups").set("class","groups"),a.get("element").appendChild(a.get("_groups").element)},_layout:function(){var a=this;for(var b=0,c=a.get("data").length;b<c;b++){var e=new g;a.get("_groupArr").push(e);var f={index:b,h:a.get("h"),parent:a.get("_groups"),data:a.get("data")[b],isInduce:a.get("isInduce"),disGroupX:a.get("_disGroupX"),disSingleX:a.get("_disSingleX"),singleW:a.get("_singleW"),intX:a.get("intX")};e.init(f),e.get("element").on(h.OVER,function(b){a._overHandler(b)}),e.get("element").on(h.OUT,function(b){a._outHandler(b)});var i=d.ceil(a.get("groupW")*b);e.get("element").transformX(i),e.get("element").set("_index",b),e.get("element").set("_x",i)}},_getGroupNormalW:function(){var a=this;return a.get("_groupNormalW")||a.set("_groupNormalW",2*a.get("disGroupX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleX")),a.get("_groupNormalW")},_algorithm:function(){var a=this;a._getGroupNormalW();if(a.get("groupW")>a.get("_groupNormalW"))a.set("_disGroupX",a.get("disGroupX")+(a.get("groupW")-a.get("_groupNormalW"))/2);else if(a.get("groupW")<a.get("_groupNormalW"))if(a.get("groupW")>2*a.get("disGroupMinX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleX"))a.set("_disGroupX",(a.get("groupW")-(a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleX")))/2);else if(a.get("groupW")<2*a.get("disGroupMinX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleX")){a.set("_disGroupX",a.get("disGroupMinX"));if(a.get("groupW")>2*a.get("disGroupMinX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleMinX"))a.set("_disSingleX",(a.get("groupW")-(2*a.get("disGroupMinX")+a.get("groupCount")*a.get("singleW")))/(a.get("groupCount")-1));else if(a.get("groupW")<2*a.get("disGroupMinX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleMinX")){a.set("_disSingleX",a.get("disSingleMinX")),a.set("singleW",a.get("singleW")-1);if(a.get("singleW")<=a.get("singleMinW")){a.set("singleW",a.get("singleMinW")),a.set("disGroupMinX",a.get("disGroupMinX")-1),a.set("_disGroupX",a.get("disGroupMinX"));if(a.get("_disGroupX")<=a.get("disGroupLimitX")){var b=a.get("groupW")/(2*a.get("disGroupLimitX")+a.get("groupCount")*a.get("singleW")+(a.get("groupCount")-1)*a.get("disSingleMinX"));a.set("_disGroupX",b*a.get("disGroupLimitX")),a.set("_disSingleX",b*a.get("disSingleMinX")),a.set("_singleW",b*a.get("singleMinW"));return}}a.set("_singleW",a.get("singleW")),a._algorithm()}else a.set("_disSingleX",a.get("disSingleMinX"))}else a.set("_disGroupX",a.get("disGroupMinX"))},_overHandler:function(a){var b=this,c=b.get("_groupArr")[a.index];a.cx=Number(a.cx)+Number(c.get("element").get("_x")),b.get("element").fire(h.OVER,a)},_outHandler:function(a){var b=this;b.get("element").fire(h.OUT,a)}}),i},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","./group","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/histogram/view/group",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments)}return i.ATTRS={index:{value:0},h:{value:100},data:{value:[]},element:{value:null},isInduce:{value:0},fills:{value:["#458AE6","#39BCC0","#5BCB8A","#C3CC5C","#E6B522","#E68422"]},fills_over:{value:["#135EBF","#2E9599","#36B26A","#9CA632","#BF9E39","#BF7C39"]},keyFill:{value:"#E68422"},keyFill_over:{value:"#BF7C39"},fill:{value:"#666666"},fill_over:{value:"#000000"},intX:{value:1},disGroupX:{value:2},singleW:{value:4},disSingleX:{value:2},_induces:{value:null},_pillars:{value:null},_inducesArr:{value:[]},_pillarsArr:{value:[]},_minH:{value:2},_disInduce:{value:2},_isOver:{value:0},_fill:{value:""},_fill_over:{value:""}},a.extend(i,b,{init:function(){var a=this;i.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},induce:function(a,b){var c=this,d=c.get("_pillarsArr")[a.id];c._induce(d,b)},getInfos:function(){var a=this,b=[];for(var c=0,e=a.get("_pillarsArr").length;c<e;c++){var f=a.get("_pillarsArr")[c],g=a.get("intX")?d.ceil(Number(f.get("_x"))+Number(f.get("_w")/2)):Number(f.get("_x"))+Number(f.get("_w")/2),h={cx:g};b.push(h)}return b},getNodeInfoAt:function(a){var b=this,c=b.get("_pillarsArr")[a],e={};return e.index=b.get("index"),e.id=a,e.x=Number(c.get("_x")),e.y=0,e.cx=b.get("intX")?d.ceil(Number(c.get("_x"))+Number(c.get("_w")/2)):Number(c.get("_x"))+Number(c.get("_w")/2),e.h=-c.get("_h"),e.fill=b.get("fills")[a],e.fill_over=b.get("fills_over")[a],e},_widget:function(){var a=this;a.set("_pillars",new e("g")),a.get("_pillars").set("class","pillars"),a.get("element").appendChild(a.get("_pillars").element),a.set("_induces",new e("g")),a.get("_induces").set("class","induces"),a.get("element").appendChild(a.get("_induces").element)},_layout:function(){var a=this,b=document.createDocumentFragment(),c=document.createDocumentFragment();for(var e=0,f=a.get("data").length;e<f;e++){var g=a.get("data")[e],h,i=a.get("singleW"),j=g.height;j=j>a.get("_minH")?j:a.get("_minH"),h=a.get("disGroupX")+(a.get("singleW")+a.get("disSingleX"))*e,h=a.get("intX")?d.ceil(h):h;var k=a.get("fills")[e],l=g.key&&g.key.isKey?g.key.isKey:"";k=l?a.get("keyFill"):k;var m=a._drawGraph({w:i,h:-j,fill:k});a.get("isInduce")==0&&b.appendChild(m.element),m.transformX(h),a.get("_pillarsArr").push(m),m.set("_index",e),m.set("_x",h),i=a.get("singleW")+a.get("_disInduce"),j=a.get("h");var n=a._drawGraph({w:i,h:-j,opacity:d.N00001});a.get("isInduce")==1&&(c.appendChild(n.element),a.get("_inducesArr").push(n)),n.element.addEventListener("mouseover",function(b){a._overHandler(b)},!1),n.element.addEventListener("mouseout",function(b){a._outHandler(b)},!1),h=h-a.get("_disInduce")/2,h=a.get("intX")?d.ceil(h):h,n.transformX(h),n.set("_index",e)}a.get("isInduce")==0&&a.get("_pillars").appendChild(b),a.get("isInduce")==1&&a.get("_induces").appendChild(c)},_drawGraph:function(a){var b=a.w,c=a.h,d=a.fill?a.fill:"#000000",g=a.opacity?a.opacity:1,h=f.symbol("square",0,0,b,c).join(" "),i=new e("path");return i.attr({_w:b,_h:c,d:h,fill:d,opacity:g}),i},_overHandler:function(a){var b=this,c=a.target.getAttribute("_index");b.set("_isOver",1),b.set("_fill",b.get("fills")[c]),b.set("_fill_over",b.get("fills_over")[c]),b.get("data")[c].key&&b.get("data")[c].key.isKey&&(b.set("_fill",b.get("keyFill")),b.set("_fill_over",b.get("keyFill_over")));var d=b.get("_pillarsArr")[c],e={};e.index=b.get("index"),e.id=c,e.x=d.get("_x"),e.cx=Number(e.x)+Number(b.get("singleW")/2),e.h=-d.get("_h"),e.fill_over=b.get("_fill_over"),b.get("element").fire(h.OVER,e)},_outHandler:function(a){var b=this,c=a.target.getAttribute("_index");b.set("_isOver",0);var d=b.get("_pillarsArr")[c],e={};e.index=b.get("index"),e.id=c,b.get("element").fire(h.OUT,e)},_induce:function(a,b){var c=this,d,e,g,h,i,j,k=a.get("_index"),j;b?(g=Number(a.get("_w"))+Number(c.get("_disInduce")),h=Number(a.get("_h"))-Number(c.get("_disInduce")),d=Number(a.get("_x"))-Number(c.get("_disInduce")/2),j=c.get("fills_over")[k],c.get("data")[k].key&&c.get("data")[k].key.isKey&&(j=c.get("keyFill_over"))):(g=Number(a.get("_w")),h=Number(a.get("_h")),d=Number(a.get("_x"))+Number(c.get("_disInduce")/2),j=c.get("fills")[k],c.get("data")[k].key&&c.get("data")[k].key.isKey&&(j=c.get("keyFill"))),i=f.symbol("square",0,0,g,h).join(" "),a.set("d",i),a.transformX(d),a.set("fill",j)}}),i},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/histogram/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{name:"",org:[],section:[],data:[]},horizontal:{name:"",start:{name:"0"},org:"",data:[]},graphs:{groupCount:1,groupW:59,groups:1,data:[]}}},_vertical:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_disX:{value:6},_disY:{value:10},_dis_line:{value:6},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_horizontalMaxW:{value:0},_del:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:800}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.get("_DataFrameFormat").key.data=String(a.get("_DataFrameFormat").key.indexs).split(","),a.get("_DataFrameFormat").vertical.section=e.section(d.getChildsArr(a.get("_DataFrameFormat").vertical.org)),a.get("_DataFrameFormat").graphs.groupCount=a.get("_DataFrameFormat").vertical.org.length,a.get("_DataFrameFormat").graphs.groups=d.getMaxChildArrLength(a.get("_DataFrameFormat").vertical.org),a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.data};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimGraphs();var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.data};a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a.get("_DataFrameFormat").graphs.groupW=a._getGroupWidth();var b={h:a.get("_verticalGraphsH"),parent:a.get("element"),data:d.delArrUnPop(a.get("_DataFrameFormat").graphs.data,a.get("_del")),groupW:a.get("_DataFrameFormat").graphs.groupW,groupCount:a.get("_DataFrameFormat").graphs.groupCount};a.get("_graphs").init(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a._trimHorizontal();var b={w:a.get("_back").get("w"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),id:"induces",data:d.delArrUnPop(a.get("_DataFrameFormat").graphs.data,a.get("_del")),isInduce:1,groupW:a.get("_DataFrameFormat").graphs.groupW,groupCount:a.get("_DataFrameFormat").graphs.groupCount};a.get("_induces").init(b),a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(){var a=this;a.set("_verticalMaxH",a.get("h")-a.get("_disY")-a.get("_horizontal").get("h")-a.get("_disY")),a.set("_verticalGraphsH",a.get("_verticalMaxH")-a._getVerticalDisY());var b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").vertical.section,e=[];for(var f=0,g=c.length;f<g;f++){var h=-c[f]/b*a.get("_verticalGraphsH");h=isNaN(h)?0:d.ceil(h),e[f]={value:c[f],y:h}}a.get("_DataFrameFormat").vertical.data=e},_getVerticalDisY:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_verticalMaxH")%a.get("_DataFrameFormat").vertical.section.length,d=d>c?c:d,d},_getGroupWidth:function(){var a=this,b=0,c=a.get("_dis_line"),d=2*a.get("_dis_line"),e=c,f=a.get("_graphs").getGroupMinW(),g=a.get("_horizontalMaxW")-c;return g%a.get("_DataFrameFormat").graphs.groups+c>d?e=d:e=c+g%a.get("_DataFrameFormat").graphs.groups,g=a.get("_horizontalMaxW")-e,b=g/a.get("_DataFrameFormat").graphs.groups,b<f&&(b=f),b},_trimHorizontal:function(){var a=this,b=d.delArrUnPop(a.get("_DataFrameFormat").horizontal.org,a.get("_del")),c=[];for(var e=0,f=b.length;e<f;e++)c.push({value:b[e],x:d.ceil(a.get("_graphs").get("groupW")*(e+1))});a.get("_DataFrameFormat").horizontal.data=c},_getHorizontalDisX:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_horizontalMaxW")%a.get("_DataFrameFormat").horizontal.org.length,d=d>c?c:d,d},_trimGraphs:function(){var a=this;a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_disX"));var b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").vertical.org,e=[];for(var f=0,g=c.length;f<g;f++)for(var h=0,i=c[f].length;h<i;h++)e[h]?"":e[h]=[],e[h].push({value:c[f][h],height:c[f][h]/b*a.get("_verticalGraphsH"),key:{isKey:0}});for(var j=0,k=a.get("_DataFrameFormat").key.data.length;j<k;j++)if(e[a.get("_DataFrameFormat").key.data[j]-1])for(var l=0,m=e[a.get("_DataFrameFormat").key.data[j]-1].length;l<m;l++)e[a.get("_DataFrameFormat").key.data[j]-1][l].key.isKey=1;a.get("_DataFrameFormat").graphs.data=e;if(a.get("_DataFrameFormat").graphs.groups*a.get("_graphs").getGroupMinW()>a.get("_horizontalMaxW")-a.get("_dis_line")){a.set("_del",d.ceil((a.get("_DataFrameFormat").graphs.groups*a.get("_graphs").getGroupMinW()-(a.get("_horizontalMaxW")-a.get("_dis_line")))/a.get("_graphs").getGroupMinW()));var e=d.delArrUnPop(a.get("_DataFrameFormat").graphs.data,a.get("_del"));a.get("_DataFrameFormat").graphs.groups=e.length}},_getGraphsDisX:function(){var a=this;return a.get("_horizontalGraphsW")/(a.get("_DataFrameFormat").horizontal.org.length-1)},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=a.id;b+1>=this.get("_DataFrameFormat").vertical.org[c].length-this.get("_del")&&b+1<this.get("_DataFrameFormat").vertical.org[c].length&&(b=b+this.get("_del"));var d=Number(a.cx)+Number(this.get("_graphs").get("element").get("_x")),e=Number(this.get("_graphs").get("element").get("_y"))-Number(a.h),f=a.fill_over,g=[];g[0]=[];var h={};h.content=this.get("_DataFrameFormat").vertical.name,g[0].push(h),h={},h.content=this.get("_DataFrameFormat").graphs.data[b][c].value,g[0].push(h);var h={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:d,y:e,data:g,base_fill:f},hLine:{is:1,x:d,y:this.get("_graphs").get("element").get("_y")}},i=this.get("_DataFrameFormat").horizontal.org[b-1]?this.get("_DataFrameFormat").horizontal.org[b-1]:"";i=b==0?this.get("_DataFrameFormat").horizontal.start.name:i;var j=this.get("_DataFrameFormat").horizontal.org[b],k=this.get("_DataFrameFormat").horizontal.name+i+" - "+j;h.hInfo={is:1,x:d,y:this.get("_graphs").get("element").get("_y"),content:k},this.get("_infos").update(h),this.get("_graphs").induce({index:a.index,id:a.id},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.key.indexs=b.key.indexs,a.vertical.name=b.vertical.name,a.vertical.org=b.vertical.data,a.horizontal.name=b.horizontal.name,a.horizontal.org=b.horizontal.data,a.horizontal.start.name=b.horizontal.start.name?b.horizontal.start.name:a.horizontal.start.name,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/e/integrate/control/configparse",function(a,b,c,d,e){function g(){var a=this;g.superclass.constructor.apply(a,arguments)}var f=c.all;return g.ATTRS={o:{value:{v:"1.0",fills:{normals:["#458AE6"],overs:["#135EBF"]},right:{}}}},a.extend(g,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),f=String(b),g=new DOMParser,h=g.parseFromString(f,"text/xml"),i=h.getElementsByTagName("data")[0];d.v=i.getAttribute("v")&&String(i.getAttribute("v"))?String(i.getAttribute("v")):d.v;var j=(new XMLSerializer).serializeToString(i.getElementsByTagName("line")[0]);return j=j.replace("<line","<data"),j=j.replace("line>","data>"),d.right=(new e).parse(j),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b}}),g},{requires:["base","node","../../histogram/control/configparse","../../line/control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/integrate/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},vertical:{names:[],data:[]},horizontal:{data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml");return d=c._getObject(g.getElementsByTagName("data")),d},_getObject:function(b){var c=this,d=a.clone(c.get("o")),e;for(var f=0,g=b.length;f<g;f++){var h=b[f],i=h.getElementsByTagName("indexAxis")[0],j=h.getElementsByTagName("sets")[0];d.horizontal.data=d.horizontal.data.length>0?d.horizontal.data:i.getAttribute("labels")?String(i.getAttribute("labels")).split(","):[],d.vertical.names.push(String(j.getAttribute("name")).split(",")),d.vertical.data.push(String(j.getElementsByTagName("set")[0].getAttribute("values")).split(","))}return d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/integrate/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new g).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/integrate/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/integrate/view/graphs",function(a,b,c,d,e,f,g,h,i){function j(){var a=this;j.superclass.constructor.apply(a,arguments),a.init()}return j.ATTRS={w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:null},hasRight:{value:1},groupW:{value:59},groupCount:{value:1},data_right:{value:[]},radius:{value:3},disX:{value:0},_index:{value:-1},_id:{value:0},_histogram:{value:null},_line:{value:null},_induce:{value:null}},a.extend(j,b,{init:function(){var a=this;a.set("_histogram",new h),a.set("_line",new i),a.set("_induce",new e("g")),a.get("_induce").set("class","induce")},induce:function(a,b){var c=this;c.get("_histogram").induce(a,b)},widget:function(){var a=this;j.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element);var b={h:a.get("h"),parent:a.get("element"),data:a.get("data"),groupCount:a.get("groupCount"),groupW:a.get("groupW")};a.get("_histogram").init(b),a._layout()},widget_right:function(){var a=this;j.superclass.constructor.apply(a,arguments);var b=a.get("config").right,c={w:a.get("w"),h:a.get("h"),parent:a.get("element"),data:a.get("data_right"),node:b.node,area:b.area,shape:b.shape,fills:b.fills.normals,fills_over:b.fills.overs};a.get("_line").init(c),a._layout()},getGroupMinW:function(){var a=this;return a.get("_histogram").getGroupMinW()},getInfos:function(){var a=this;return a.get("_histogram").getInfos()},_layout:function(){var a=this;a.get("isInduce")==1&&(a.get("_histogram").get("element")&&a.get("_histogram").get("element").set("visibility","hidden"),a.get("_line")&&a.get("_line").get("element")&&a.get("_line").get("element").set("visibility","hidden"));if(a.get("hasRight")==0||a.get("hasRight")==1&&a.get("_line")&&a.get("_line").get("element")){a.get("element").appendChild(a.get("_induce").element);var b=new e("path"),c=a.get("w"),g=a.get("h"),h=f.symbol("square",0,0,c,g).join(" ");b.attr({_w:c,_h:g,d:h,opacity:d.N00001}),a.get("_induce").appendChild(b.element),a.get("_induce").transformY(-a.get("h")),a.get("_induce").element.addEventListener("mousemove",function(b){a._moveHandler(b)},!1),a.get("_induce").element.addEventListener("mouseout",function(b){a._outHandler(b)},!1)}},_moveHandler:function(a){var b=this,c=b._globalToLocal({x:a.layerX,y:a.layerY}),e=c.x,f=c.y,h=parseInt(e/b.get("disX"));if(h>=b.get("data").length)return;var i={},j={};b.get("hasRight")&&(i=b.get("_line").getNodeInfoAt(0,h)),j=b.get("_histogram").getNodeInfoAt(h,0);var k=[],l=1;b.get("hasRight")&&(k=[i.y,-j.h],l=d.disMinATArr(f,k));var c={layout_order:2,histogram:j,line:i};l==0&&(c.layout_order=1);if(l!=b.get("_index")||h!=b.get("_id"))b.set("_index",l),b.get("element").fire(g.OVER,c);b.set("_id",h)},_outHandler:function(a){var b=this,c={};c.index=b.get("_id"),c.id=0,b.get("element").fire(g.OUT,c),b.set("_index",-1),b.set("_id",0)},_globalToLocal:function(a){var b=this,c={};return c.x=a.x-b.get("x"),c.y=a.y-b.get("y"),c}}),j},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../model/eventtype","../../histogram/view/graphs","../../line/view/graphs"]}),KISSY.add("brix/gallery/charts/js/e/integrate/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{names:[],org:[],sections:[],datas:[]},horizontal:{name:"",org:"",data:[]},graphs:{groupCount:1,groupW:59,groups:1,datas:[],infos:[],info:[]}}},_vertical:{value:null},_vertical_right:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_hasRight:{value:0},_disX:{value:6},_disY:{value:10},_dis_line:{value:6},_dis_graphs:{value:0},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_verticalDrawH:{value:0},_horizontalMaxW:{value:0},_del:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:100},_induceIndex:{value:-1}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.set("_hasRight",a.get("_DataFrameFormat").vertical.org.length==2?1:0),a.get("_DataFrameFormat").vertical.sections.push(e.section(a.get("_DataFrameFormat").vertical.org[0])),a.get("_hasRight")==1&&a.get("_DataFrameFormat").vertical.sections.push(e.section(a.get("_DataFrameFormat").vertical.org[1])),a.get("_DataFrameFormat").graphs.groupCount=1,a.get("_DataFrameFormat").graphs.groups=a.get("_DataFrameFormat").vertical.org[0].length,a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_vertical_right",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.get("_graphs").set("groupCount",a.get("_DataFrameFormat").graphs.groupCount),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.datas[0],font_fill:a.get("config").fills.normals[0],line_fill:a.get("config").fills.normals[0]};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));if(a.get("_hasRight")==1){a._trimVertical(1);var b={parent:a.get("element"),id:"vertical_right",data:a.get("_DataFrameFormat").vertical.datas[1],mode:2,font_fill:a.get("config").right.fills.normals[0],line_fill:a.get("config").right.fills.normals[0]};a.get("_vertical_right").init(b),a.get("_vertical_right").get("element").transformXY(a.get("w")-a.get("_disX")-a.get("_vertical_right").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"))}a._trimGraphs();var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.datas[0],h_ver:a.get("_verticalMaxH")};a.get("_hasRight")==1&&(b.data_ver=[{x:a.get("_horizontalMaxW")}]),a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a.get("_DataFrameFormat").graphs.groupW=a._getGroupWidth();var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),config:a.get("config"),parent:a.get("element"),data:d.delArrUnPop(a.get("_DataFrameFormat").graphs.datas[0],a.get("_del")),hasRight:a.get("_hasRight"),groupW:a.get("_DataFrameFormat").graphs.groupW};a.get("_graphs").widget(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a.get("_DataFrameFormat").graphs.infos=a.get("_graphs").getInfos(),a.get("_DataFrameFormat").graphs.info=d.getChildsArr(a.get("_DataFrameFormat").graphs.infos);if(a.get("_hasRight")==1){a._trimGraphsRight(1);var b={data_right:a.get("_DataFrameFormat").graphs.datas[1]};a.get("_graphs").widget_right(b)}a._trimHorizontal();var b={w:a.get("_horizontalMaxW"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_hasRight")==1&&(b.dis_right=a.get("_horizontalMaxW")+10),a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),config:a.get("config"),parent:a.get("element"),id:"induces",data:d.delArrUnPop(a.get("_DataFrameFormat").graphs.datas[0],a.get("_del")),isInduce:1,hasRight:a.get("_hasRight"),disX:a._getGraphsDisX(),groupW:a.get("_DataFrameFormat").graphs.groupW};a.get("_induces").widget(b);if(a.get("_hasRight")==1){var b={data_right:a.get("_DataFrameFormat").graphs.datas[1]};a.get("_induces").widget_right(b)}a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(a){var b=this,a=a?a:0;b.set("_verticalMaxH",b.get("h")-b.get("_disY")-b.get("_horizontal").get("h")-b.get("_disY")),b.set("_verticalGraphsH",b.get("_verticalMaxH")-b._getVerticalDisY(a)),b.set("_verticalDrawH",b.get("_verticalGraphsH")-b.get("_dis_graphs"));var c=b.get("_DataFrameFormat").vertical.sections[a][b.get("_DataFrameFormat").vertical.sections[a].length-1],e=b.get("_DataFrameFormat").vertical.sections[a],f=[];for(var g=0,h=e.length;g<h;g++){var i=-b.get("_dis_graphs")-e[g]/c*b.get("_verticalDrawH");i=isNaN(i)?0:d.ceil(i),f[g]={value:e[g],y:i}}b.get("_DataFrameFormat").vertical.datas[a]=f},_getVerticalDisY:function(a){var b=this,a=a?a:0,c=b.get("_dis_line"),d=2*b.get("_dis_line"),e=c;return e=c+b.get("_verticalMaxH")%b.get("_DataFrameFormat").vertical.sections[a].length,e=e>d?d:e,e},_getGroupWidth:function(){var a=this,b=0,c=0,d=b,e=2*b,f=d,g=a.get("_graphs").getGroupMinW(),h=a.get("_horizontalMaxW")-d;return h%a.get("_DataFrameFormat").graphs.groups+d>e?f=e:f=d+h%a.get("_DataFrameFormat").graphs.groups,h=a.get("_horizontalMaxW")-f,c=h/a.get("_DataFrameFormat").graphs.groups,c<g&&(c=g),c},_trimHorizontal:function(){var a=this,b=d.delArrUnPop(a.get("_DataFrameFormat").horizontal.org,a.get("_del")),c=[];for(var e=0,f=b.length;e<f;e++)c.push({value:b[e],x:a.get("_DataFrameFormat").graphs.info[e].cx});a.get("_DataFrameFormat").horizontal.data=c},_trimGraphs:function(a){var b=this,a=a?a:0;b.get("_hasRight")==1?b.set("_horizontalMaxW",b.get("w")-b.get("_disX")-b.get("_vertical").get("w")-b.get("_vertical_right").get("w")-b.get("_disX")):b.set("_horizontalMaxW",b.get("w")-b.get("_disX")-b.get("_vertical").get("w")-b.get("_disX"));var c=b.get("_DataFrameFormat").vertical.sections[a][b.get("_DataFrameFormat").vertical.sections[a].length-1],e=b.get("_DataFrameFormat").vertical.org[a],f=[];for(var g=0,h=e.length;g<h;g++){var i=e[g]/c*b.get("_verticalGraphsH");f[g]?"":f[g]=[],f[g][0]={value:e[g],height:i}}b.get("_DataFrameFormat").graphs.datas[0]=f;if(b.get("_DataFrameFormat").graphs.groups*b.get("_graphs").getGroupMinW()>b.get("_horizontalMaxW")-b.get("_dis_line")){b.set("_del",d.ceil((b.get("_DataFrameFormat").graphs.groups*b.get("_graphs").getGroupMinW()-(b.get("_horizontalMaxW")-b.get("_dis_line")))/b.get("_graphs").getGroupMinW()));var f=d.delArrUnPop(b.get("_DataFrameFormat").graphs.datas[0],b.get("_del"));b.get("_DataFrameFormat").graphs.groups=f.length}},_trimGraphsRight:function(a){var b=this,a=a?a:0,c=b.get("_DataFrameFormat").vertical.sections[a][b.get("_DataFrameFormat").vertical.sections[a].length-1],e=d.delArrUnPop(b.get("_DataFrameFormat").vertical.org[a],b.get("_del")),f=[];f[0]=[];for(var g=0,h=e.length;g<h;g++){var i=-e[g]/c*b.get("_verticalGraphsH");i=isNaN(i)?0:d.ceil(i),f[0][g]={value:e[g],x:b.get("_DataFrameFormat").graphs.info[g].cx,y:i}}b.get("_DataFrameFormat").graphs.datas[1]=f},_getGraphsDisX:function(){var a=this;return a.get("_horizontalMaxW")/a.get("_DataFrameFormat").horizontal.data.length},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.histogram.index,c=a.histogram.id;b+1>=this.get("_DataFrameFormat").vertical.org[c].length-this.get("_del")&&b+1<this.get("_DataFrameFormat").vertical.org[c].length&&(b=b+this.get("_del"));var e=[a.histogram.fill_over,a.line.fill_over],f=[];for(var g=0,h=this.get("_DataFrameFormat").vertical.names.length;g<h;g++){f[g]=[];var i={};i.content=this.get("_DataFrameFormat").vertical.names[g],i.fill=e[g],i.font="\u5fae\u8f6f\u96c5\u9ed1",i.ver_align=3,f[g].push(i),i={},i.content=this.get("_DataFrameFormat").vertical.org[g][b],i.fill=e[g],i.font="Tahoma",i.ver_align=1,f[g].push(i)}a.layout_order==1&&d.unshiftIndexArray(f,1);var i={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:Number(a.histogram.cx)+Number(this.get("_graphs").get("element").get("_x")),y:Number(this.get("_graphs").get("element").get("_y"))-Number(a.histogram.h),data:f,base_fill:a.histogram.fill_over},hLine:{is:1,x:Number(a.histogram.cx)+Number(this.get("_graphs").get("element").get("_x")),y:this.get("_graphs").get("element").get("_y")}};a.layout_order==1&&(i.info.x=Number(a.line.x)+Number(this.get("_graphs").get("element").get("_x")),i.info.y=Number(a.line.y)+Number(this.get("_graphs").get("element").get("_y"))-7);var j=this.get("_DataFrameFormat").horizontal.org[b],k=this.get("_DataFrameFormat").horizontal.name+j;i.hInfo={is:1,x:Number(a.histogram.cx)+Number(this.get("_graphs").get("element").get("_x")),y:this.get("_graphs").get("element").get("_y"),content:k};var l=[];l[0]=a.line,l[0].x=Number(a.line.x)+Number(this.get("_graphs").get("element").get("_x")),l[0].y=Number(a.line.y)+Number(this.get("_graphs").get("element").get("_y")),i.other={is:1,os:l},this.get("_infos").update(i),this.get("_induceIndex")!=-1&&this.get("_graphs").induce({index:this.get("_induceIndex"),id:c},!1),this.set("_induceIndex",a.histogram.index),this.get("_graphs").induce({index:a.histogram.index,id:c},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1),this.set("_induceIndex",-1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.vertical.names=b.vertical.names,a.vertical.org=b.vertical.data,a.horizontal.org=b.horizontal.data,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/e/line/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0",node:0,shape:0,area:0,fills:{normals:["0x458AE6","0x39BCC0","0x5BCB8A","0x94CC5C","0xC3CC5C","0xE6B522","0xE68422"],overs:["0x135EBF","0x2E9599","0x36B26A","0x78A64B","0x9CA632","0xBF9E39","0xBF7C39"]},circle:{mode:0,normal:{radius:3,thickness:2,fill:"0xFFFFFF"},over:{min_radius:4,max_radius:7,max_thickness:2}}}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0];d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,d.node=h.getAttribute("node")&&String(h.getAttribute("node"))?Number(h.getAttribute("node")):d.node,d.shape=h.getAttribute("shape")&&String(h.getAttribute("shape"))?Number(h.getAttribute("shape")):d.shape,d.area=h.getAttribute("area")&&String(h.getAttribute("area"))?Number(h.getAttribute("area")):d.area;var i=g.getElementsByTagName("colors")[0];i&&(d.fills.normals=i.getAttribute("normals")&&String(i.getAttribute("normals"))?String(i.getAttribute("normals")).split(","):d.fills.normals,d.fills.overs=i.getAttribute("overs")&&String(i.getAttribute("overs"))?String(i.getAttribute("overs")).split(","):d.fills.overs),d.fills.normals=c._trimFills(d.fills.normals),d.fills.overs=c._trimFills(d.fills.overs);var j=g.getElementsByTagName("node")[0];if(j){d.circle.mode=j.getAttribute("mode")&&String(j.getAttribute("normals"))?Number(j.getAttribute("mode")):d.circle.mode;var k=j.getElementsByTagName("normal")[0];k&&(d.circle.normal.radius=k.getAttribute("radius")&&String(k.getAttribute("radius"))?k.getAttribute("radius"):d.circle.normal.radius,d.circle.normal.thickness=k.getAttribute("thickness")&&String(k.getAttribute("thickness"))?k.getAttribute("thickness"):d.circle.normal.thickness,d.circle.normal.fill=k.getAttribute("color")&&String(k.getAttribute("color"))?String(k.getAttribute("fill")):d.circle.normal.fill);var l=j.getElementsByTagName("over")[0];l&&(d.circle.over.min_radius=l.getAttribute("min_radius")&&String(l.getAttribute("min_radius"))?l.getAttribute("min_radius"):d.circle.over.min_radius,d.circle.over.max_radius=l.getAttribute("max_radius")&&String(l.getAttribute("max_radius"))?l.getAttribute("max_radius"):d.circle.over.max_radius,d.circle.over.max_thickness=l.getAttribute("max_thickness")&&String(l.getAttribute("max_thickness"))?l.getAttribute("max_thickness"):d.circle.over.max_thickness)}return d.circle.normal.fill=c._trimFill(d.circle.normal.fill),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b},_trimFill:function(a){var b=a.replace("0x","#");return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},vertical:{name:"",names:[],data:[],no_nodes:[]},horizontal:{name:"",data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("indexAxis")[0],i=h.getElementsByTagName("key")[0],j=g.getElementsByTagName("sets")[0];return d.key.indexs=i&&String(i.getAttribute("indexs"))?String(i.getAttribute("indexs")):d.key.indexs,d.vertical.name=j.getAttribute("name")&&String(j.getAttribute("name"))?String(j.getAttribute("name")):d.vertical.name,d.vertical.names=c._getNames(j.getElementsByTagName("set")),d.vertical.data=c._getItems(j.getElementsByTagName("set")),d.horizontal.name=h.getAttribute("name")&&String(h.getAttribute("name"))?String(h.getAttribute("name")):d.horizontal.name,d.horizontal.data=h.getAttribute("labels")?String(h.getAttribute("labels")).split(","):d.horizontal.data,d},_getItems:function(a){var b=[],c;for(var d=0,e=a.length;d<e;d++)c=a[d],String(c.getAttribute("values"))&&b.push(String(c.getAttribute("values")).split(","));return b},_getNames:function(a){var b=[],c;for(var d=0,e=a.length;d<e;d++)c=a[d],b[d]=c.getAttribute("name")&&String(c.getAttribute("name"))?String(c.getAttribute("name")):"";return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new g).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/line/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/line/view/graphs",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments)}return i.ATTRS={x:{value:0},y:{value:0},w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:0},disX:{value:[]},isEventListener:{value:1},node:{value:0},area:{value:0},shape:{value:1},fills:{value:[]},fills_over:{value:[]},circle:{value:{}},_groupArr:{value:[]},_index:{value:0},_id:{value:-1},_nodesInfoList:{value:[]},_nodesYList:{value:[]},_groups:{value:null},_areas:{value:null},_induce:{value:null}},a.extend(i,b,{init:function(){var a=this;i.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},induce:function(a,b){var c=this;c.get("_groupArr")[c.get("_index")].induce(!1),c.set("_index",a.index),c.get("_groupArr")[a.index].induce(b)},getNodeInfoAt:function(a,b){var c=this;return c.get("_groupArr")[a].getNodeInfoAt(b)},_widget:function(){var a=this;a.set("_areas",new e("g")),a.get("_areas").set("class","areas"),a.get("element").appendChild(a.get("_areas").element),a.get("isInduce")&&a.get("_areas").set("visibility","hidden"),a.set("_groups",new e("g")),a.get("_groups").set("class","groups"),a.get("element").appendChild(a.get("_groups").element),a.get("isInduce")&&a.get("_groups").set("visibility","hidden"),a.set("_induce",new e("path")),a.get("_induce").set("class","induce");var b=f.symbol("square",0,0,a.get("w"),a.get("h")).join(" ");a.get("_induce").attr({_w:a.get("w"),_h:a.get("h"),d:b,opacity:d.N00001}),a.get("element").appendChild(a.get("_induce").element)},_layout:function(){var a=this;a.get("_induce").transformY(-a.get("h"));for(var b=0,c=a.get("data").length;b<c;b++){var d=new g;a.get("_groupArr").push(d);var e={index:b,parent:a.get("_groups"),data:a.get("data")[b],node:a.get("node"),shape:a.get("shape"),fill:a.get("fills")[b],fill_over:a.get("fills_over")[b]};a.get("circle").radius&&(e.circle?"":e.circle={},e.circle.radius=a.get("circle").radius),a.get("circle").thickness&&(e.circle?"":e.circle={},e.circle.thickness=a.get("circle").thickness),a.get("circle").fill&&(e.circle?"":e.circle={},e.circle.fill=a.get("circle").fill),d.init(e)}if(a.get("area"))for(var b=0,c=a.get("data").length;b<c;b++){var f=new g,e={index:b,parent:a.get("_areas"),data:a.get("data")[b],area:a.get("area"),shape:a.get("shape"),fill:a.get("fills")[b],fill_over:a.get("fills_over")[b]};f.init(e)}a.get("isEventListener")&&(a.get("_induce").element.addEventListener("mousemove",function(b){a._moveHandler(b)},!1),a.get("_induce").element.addEventListener("mouseout",function(b){a._outHandler(b)},!1))},_moveHandler:function(b){var c=this,e=c._globalToLocal({x:b.layerX,y:b.layerY}),f=e.x,g=e.y,i=f/(c.get("disX")/2);i=i%2==0?i:i+1;var j=parseInt(i/2);if(j>=c.get("data")[0].length)return;if(j!=c.get("_id")){c.set("_nodesInfoList",[]),c.set("_nodesYList",[]);for(var k=0,l=c.get("_groupArr").length;k<l;k++){var e=c.get("_groupArr")[k].getNodeInfoAt(j);c.get("_nodesInfoList").push(e),c.get("_nodesYList").push(e.y)}}var m=d.disMinATArr(g,c.get("_nodesYList"));if(m!=c.get("_index")||j!=c.get("_id")){c.set("_index",m);var e=c.get("_nodesInfoList")[c.get("_index")],n=a.clone(c.get("_nodesInfoList"));n.splice(c.get("_index"),1),e.other=n,c.get("element").fire(h.OVER,e)}c.set("_id",j)},_outHandler:function(a){var b=this,c={};c.index=b.get("_index"),c.id=b.get("_id"),b.get("element").fire(h.OUT,c),b.set("_index",0),b.set("_id",-1)},_globalToLocal:function(a){var b=this,c={};return c.x=a.x-b.get("x"),c.y=a.y-b.get("y"),c}}),i},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","./group","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/line/view/group",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={index:{value:0},data:{value:[]},element:{value:null},node:{value:0},area:{value:0},shape:{value:0},line:{value:1},fill:{value:"#666666"},fill_over:{value:"#000000"},circle:{value:{radius:3,thickness:2,fill:"#FFFFFF"}},_circlesArr:{value:[]},_lines:{value:null},_circles:{value:null},_linesCrude:{value:null},_circlesCrude:{value:null},_fill:{value:null},_line_thickness:{value:2},_line_thickness_over:{value:3},_linearGradientIndex:{value:"linearGradient"}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("parent").appendChild(a.get("element").element),a.get("area")&&(a.set("_linearGradientIndex",a.get("_linearGradientIndex")+"_"+a.get("index")),a._linearGradient({id:a.get("_linearGradientIndex"),top_fill:a.get("fill"),top_opacity:.25,down_fill:a.get("fill"),down_opacity:.05})),a._widget()},induce:function(a){var b=this;b._induce(a)},getNodeInfoAt:function(a){var b=this,c={},d=b.get("_circlesArr")[a];return d?(c.index=b.get("index"),c.id=Number(d.get("_index")),c.x=Number(d.get("_x")),c.y=Number(d.get("_y")),c.fill=b.get("fill"),c.fill_over=b.get("fill_over"),c):""},_widget:function(){var a=this;if(a.get("area")){a.set("_fill",new e("g")),a.get("_fill").set("id","J_fill"),a.get("element").appendChild(a.get("_fill").element);var b,c={lines:a.get("data"),stroke:"none",fill:"url(#"+a.get("_linearGradientIndex")+")"};a.get("shape")==0?b=a._fillLine(c):b=a._fillCurveLine(c),a.get("_fill").element.appendChild(b.element)}if(a.get("line")){a.set("_lines",new e("g")),a.get("_lines").set("class","lines"),a.get("element").appendChild(a.get("_lines").element),a.set("_circles",new e("g")),a.get("_circles").set("class","circles"),a.get("element").appendChild(a.get("_circles").element),a.set("_linesCrude",new e("g")),a.get("_circles").set("class","linesCrude"),a.get("element").appendChild(a.get("_linesCrude").element),a.set("_circlesCrude",new e("g")),a.get("_circles").set("class","circlesCrude"),a.get("element").appendChild(a.get("_circlesCrude").element);var d;a.get("shape")==0?d=g.lines({lines:a.get("data"),stroke:a.get("fill"),stroke_width:a.get("_line_thickness")}):d=g.curveLines({lines:a.get("data"),stroke:a.get("fill"),stroke_width:a.get("_line_thickness")}),a.get("_lines").element.appendChild(d.element),a.get("node")==0&&a.get("_circles").set("visibility","hidden");var f=document.createDocumentFragment();for(var h=0,i=a.get("data").length;h<i;h++){var j=g.circle({r:a.get("circle").radius,fill:a.get("circle").fill,stroke:a.get("fill"),stroke_width:a.get("circle").thickness}),k=a.get("data")[h].x,l=a.get("data")[h].y;j.transformXY(k,l),j.set("_index",h),j.set("_x",k),j.set("_y",l),f.appendChild(j.element),a.get("_circlesArr").push(j),a.get("data")[h].no_node&&j.set("visibility","hidden")}a.get("_circles").element.appendChild(f),a.get("_linesCrude").set("visibility","hidden");var d;a.get("shape")==0?d=g.lines({lines:a.get("data"),stroke:a.get("fill_over"),stroke_width:a.get("_line_thickness_over")}):d=g.curveLines({lines:a.get("data"),stroke:a.get("fill_over"),stroke_width:a.get("_line_thickness_over")}),a.get("_linesCrude").element.appendChild(d.element),a.get("_circlesCrude").set("visibility","hidden");var f=document.createDocumentFragment();for(var h=0,i=a.get("data").length;h<i;h++){var j=g.circle({r:a.get("circle").radius,fill:a.get("circle").fill,stroke:a.get("fill_over"),stroke_width:a.get("circle").thickness});j.transformXY(a.get("data")[h].x,a.get("data")[h].y),f.appendChild(j.element),a.get("data")[h].no_node&&j.set("visibility","hidden")}a.get("_circlesCrude").element.appendChild(f)}},_induce:function(a){var b=this,c;a?c="visible":c="hidden",b.get("_linesCrude").set("visibility",c),b.get("node")==1&&b.get("_circlesCrude").set("visibility",c)},_fillLine:function(a){var b=this,a=a?a:{},c=a.lines,d=a.fill?a.fill:"none",g=a.stroke?a.stroke:"#000000",h=a.stroke_width?a.stroke_width:1,i=f.symbol("lines","","","","",c);i+=" "+f.actions.L+" "+c[c.length-1].x+" "+0,i+=" "+f.actions.L+" "+Number(c[0].x)+" "+0,i+=" "+f.actions.L+" "+Number(c[0].x)+" "+Number(c[0].y);var j=new e("path");return j.attr({d:i,fill:d,stroke:g,"stroke-width":h}),j},_fillCurveLine:function(a){var b=this,a=a?a:{},c=a.lines,d=a.fill?a.fill:"none",g=a.stroke?a.stroke:"#000000",h=a.stroke_width?a.stroke_width:1,i=f.symbol("curveLines","","","","",c);i+=" "+f.actions.L+" "+c[c.length-1].x+" "+0,i+=" "+f.actions.L+" "+Number(c[0].x)+" "+0,i+=" "+f.actions.L+" "+Number(c[0].x)+" "+Number(c[0].y);var j=new e("path");return j.attr({d:i,fill:d,stroke:g,"stroke-width":h}),j},_linearGradient:function(a){var b=this,a=a?a:{},c=a.id?a.id:"linearGradient",d=a.top_fill?a.top_fill:"#000000",f=a.top_opacity?a.top_opacity:1,g=a.down_fill?a.down_fill:"#000000",h=a.down_opacity?a.down_opacity:1,i=new e("defs");b.get("element").appendChild(i.element);var j=new e("linearGradient");j.attr({id:c,x1:"0%",y1:"0%",x2:"0%",y2:"100%"}),i.appendChild(j.element);var k=new e("stop");k.attr({"stop-color":d,"stop-opacity":f,offset:"0"}),j.appendChild(k.element);var k=new e("stop");k.attr({"stop-color":g,"stop-opacity":h,offset:"1"}),j.appendChild(k.element)}}),h},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics"]}),KISSY.add("brix/gallery/charts/js/e/line/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{name:"",names:[],org:[],section:[],data:[]},horizontal:{name:"",org:"",data:[]},graphs:{disX:59,data:[]}}},_vertical:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_disX:{value:6},_disY:{value:10},_dis_line:{value:6},_dis_graphs:{value:0},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_verticalDrawH:{value:0},_horizontalMaxW:{value:0},_horizontalGraphsW:{value:0},_horizontalDrawW:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:100}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.get("_DataFrameFormat").key.data=String(a.get("_DataFrameFormat").key.indexs).split(","),a.get("_DataFrameFormat").vertical.section=e.section(d.getChildsArr(a.get("_DataFrameFormat").vertical.org)),a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.data};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimHorizontal();var b={w:a.get("_horizontalMaxW"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimGraphs();var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.data,data_ver:a.get("_horizontal").getShowData(),h_ver:a.get("_verticalGraphsH")};a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalGraphsW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),data:a.get("_DataFrameFormat").graphs.data,disX:a.get("_DataFrameFormat").graphs.disX,node:a.get("config").node,area:a.get("config").area,shape:a.get("config").shape,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs,circle:a.get("config").circle.normal};a.get("_graphs").init(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").graphs.data,isInduce:1,disX:a.get("_DataFrameFormat").graphs.disX,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs};a.get("_induces").init(b),a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(){var a=this;a.set("_verticalMaxH",a.get("h")-a.get("_disY")-a.get("_horizontal").get("h")-a.get("_disY")),a.set("_verticalGraphsH",a.get("_verticalMaxH")-a._getVerticalDisY()),a.set("_verticalDrawH",a.get("_verticalGraphsH")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").vertical.section,e=[];for(var f=0,g=c.length;f<g;f++){var h=-a.get("_dis_graphs")-c[f]/b*a.get("_verticalDrawH");h=isNaN(h)?0:d.ceil(h),e[f]={value:c[f],y:h}}a.get("_DataFrameFormat").vertical.data=e},_getVerticalDisY:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_verticalMaxH")%a.get("_DataFrameFormat").vertical.section.length,d=d>c?c:d,d},_trimHorizontal:function(){var a=this;a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_disX")),a.set("_horizontalGraphsW",a.get("_horizontalMaxW")-a._getHorizontalDisX()),a.set("_horizontalDrawW",a.get("_horizontalGraphsW")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").horizontal.org.length,c=a.get("_DataFrameFormat").horizontal.org,e=[];for(var f=0,g=c.length;f<g;f++)e.push({value:c[f],x:d.ceil(a.get("_dis_graphs")+f/(b-1)*a.get("_horizontalDrawW"))});a.get("_DataFrameFormat").horizontal.data=e},_getHorizontalDisX:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_horizontalMaxW")%a.get("_DataFrameFormat").horizontal.org.length,d=d>c?c:d,d},_trimGraphs:function(){var a=this,b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").horizontal.org.length,d=a.get("_DataFrameFormat").vertical.org,e=[],f=a._getNoNodes();for(var g=0,h=d.length;g<h;g++)for(var i=0,j=d[g].length;i<j;i++)e[g]?"":e[g]=[],e[g][i]={value:d[g][i],x:a.get("_dis_graphs")+i/(c-1)*a.get("_horizontalDrawW"),y:-a.get("_dis_graphs")-d[g][i]/b*a.get("_verticalDrawH")},f[g]&&f[g][i]&&(e[g][i].no_node=1);a.get("_DataFrameFormat").graphs.data=e,a.get("_DataFrameFormat").graphs.disX=a._getGraphsDisX()},_getGraphsDisX:function(){var a=this;return a.get("_horizontalGraphsW")/(a.get("_DataFrameFormat").horizontal.org.length-1)},_getNoNodes:function(){var a=this,b=[],c=a.get("config").circle.mode,d=a.get("_DataFrameFormat").vertical.org;if(c!=0&&c==1)for(var e=0,f=d.length;e<f;e++){b[e]?"":b[e]=[];var g;for(var h=0,i=d[e].length;h<i;h++)g==d[e][h]&&(b[e][h]=1),g=d[e][h],d[e][h+1]?g!=d[e][h+1]&&(b[e][h]=0):b[e][h]=0}return a.get("_DataFrameFormat").vertical.no_nodes=b,b},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=a.id,d=Number(a.x)+Number(this.get("_graphs").get("element").get("_x")),e=Number(a.y)+Number(this.get("_graphs").get("element").get("_y")),f=a.fill_over,g=[];g[0]=[];var h={};h.content=this.get("_DataFrameFormat").vertical.names[b]?this.get("_DataFrameFormat").vertical.names[b]:this.get("_DataFrameFormat").vertical.name,g[0].push(h),h={},h.content=this.get("_DataFrameFormat").graphs.data[b][c].value,g[0].push(h);var h={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:d,y:e,data:g,base_fill:f},light:{is:1,x:d,y:e,fill:f,min_radius:this.get("config").circle.over.min_radius,max_radius:this.get("config").circle.over.max_radius,max_thickness:this.get("config").circle.over.max_thickness},hLine:{is:1,x:d,y:this.get("_graphs").get("element").get("_y")}},i=this.get("_DataFrameFormat").horizontal.org[c],j=this.get("_DataFrameFormat").horizontal.name+i;h.hInfo={is:1,x:d,y:this.get("_graphs").get("element").get("_y"),content:j},this.get("_infos").update(h),this.get("_graphs").induce({index:a.index,id:a.id},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.key.indexs=b.key.indexs,a.vertical.name=b.vertical.name,a.vertical.names=b.vertical.names,a.vertical.org=b.vertical.data,a.vertical.no_nodes=b.vertical.no_nodes,a.horizontal.name=b.horizontal.name,a.horizontal.org=b.horizontal.data,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/e/line2/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0",node:0,shape:0,area:0,fills:{normals:["0x458AE6","0xE68422","0x5BCB8A","0x94CC5C","0xC3CC5C","0xE6B522","0xE68422"],overs:["0x135EBF","0xBF7C39","0x36B26A","0x78A64B","0x9CA632","0xBF9E39","0xBF7C39"]}}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0];d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,d.node=h.getAttribute("node")&&String(h.getAttribute("node"))?Number(h.getAttribute("node")):d.node,d.shape=h.getAttribute("shape")&&String(h.getAttribute("shape"))?Number(h.getAttribute("shape")):d.shape,d.area=h.getAttribute("area")&&String(h.getAttribute("area"))?Number(h.getAttribute("area")):d.area;var i=g.getElementsByTagName("colors")[0];return i&&(d.fills.normals=i.getAttribute("normals")&&String(i.getAttribute("normals"))?String(i.getAttribute("normals")).split(","):d.fills.normals,d.fills.overs=i.getAttribute("overs")&&String(i.getAttribute("overs"))?String(i.getAttribute("overs")).split(","):d.fills.overs),d.fills.normals=c._trimFills(d.fills.normals),d.fills.overs=c._trimFills(d.fills.overs),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line2/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},vertical:{names:[],data:[]},horizontal:{data:[]},info:{content:{title:{name:"",fill:"#505050"}}}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml");return d=c._getObject(g.getElementsByTagName("data")),d.info.content.title.name=String(g.getElementsByTagName("info")[0].getElementsByTagName("content")[0].getElementsByTagName("title")[0].getAttribute("name")),d},_getObject:function(b){var c=this,d=a.clone(c.get("o")),e;for(var f=0,g=b.length;f<g;f++){var h=b[f],i=h.getElementsByTagName("indexAxis")[0],j=h.getElementsByTagName("sets")[0];d.horizontal.data=d.horizontal.data.length>0?d.horizontal.data:i.getAttribute("labels")?String(i.getAttribute("labels")).split(","):[],d.vertical.names.push(String(j.getAttribute("name")).split(",")),d.vertical.data.push(String(j.getElementsByTagName("set")[0].getAttribute("values")).split(","))}return d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line2/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new g).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/line2/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/line2/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{names:[],org:[],section:[],data:[]},horizontal:{name:"",org:"",data:[]},graphs:{disX:59,data:[]},info:{content:{title:{name:"",fill:""}}}}},_vertical:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_disX:{value:6},_disY:{value:10},_dis_line:{value:6},_dis_graphs:{value:0},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_verticalDrawH:{value:0},_horizontalMaxW:{value:0},_horizontalGraphsW:{value:0},_horizontalDrawW:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:100}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.get("_DataFrameFormat").vertical.section=e.section(d.getChildsArr(a.get("_DataFrameFormat").vertical.org)),a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.data};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimHorizontal();var b={w:a.get("_horizontalMaxW"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimGraphs();var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.data,data_ver:a.get("_horizontal").getShowData(),h_ver:a.get("_verticalGraphsH")};a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalGraphsW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),data:a.get("_DataFrameFormat").graphs.data,disX:a.get("_DataFrameFormat").graphs.disX,node:a.get("config").node,area:a.get("config").area,shape:a.get("config").shape,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs};a.get("_graphs").init(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").graphs.data,isInduce:1,disX:a.get("_DataFrameFormat").graphs.disX,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs};a.get("_induces").init(b),a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(){var a=this;a.set("_verticalMaxH",a.get("h")-a.get("_disY")-a.get("_horizontal").get("h")-a.get("_disY")),a.set("_verticalGraphsH",a.get("_verticalMaxH")-a._getVerticalDisY()),a.set("_verticalDrawH",a.get("_verticalGraphsH")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").vertical.section,e=[];for(var f=0,g=c.length;f<g;f++){var h=-a.get("_dis_graphs")-c[f]/b*a.get("_verticalDrawH");h=isNaN(h)?0:d.ceil(h),e[f]={value:c[f],y:h}}a.get("_DataFrameFormat").vertical.data=e},_getVerticalDisY:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_verticalMaxH")%a.get("_DataFrameFormat").vertical.section.length,d=d>c?c:d,d},_trimHorizontal:function(){var a=this;a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_disX")),a.set("_horizontalGraphsW",a.get("_horizontalMaxW")-a._getHorizontalDisX()),a.set("_horizontalDrawW",a.get("_horizontalGraphsW")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").horizontal.org.length,c=a.get("_DataFrameFormat").horizontal.org,e=[];for(var f=0,g=c.length;f<g;f++)e.push({value:c[f],x:d.ceil(a.get("_dis_graphs")+f/(b-1)*a.get("_horizontalDrawW"))});a.get("_DataFrameFormat").horizontal.data=e},_getHorizontalDisX:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_horizontalMaxW")%a.get("_DataFrameFormat").horizontal.org.length,d=d>c?c:d,d},_trimGraphs:function(){var a=this,b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").horizontal.org.length,d=a.get("_DataFrameFormat").vertical.org,e=[];for(var f=0,g=d.length;f<g;f++)for(var h=0,i=d[f].length;h<i;h++)e[f]?"":e[f]=[],e[f][h]={value:d[f][h],x:a.get("_dis_graphs")+h/(c-1)*a.get("_horizontalDrawW"),y:-a.get("_dis_graphs")-d[f][h]/b*a.get("_verticalDrawH")};a.get("_DataFrameFormat").graphs.data=e,a.get("_DataFrameFormat").graphs.disX=a._getGraphsDisX()},_getGraphsDisX:function(){var a=this;return a.get("_horizontalGraphsW")/(a.get("_DataFrameFormat").horizontal.org.length-1)},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=a.id,d=Number(a.x)+Number(this.get("_graphs").get("element").get("_x")),e=Number(a.y)+Number(this.get("_graphs").get("element").get("_y")),f=a.fill_over,g=[];for(var h=0,i=this.get("_DataFrameFormat").vertical.names.length;h<i;h++){g[h]=[];var j={};j.content=this.get("_DataFrameFormat").vertical.names[h][c],j.fill=this.get("config").fills.overs[h],j.font="\u5fae\u8f6f\u96c5\u9ed1",j.ver_align=3,g[h].push(j),j={},j.content=this.get("_DataFrameFormat").vertical.org[h][c],j.fill=this.get("config").fills.overs[h],j.font="Tahoma",j.ver_align=1,g[h].push(j)}var k=g[b];g.splice(b,1),g.unshift(k),this.get("_DataFrameFormat").info.content.title.name&&(j={},j.content=this.get("_DataFrameFormat").info.content.title.name,j.fill=this.get("_DataFrameFormat").info.content.title.fill,j.font="\u5fae\u8f6f\u96c5\u9ed1",j.ver_align=1,g.unshift([j]));var j={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:d,y:e,data:g,base_fill:f},light:{is:1,x:d,y:e,fill:f},hLine:{is:1,x:d,y:this.get("_graphs").get("element").get("_y")}},l=this.get("_DataFrameFormat").horizontal.org[c],m=this.get("_DataFrameFormat").horizontal.name+l;j.hInfo={is:1,x:d,y:this.get("_graphs").get("element").get("_y"),content:m};for(var h=0,i=a.other.length;h<i;h++)a.other[h].x=Number(a.other[h].x)+Number(this.get("_graphs").get("element").get("_x")),a.other[h].y=Number(a.other[h].y)+Number(this.get("_graphs").get("element").get("_y"));j.other={is:1,os:a.other},this.get("_infos").update(j),this.get("_graphs").induce({index:a.index,id:a.id},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.info=b.info,a.vertical.names=b.vertical.names,a.vertical.org=b.vertical.data,a.horizontal.org=b.horizontal.data,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","../../line/view/graphs"]}),KISSY.add("brix/gallery/charts/js/e/line3/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0",node:0,shape:0,area:0,fills:{normals:["0x458AE6","0x94CC5C"],overs:["0x135EBF","0x78A64B"]}}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0];d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,d.node=h.getAttribute("node")&&String(h.getAttribute("node"))?Number(h.getAttribute("node")):d.node,d.shape=h.getAttribute("shape")&&String(h.getAttribute("shape"))?Number(h.getAttribute("shape")):d.shape,d.area=h.getAttribute("area")&&String(h.getAttribute("area"))?Number(h.getAttribute("area")):d.area;var i=g.getElementsByTagName("colors")[0];return i&&(d.fills.normals=i.getAttribute("normals")&&String(i.getAttribute("normals"))?String(i.getAttribute("normals")).split(","):d.fills.normals,d.fills.overs=i.getAttribute("overs")&&String(i.getAttribute("overs"))?String(i.getAttribute("overs")).split(","):d.fills.overs),d.fills.normals=c._trimFills(d.fills.normals),d.fills.overs=c._trimFills(d.fills.overs),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line3/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},vertical:{names:[],data:[]},horizontal:{data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml");return d=c._getObject(g.getElementsByTagName("data")),d},_getObject:function(b){var c=this,d=a.clone(c.get("o")),e;for(var f=0,g=b.length;f<g;f++){var h=b[f],i=h.getElementsByTagName("indexAxis")[0],j=h.getElementsByTagName("sets")[0];d.horizontal.data=d.horizontal.data.length>0?d.horizontal.data:i.getAttribute("labels")?String(i.getAttribute("labels")).split(","):[],d.vertical.names.push(String(j.getAttribute("name")).split(",")),d.vertical.data.push(String(j.getElementsByTagName("set")[0].getAttribute("values")).split(","))}return d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/line3/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new g).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/line3/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/line3/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{names:[],org:[],sections:[],datas:[]},horizontal:{name:"",org:"",data:[]},graphs:{disX:59,data:[]}}},_vertical:{value:null},_vertical_right:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_hasRight:{value:0},_disX:{value:6},_disY:{value:10},_dis_line:{value:6},_dis_graphs:{value:0},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_verticalDrawH:{value:0},_horizontalMaxW:{value:0},_horizontalGraphsW:{value:0},_horizontalDrawW:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:100}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.set("_hasRight",a.get("_DataFrameFormat").vertical.org.length==2?1:0),a.get("_DataFrameFormat").vertical.sections.push(e.section(a.get("_DataFrameFormat").vertical.org[0])),a.get("_hasRight")==1&&a.get("_DataFrameFormat").vertical.sections.push(e.section(a.get("_DataFrameFormat").vertical.org[1])),a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_vertical_right",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.datas[0],font_fill:a.get("config").fills.normals[0],line_fill:a.get("config").fills.normals[0]};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));if(a.get("_hasRight")==1){a._trimVertical(1);var b={parent:a.get("element"),id:"vertical_right",data:a.get("_DataFrameFormat").vertical.datas[1],mode:2,font_fill:a.get("config").fills.normals[1],line_fill:a.get("config").fills.normals[1]};a.get("_vertical_right").init(b),a.get("_vertical_right").get("element").transformXY(a.get("w")-a.get("_disX")-a.get("_vertical_right").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"))}a._trimHorizontal(),a._trimGraphs(),a.get("_hasRight")==1&&a._trimGraphs(1);var b={w:a.get("_horizontalMaxW"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_hasRight")==1&&(b.dis_right=a.get("_horizontalMaxW")+a.get("_vertical_right").get("w")),a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.datas[0],data_ver:a.get("_horizontal").getShowData(),h_ver:a.get("_verticalGraphsH")};a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalGraphsW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),data:a.get("_DataFrameFormat").graphs.data,disX:a.get("_DataFrameFormat").graphs.disX,node:a.get("config").node,area:a.get("config").area,shape:a.get("config").shape,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs};a.get("_graphs").init(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalMaxW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").graphs.data,isInduce:1,disX:a.get("_DataFrameFormat").graphs.disX,fills:a.get("config").fills.normals,fills_over:a.get("config").fills.overs};a.get("_induces").init(b),a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(a){var b=this,a=a?a:0;b.set("_verticalMaxH",b.get("h")-b.get("_disY")-b.get("_horizontal").get("h")-b.get("_disY")),b.set("_verticalGraphsH",b.get("_verticalMaxH")-b._getVerticalDisY(a)),b.set("_verticalDrawH",b.get("_verticalGraphsH")-b.get("_dis_graphs"));var c=b.get("_DataFrameFormat").vertical.sections[a][b.get("_DataFrameFormat").vertical.sections[a].length-1],e=b.get("_DataFrameFormat").vertical.sections[a],f=[];for(var g=0,h=e.length;g<h;g++){var i=-b.get("_dis_graphs")-e[g]/c*b.get("_verticalDrawH");i=isNaN(i)?0:d.ceil(i),f[g]={value:e[g],y:i}}b.get("_DataFrameFormat").vertical.datas[a]=f},_getVerticalDisY:function(a){var b=this,a=a?a:0,c=b.get("_dis_line"),d=2*b.get("_dis_line"),e=c;return e=c+b.get("_verticalMaxH")%b.get("_DataFrameFormat").vertical.sections[a].length,e=e>d?d:e,e},_trimHorizontal:function(){var a=this;a.get("_hasRight")==1?a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_vertical_right").get("w")-a.get("_disX")):a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_disX")),a.set("_horizontalGraphsW",a.get("_horizontalMaxW")-a._getHorizontalDisX()),a.set("_horizontalDrawW",a.get("_horizontalGraphsW")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").horizontal.org.length,c=a.get("_DataFrameFormat").horizontal.org,e=[];for(var f=0,g=c.length;f<g;f++){var h=d.ceil(a.get("_dis_graphs")+f/(b-1)*a.get("_horizontalDrawW"));h=isNaN(h)?0:h,e.push({value:c[f],x:h})}a.get("_hasRight")&&a.get("_DataFrameFormat").vertical.org[1].length==1&&e.push({value:c[0],x:a.get("_horizontalDrawW")}),a.get("_DataFrameFormat").horizontal.data=e},_getHorizontalDisX:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_horizontalMaxW")%a.get("_DataFrameFormat").horizontal.org.length,d=d>c?c:d,a.get("_hasRight")==1&&(d=0),d},_trimGraphs:function(a){var b=this,a=a?a:0,c=b.get("_DataFrameFormat").vertical.sections[a][b.get("_DataFrameFormat").vertical.sections[a].length-1],e=b.get("_DataFrameFormat").horizontal.org.length,f=b.get("_DataFrameFormat").vertical.org[a],g=[];for(var h=0,i=f.length;h<i;h++){var j=b.get("_dis_graphs")+h/(e-1)*b.get("_horizontalDrawW");j=isNaN(j)?0:j,a==1&&i==1&&(j=b.get("_horizontalDrawW"));var k=-b.get("_dis_graphs")-f[h]/c*b.get("_verticalDrawH");k=isNaN(k)?0:d.ceil(k),g[h]={value:f[h],x:j,y:k}}b.get("_DataFrameFormat").graphs.data.push(g),b.get("_DataFrameFormat").graphs.disX=b._getGraphsDisX()},_getGraphsDisX:function(){var a=this;return a.get("_horizontalGraphsW")/(a.get("_DataFrameFormat").horizontal.org.length-1)},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=a.id,d=Number(a.x)+Number(this.get("_graphs").get("element").get("_x")),e=Number(a.y)+Number(this.get("_graphs").get("element").get("_y")),f=a.fill_over,g=[];for(var h=0,i=this.get("_DataFrameFormat").vertical.names.length;h<i;h++){g[h]=[];var j={};j.content=this.get("_DataFrameFormat").vertical.names[h],j.fill=this.get("config").fills.overs[h],j.font="\u5fae\u8f6f\u96c5\u9ed1",j.ver_align=3,g[h].push(j),j={},j.content=this.get("_DataFrameFormat").vertical.org[h][c],j.fill=this.get("config").fills.overs[h],j.font="Tahoma",j.ver_align=1,g[h].push(j)}var k=g[b];g.splice(b,1),g.unshift(k);var j={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:d,y:e,data:g,base_fill:f},light:{is:1,x:d,y:e,fill:f},hLine:{is:1,x:d,y:this.get("_graphs").get("element").get("_y")}},l=this.get("_DataFrameFormat").horizontal.org[c],m=this.get("_DataFrameFormat").horizontal.name+l;j.hInfo={is:1,x:d,y:this.get("_graphs").get("element").get("_y"),content:m};for(var h=0,i=a.other.length;h<i;h++)a.other[h].x=Number(a.other[h].x)+Number(this.get("_graphs").get("element").get("_x")),a.other[h].y=Number(a.other[h].y)+Number(this.get("_graphs").get("element").get("_y"));j.other={is:1,os:a.other},this.get("_infos").update(j),this.get("_graphs").induce({index:a.index,id:a.id},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.vertical.names=b.vertical.names,a.vertical.org=b.vertical.data,a.horizontal.org=b.horizontal.data,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","../../line/view/graphs"]}),KISSY.add("brix/gallery/charts/js/e/map/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0",fills:{normals:["0xBED2ED"],over:"0xF89D60"},info:{contents:[],bolds:[1,1,1],fills:["0x1351BF","0x1351BF","0x1351BF"],sizes:[14,12,12],frame_fill:"0x1351BF"}}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0],i=h.getElementsByTagName("colors")[0],j=h.getElementsByTagName("info")[0];return d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,i&&(d.fills.normals=i.getAttribute("normals")&&String(i.getAttribute("normals"))?String(i.getAttribute("normals")).split(","):d.fills.normals,d.fills.over=i.getAttribute("over")&&String(i.getAttribute("over"))?String(i.getAttribute("over")):d.fills.over),j&&(d.info.contents=j.getAttribute("contents")&&String(j.getAttribute("contents"))?String(j.getAttribute("contents")).split(","):d.info.contents,d.info.bolds=j.getAttribute("bolds")&&String(j.getAttribute("bolds"))?String(j.getAttribute("bolds")).split(","):d.info.bolds,d.info.fills=j.getAttribute("colors")&&String(j.getAttribute("colors"))?String(j.getAttribute("colors")).split(","):d.info.fills,d.info.sizes=j.getAttribute("sizes")&&String(j.getAttribute("sizes"))?String(j.getAttribute("sizes")).split(","):d.info.sizes,d.info.frame_fill=j.getAttribute("f_c")&&String(j.getAttribute("f_c"))?String(j.getAttribute("f_c")):d.info.frame_fill),d.fills.normals=c._trimFills(d.fills.normals),d.fills.over=c._trimFill(d.fills.over),d.info.fills=c._trimFills(d.info.fills),d.info.frame_fill=c._trimFill(d.info.frame_fill),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b},_trimFill:function(a){var b=a;return b=b.replace("0x","#"),b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/map/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},values:{data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0],i=h.getElementsByTagName("sets")[0];return d.values.data=c._getItems(i.getElementsByTagName("set")),d},_getItems:function(a){var b=this,c=[];for(var d=0,e=a.length;d<e;d++){var f=a[d];c.push(f)}return c}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/map/control/datatrim",function(a,b,c,d){function f(){var a=this;f.superclass.constructor.apply(a,arguments)}var e=c.all;return f.ATTRS={data:{value:[]},o:{value:{index:0,fills:{normal:"#BED2ED",over:"#F89D60"},content:[]}}},a.extend(f,b,{parse:function(b,c){var e=this,f=a.clone(e.get("data"));for(var g=0,h=b.length;g<h;g++){var i=(new XMLSerializer).serializeToString(b[g]),j=new DOMParser,k=j.parseFromString(i,"text/xml"),l=k.getElementsByTagName("set")[0],m=l.getElementsByTagName("colors")[0],n=a.clone(e.get("o"));n.index=l.getAttribute("index")&&String(l.getAttribute("index"))?Number(l.getAttribute("index")):n.index,m&&(n.fills.normal=m.getAttribute("normal")&&String(m.getAttribute("normal"))?c.fills.normals[Number(m.getAttribute("normal"))-1]:n.fills.normal,n.fills.over=c.fills.over);var o=c.info.contents;for(var p=0,q=o.length;p<q;p++){n.content[p]=[];var r={},s=o[p],t,u,v=l.getElementsByTagName(s)[0];v&&(t=v.getAttribute("name")&&String(v.getAttribute("name"))?String(v.getAttribute("name")):"",u=v.getAttribute("value")&&String(v.getAttribute("value"))?String(v.getAttribute("value")):"",u=d.numAddSymbol(u)),r.content=t+u,r.size=c.info.sizes[p],r.bold=c.info.bolds[p],r.fill=c.info.fills[p],n.content[p].push(r)}f[n.index]=n}return f},_getItems:function(a){var b=this,c=[];for(var d=0,e=a.length;d<e;d++){var f=a[d];c.push(f)}return c}}),f},{requires:["base","node","../../../pub/utils/global"]}),KISSY.add("brix/gallery/charts/js/e/map/main",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments),a.init()}return i.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(i,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new h).parse(a.get("config"))),a.get("_DataSource").data=(new g).parse(a.get("_DataSource").values.data,a.get("_config")),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),i},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/datatrim","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/map/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/map/view/graphs",function(a,b,c,d,e,f,g,h,i){function j(){var a=this;j.superclass.constructor.apply(a,arguments),a.init()}return j.ATTRS={w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:0},map_w:{value:100},map_h:{value:100},maps:{value:[]},map_scale:{value:1},_path_map:{value:""},_index:{value:0},_dis:{value:4},_maps:{value:null},_main:{value:null}},a.extend(j,b,{init:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a.set("_path_map",a._getMap())},widget:function(){var a=this;j.superclass.constructor.apply(a,arguments),a._widget()},induce:function(a,b){var c=this;c._induce(a.index,b)},_widget:function(){var b=this;b.set("_maps",new f("g")),b.get("_maps").set("class","maps"),b.get("element").appendChild(b.get("_maps").element),b.get("isInduce")==1&&b.get("_maps").set("opacity",0),b.set("_test",new f("g")),b.get("_test").set("class","test"),b.get("element").appendChild(b.get("_test").element),a.use(b.get("_path_map"),function(a,c){var d={};d.parent=b.get("_maps"),b.set("_main",new c(d)),b.get("_main").get("element").on(i.COMPLETE,function(a){b._completeHandler(a)}),b.get("_main").widget()})},_layout:function(){var a=this;a.set("map_w",a.get("_main").get("map_w")),a.set("map_h",a.get("_main").get("map_h")),a.set("maps",a.get("_main").get("maps"));var b=d.fit({w:a.get("w"),h:a.get("h")},{w:a.get("map_w"),h:a.get("map_h")});a.set("map_scale",b.scale);var c="matrix("+a.get("map_scale")+",0,0,"+a.get("map_scale")+","+0+","+0+")";a.get("_maps").set("transform",c),a.set("map_w",a.get("element").getWidth()),a.set("map_h",a.get("element").getHeight());var e=a.get("maps");for(var f=0,g=e.length;f<g;f++){var h=e[f],b=a.get("data")[f];if(h&&b){var j=h.element;b.fills.normal&&(j.set("fill",b.fills.normal),j.element.addEventListener("mouseover",function(b){a._overHandler(b)},!1),j.element.addEventListener("mouseout",function(b){a._outHandler(b)},!1))}}a.get("element").fire(i.COMPLETE)},_completeHandler:function(){var a=this;a._layout()},_overHandler:function(a){var b=this,c=a.target.getAttribute("_index"),d={},e=b.get("maps")[c],f=b.get("data")[c],g=b.get("map_scale")*e.cx,h=b.get("map_scale")*e.cy;b._induce(c,!0),d.index=c,d.cx=g,d.cy=h,d.content=f.content,b.get("element").fire(i.OVER,d)},_outHandler:function(a){var b=this,c=a.target.getAttribute("_index"),d={};b._induce(c,!1),d.index=c,b.get("element").fire(i.OUT,d)},_induce:function(a,b){var c=this,d=c.get("data")[a],e=c.get("maps")[a],f=e.element;d&&(b?f.set("fill",d.fills.over):f.set("fill",d.fills.normal))},_getMap:function(){var a=this;return a._getPath("zh")},_getPath:function(a){var b=this;return"brix/gallery/charts/js/e/map/view/maps/"+a+"/"+"main"}}),j},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/move","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/map/view/maps/zh/main",function(a,b,c,d,e){function f(){var a=this;f.superclass.constructor.apply(a,arguments),a.init()}return f.ATTRS={map_w:{value:560},map_h:{value:470},maps:{value:[]},element:{value:null},_main:{value:null}},a.extend(f,b,{init:function(){var a=this;a.set("element",new c("g")),a.get("element").attr({"class":"zh"}),a.get("parent").appendChild(a.get("element").element)},widget:function(){var a=this;a._widget(),a._layout(),a.get("element").fire(d.COMPLETE)},_widget:function(){var a=this;a.set("maps",e.get())},_layout:function(){var a=this,b=a.get("maps"),d=document.createDocumentFragment();for(var e=0,f=b.length;e<f;e++){var g=b[e];if(g){var h=new c("path");h.attr({d:g.d,fill:"#BED2ED",stroke:"#ffffff","stroke-width":1.5}),d.appendChild(h.element),h.set("_index",e),g.element=h}}a.get("element").appendChild(d)},_overHandler:function(a){console.log(a.target.getAttribute("_index"))},_outHandler:function(a){console.log("_outHandler")}}),f},{requires:["base","../../../../../pub/utils/svgelement","../../../model/eventtype","./mapdata"]}),KISSY.add("brix/gallery/charts/js/e/map/view/maps/zh/mapdata",function(a){var b={get:function(){var a=this,b=[];return b[34]=a._setMapInfo({index:34,cx:439,cy:284,d:"M423.637,253.208l2.024-0.597l6.312,2.621c0,0,1.768,2.299,2.861,2.856c1.092,0.557,5.118,1.43,5.118,1.43l2.021,1.667l2.858-0.479l0.599,1.072l-0.957,6.074l2.858,1.666l1.189,2.263l4.287,0.831l1.666-2.854l2.621,0.356l1.666,2.265l-0.24,2.021l-5.121,0.596v2.264v1.665l-2.021,2.265l1.43,2.618l4.287,2.856l0.237,3.454l8.572,0.832v4.525l-1.666,2.381l1.191,2.263l-0.951,1.43l-3.338,0.594l-1.428,1.906l0.235,4.882l-4.285,6.072l-0.715,0.683l-2.381-2.111H446.5l-2.498-2.855l-4.884,4.761l-1.786-0.834l2.026-3.69l-0.24-1.188l-1.786-0.479l-5.718,3.099l-5.356-10.241l1.666-3.214l-0.595-1.071l-2.858-0.952l-4.76-2.858l1.903-3.928l2.855-1.43l0.598-3.214l-1.07-5.716l-0.596-0.479l-2.856,2.86c0,0-5.978-4.647-4.287-3.453c1.69,1.192-3.217-4.049-3.217-4.049l3.217-2.261l0.834-4.05l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.453-2.26l1.192-1.434l-0.598-2.617l-4.049-2.263L423.637,253.208z"}),b[92]=a._setMapInfo({index:92,cx:414,cy:416,d:"M413.032,414.183l-0.96,1.752c0,0,0.889,0.883,1.98,1.086s1.995-0.493,1.995-0.493 L413.032,414.183z"}),b[11]=a._setMapInfo({index:11,cx:416,cy:183,d:"M421.139,189.75l-0.357-2.856l-0.832-1.905l5.095-2.126l0.381-1.683l-1.189-4.767h-1.668l-6.666-3.449l-3.69,3.69c0,0-1.125,6.585-0.832,4.88c0.289-1.704-3.693,4.288-3.693,4.288l-0.594,4.286l0.832,2.263l4.881-0.834l3.693,1.071l1.784-1.667L421.139,189.75z"}),b[50]=a._setMapInfo({index:50,cx:340,cy:310,d:"M318.986,317.871l5.58-2.092l4.564,2.092l1.014-5.811l5.346-3.72l1.351-7.671l3.932-1.059v-7.47l3.689-1.432l8.096,2.857l1.666,2.26l4.051-0.829l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594c0,0-3.072,3.501-4.884,3.812c-1.809,0.311-8.336,1.429-8.336,1.429l-2.26,2.263l1.783,2.262l0.24,4.883l2.262,0.597l5.715,7.142l0.357,9.407l-3.218,2.412l-0.592,0.445l-3.334-3.451l-3.215-4.29l-0.24-2.619l-2.26-0.476l-2.621,0.834l-4.287-2.025l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.28-6.977l-6.507-4.07L318.986,317.871z"}),b[35]=a._setMapInfo({index:35,cx:459,cy:357,d:"M435.945,374.779c0,0,2.881-12.508,1.742-10.365c-1.137,2.144,1.672-2.62,1.672-2.62l0.83-2.854l2.023-4.286l-1.072-1.668l0.24-3.691l4.881-5.475l-0.357-3.691l3.215-5.478l3.095,0.834l6.311-4.524l1.193-2.26l3.69,0.593l2.025,5.118l1.666,3.454h4.047l2.498-3.215l3.693,3.69l6.454-2.276l-4.069,9.776l-2.385-1.192l-1.666,0.835l-0.238,0.954l2.262,2.501l-0.598,8.929l0.598,2.859l-0.598,0.834l-2.617-0.599l-1.668,1.667l1.191,2.384l-3.214,3.095l0.595,1.189l-3.097,1.665l0.478,2.264l-1.072,1.191h-4.285l-2.264,2.025l-0.357,0.832l2.023,1.428l-2.26,3.452l-2.859,3.691l-1.189-0.356l-3.1,3.216l-3.447-7.502l-3.098-3.929l-2.023,0.24l-1.43-1.072L435.945,374.779z"}),b[44]=a._setMapInfo({index:44,cx:408,cy:395,d:"M391.37,382.632l2.265-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.025l0.354-1.427l3.098-2.619l5.478,1.427l3.096-1.905l2.264,2.265l5.478-1.429l1.07,2.021l-1.666,2.264l-2.859,4.288v1.069l1.67,1.192l11.43-4.525l4.048,2.264l1.19-1.191l-1.19-2.499l0.28-1.663l7.459,1.663l1.431,1.072l2.022-0.24l3.094,3.929l3.451,7.502l-2.26,1.667l-2.023,3.689l-1.786,0.596l-1.664,3.455l-5.716,2.854l-2.266-1.188l-1.426,2.382v0.833h-1.787h-3.098l-2.857,2.023l-2.021-1.188l-2.5,1.663l-6.314,2.619l-5.121-4.05l-0.354,3.217l1.788,4.882l-4.646,1.904l-2.498,3.452l-4.887,1.191l-2.617,1.073h-5.119c0,0-0.869,2.545-3.453,3.452c-2.584,0.904-9.168,3.213-9.168,3.213l-4.522,3.098l-2.265,2.263l4.287,6.903l-2.856,2.501l-3.451-0.238l-4.053-7.381l0.954-5.238v-2.501l2.854-4.646l3.695-0.831l-0.355-2.501l3.809-1.785l0.476-4.288l6.668-5.119l-0.355-6.905l5.119-6.547l-0.24-2.5l1.666-2.381L391.37,382.632z"}),b[62]=a._setMapInfo({index:62,cx:280,cy:218,d:"M196.462,200.108l-1.43-16.55l0.836-3.453l4.879-2.262c0,0,5.209-5.03,6.903-5.717c1.696-0.686,10.6-4.285,10.6-4.285l4.285-2.025v-4.047l1.905-2.262l1.788,0.237l7.144,1.192l-0.358,3.095l1.43,4.88l-0.834,7.978l6.072,8.929l3.097,2.026l4.883-3.812h10.237l2.623,0.953l1.429,2.264l-1.193,2.499l-5.714,4.645l0.597,2.261l6.549,4.882h2.618l0.834,1.07l-0.596,2.025l4.05,3.217l9.404,1.429l4.525-1.19l5.718-5.719l6.903,0.598l2.855,4.287l-1.664,3.929l0.475,2.382l-3.688,2.263l-1.668,2.024l0.596,4.763l6.545,4.646l2.875-0.653l7.725,9.458l1.668,7.145l-0.834,3.451l5.357,2.859v2.26l4.883,1.192h1.426v-4.05l3.693-0.595l0.951-4.763l-2.619-2.026l-2.025-2.021l0.834-9.166l2.023-1.071l3.453,1.43l1.432-0.598l0.834,1.667l9.166,4.639l4.883,3.1l0.832,2.856l-2.619,3.691l1.431,4.285l-0.834,2.021l-6.785,0.6l-1.433,0.833l0.478,1.191v1.903l-5.355,0.594l-2.856-1.428h-3.691l-0.596,0.834l0.596,2.024l-1.789,2.023l-0.592,2.262l3.449,2.857l-2.498,5.119l1.072,2.622l-0.238,1.188h-4.051l-2.854,1.435l2.26,3.091l-1.428,4.051l-4.287,1.07l0.357,2.023l-1.189,1.428l-7.383-0.596l-2.854-2.021l-0.601-4.525l-1.664-1.669l-2.62,1.669l-4.523-4.521l-3.455-2.385l-0.354-3.335l-1.074-2.619h-1.787l-7.144,3.096l0.356,3.454h-2.618l-4.287-4.288l-4.525-0.593l-1.786-2.499l1.431-2.86l2.617,2.5l3.097,0.954l2.62-2.025v-4.881l2.857-2.62l2.265-2.263l-1.073-2.856l5.716-4.522l0.832-7.147l-2.619-3.688l-1.429-6.071l-7.144-9.405l-3.692,1.431l-5.118-4.524l-6.907-4.287l-2.856-6.905l-5.359,2.023l-9.999-6.309l-4.883,2.616l-7.501-1.188l-5.714,3.452l-3.691,0.237l-5.715-3.451l-3.93-2.265L196.462,200.108z"}),b[45]=a._setMapInfo({index:45,cx:356,cy:399,d:"M305.646,387.87l3.688,0.241l4.051-3.694l1.668,1.072l7.737,3.216l1.429-0.835l0.235-2.619l1.433-1.429l10.955-7.145l1.903,2.266l6.668,2.021l3.691-4.883l1.666,1.192h2.619v-1.431l3.453-1.192v-1.069l1.43-1.428l0.832,0.236l3.453-3.451l2.856,0.832l2.857-3.931l1.432,3.099l0.832-0.238l4.525-4.288l1.188,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.101-2.854l2.616,5.713l2.025-1.43h2.26l1.666,5.717l-1.666,2.383l0.24,2.5l-5.119,6.547l0.355,6.905l-6.668,5.12l-0.476,4.285l-3.809,1.787l0.354,2.5l-3.694,0.831l-2.853,4.646l-7.502,1.071l-3.93-2.856l-4.049-1.669l-4.049,4.05l-4.158,0.241l-4.058,0.234c0,0-10.996-6.139-9.168-5.119c1.828,1.021-1.666-4.526-1.666-4.526l2.261-4.646l-2.617-1.902h-3.455l-0.832-0.952l-3.691,0.952l-3.692-2.62l1.432-4.048l2.855-0.235l1.069-0.834l0.957-3.69l-1.192-2.024l-9.765-1.785l-1.668-2.856h-2.854h-2.619l-1.906-3.099L305.646,387.87z"}),b[52]=a._setMapInfo({index:52,cx:333,cy:359,d:"M313.622,349.296l-1.666,4.761l-2.856,0.951l-6.313-0.951l-1.43,1.429l-3.453-1.07l-3.094,4.286l1.428,1.43v2.856l1.431,2.501l6.309-1.906l1.908,1.667l-2.859,12.027l3.81,3.689l-1.188,6.907l3.688,0.238l4.051-3.695l1.668,1.073l7.737,3.216l1.429-0.832l0.235-2.622l1.433-1.429l10.955-7.144l1.903,2.265l6.668,2.021l3.689-4.883l1.668,1.192h2.619v-1.432l3.453-1.189v-1.071l1.43-1.428l0.832,0.237l3.453-3.452l-2.857-5.123l1.429-7.142l-1.785-2.263l-5.121,1.428l-0.596-0.834l5.717-6.309l-2.5-10.001l-3.81,2.855l-3.334-3.45l-3.215-4.29l-0.24-2.619l-2.26-0.477l-2.621,0.834l-4.287-2.024l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.623,0.834l-3.928-2.266l-3.213,3.69v1.668l6.312,3.453l1.426,2.621c0,0-6.094,2.245-4.523,1.667C322.1,348.955,313.622,349.296,313.622,349.296z"}),b[13]=a._setMapInfo({index:13,cx:406,cy:200,d:"M413.04,235.229l0.357-1.426l-1.783-3.453l6.902-12.5c0,0,8.725-7.9,6.313-5.718c-2.411,2.185,4.523-1.188,4.523-1.188l4.268-5.423l-1.647-1.125l-1.56-3.907l-3.319,1.286l-5.479-1.428l-0.237-1.428l-0.238-9.17l3.69-1.667l-0.419-1.563l-0.177-0.104l0.81-3.557l-5.094,2.128l0.832,1.905l0.178,1.424l0.18,1.433l-2.857,1.19l-1.785,1.667l-3.692-1.071l-4.881,0.834l-0.832-2.264l0.594-4.287l3.693-4.286l0.831-4.88l3.691-3.691l6.666,3.454h1.668l1.189,4.762l1.905,0.95l0.953,3.1l-0.356,2.024l4.047,2.854l0.594,2.264l3.338,1.428l8.332-4.523v-2.621l4.883-7.143l-3.45-4.881l-2.621-0.238l-4.763-3.218l1.668-5.118l-7.387-0.595l-3.213-4.765l0.357-2.619l-6.31-6.906l-4.051,2.026l-3.451,3.452l1.191,2.62l-0.834,1.667l-4.882,0.237l-2.264,2.022l-2.022-0.835l-2.021,2.026l-4.527,3.453l-2.024-1.43v-4.644l-1.666-0.832l-2.619,1.189l-3.096,6.547l-1.189,6.311l3.689,6.19l3.215,2.858v5.24l1.904,4.286l-0.834,4.764l-4.884,3.213l-2.26,7.382l4.049,4.645l2.857,5.717l-1.785,2.857l-0.477,3.928l-1.787,2.619l-0.834,2.859l2.621,3.446l11.43,1.431l4.524-1.787L413.04,235.229z"}),b[42]=a._setMapInfo({index:42,cx:389,cy:303,d:"M356.486,329.29l1.787-4.048l5.119-4.287l4.881,2.026l3.096-2.026l-2.621-3.093l1.429-1.433l13.219,0.836l4.525,3.097l2.264,1.425l3.451-2.26l2.619-0.833l0.596,3.093h1.904l1.43-2.021l2.856-2.86l1.431,2.027v4.049l1.19,1.667l2.619,0.594l2.855-2.854l4.287-1.433l7.979-7.381l3.691,0.236l4.522-1.428l-5.358-10.24l1.668-3.214l-0.593-1.071l-2.862-0.952l-4.761-2.858l-2.381-1.427l-3.098,1.427l-3.451-2.854h-4.524l-3.455-1.907l-0.83-2.856l-1.787-1.786l-2.5,1.428L395.421,285c0,0-9.509,0.927-7.146,1.071c2.363,0.146-7.736-1.666-7.736-1.666l-9.407-8.334l-2.619,2.023l-1.188-0.831h-1.907h-8.572l-1.189,1.068l2.619,2.62l2.5,0.593l2.26,0.837l-1.067,1.668l-4.287,2.021l-0.834,3.451l0.834,1.191l0.596,4.288l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594l-4.883,3.812l-8.336,1.429l-2.261,2.263l1.783,2.262l0.24,4.882l2.262,0.598L356.486,329.29z"}),b[23]=a._setMapInfo({index:23,cx:505,cy:74,d:"M464.838,96.639l6.787-1.19l2.854,5.241l4.285,3.095l2.856-1.188h2.386l4.285-2.501l3.094,3.094l2.024,0.357l5.357-2.023l3.813,2.023l1.666,4.288h2.857l1.43,1.904l3.689,4.049l1.426-0.833l-0.594-5.12l2.026-1.432l2.854,5.716l2.621,1.074l2.858,3.212l2.021-0.357l0.836-1.427l4.523-5.12l2.022,1.428l1.43-2.022l1.431,2.619l4.283,1.429h2.86l2.07,0.088l-1.238-2.113l-0.598-6.906l-5.115-7.978l2.855-2.857l2.616-4.883h9.646l1.785-1.665l-0.597-3.69l2.025-3.691l-0.596-2.024l0.832-3.451l-0.236-17.742l2.855-5.715l-3.214-3.692l0.595-2.261l-1.427-2.024l-3.69,1.429l-4.289,4.884l-4.283,2.023l-4.289,5.951l-10.598,3.692l-4.879-3.692l0.594-2.262l-2.5-3.689l-1.191-3.811l-4.047-0.239l-7.145-3.69l-2.859,1.071l-3.33-1.667l-4.887,0.834l-4.283-1.429l-2.621-3.69l-2.498-2.857l-0.951-2.857l-3.334-3.452l-2.026-3.099l-4.644-6.31l-1.428-3.69l-5.119-6.548l-1.432-3.454l-6.549-3.216l-4.287,1.429l-3.689-0.833l-8.336-1.668l-11.07,3.932l-2.024,1.786l2.262,3.096l-2.856,7.499l0.834,0.835l4.881,3.096l2.621-4.286l4.524,2.856l-0.235,2.022l1.664,5.119l2.854,3.218l5.717,0.833l1.668-1.787l3.451-0.477l6.547-5.476l8.576,6.31l-2.858,11.669l0.594,8.333v5.119l-2.26,1.191l-0.238,13.335l-0.597-0.476l-2.26-2.858h-1.192l-0.595,1.073c0,0-8.797,13.044-7.146,10.596c1.652-2.448-3.451,4.523-3.451,4.523l0.357,1.428l7.145,4.886l3.926-1.071l0.599,1.071l-0.834,1.189l-3.689,1.667l-0.359,3.214L464.838,96.639z"}),b[46]=a._setMapInfo({index:46,cx:371,cy:454,d:"M385.895,447.523l-5.119,8.93v3.929l-10.238,8.336l-10.598-3.689l-2.025-7.501l0.597-3.454c0,0,8.074-8.075,5.715-5.716c-2.357,2.358,2.025-1.665,2.025-1.665l9.403-1.668l4.289-0.358l1.426-1.666l3.103,0.832L385.895,447.523z"}),b[41]=a._setMapInfo({index:41,cx:398,cy:264,d:"M371.131,276.068l9.405,8.336l7.742,1.665l7.144-1.072l2.262,1.072l2.5-1.43l1.783,1.787l0.834,2.856l3.455,1.905h4.524l3.451,2.857l3.098-1.428l2.382,1.428l1.903-3.929l2.855-1.43l0.598-3.216l-1.07-5.715l-0.596-0.479l-2.856,2.86l-4.287-3.453l-3.218-4.049l3.218-2.263l0.834-4.048l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.455-2.26l1.19-1.434l-0.598-2.617l-4.049-2.263l-0.834-2.619l-7.142,0.835l-4.524-3.93l-2.021-0.596v-2.621l10-11.074l-3.69,0.834l-2.261,1.669l-0.957-1.429v-1.666l-1.663-0.6l-4.525,1.785l-11.43-1.428l-0.597,9.408c0,0-6.604,5.169-5.479,4.287c1.129-0.884-7.381,1.429-7.381,1.429l-10.359,7.142l-8.215,2.264v1.43l7.738,11.666L371.131,276.068L371.131,276.068z"}),b[43]=a._setMapInfo({index:43,cx:385,cy:344,d:"M408.279,325.242l-2.619-0.594l-1.188-1.667v-4.05l-1.43-2.026l-2.857,2.86l-1.43,2.023h-1.904l-0.594-3.096l-2.621,0.833l-3.451,2.263l-2.264-1.428c0,0-2.666-2.521-4.525-3.097c-1.857-0.576-13.217-0.832-13.217-0.832l-1.43,1.429l2.62,3.093l-3.096,2.026l-4.883-2.026l-5.117,4.287l-1.787,4.05c0,0-0.19,6.479,0.357,9.405c0.551,2.926,2.5,10.002,2.5,10.002l-5.717,6.31l0.596,0.833l5.121-1.428l1.785,2.263l-1.429,7.144l2.857,5.121l2.856,0.832l2.857-3.931l1.43,3.099l0.834-0.238l4.523-4.288l1.191,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.103-2.854l2.617,5.713l2.021-1.43h2.264l2.263-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.023l0.354-1.429l3.098-2.619l5.478,1.428l3.096-1.906l-1.193-2.021l1.193-4.642l-0.234-6.789l-2.026-0.831l-1.785-4.647v-3.927l-0.834-0.596l-1.43,0.596l-0.832-0.955l0.594-6.188l2.502-2.024l1.785-3.454l-0.355-3.452L408.279,325.242z"}),b[22]=a._setMapInfo({index:22,cx:501,cy:123,d:"M544.896,113.042l-2.07-0.088h-2.858l-4.285-1.431l-1.43-2.619l-1.431,2.024l-2.022-1.428l-4.523,5.12l-0.834,1.427l-2.022,0.357l-2.859-3.214l-2.621-1.072l-2.854-5.715l-2.027,1.431l0.594,5.12l-1.426,0.833l-3.689-4.05l-1.432-1.903h-2.854l-1.666-4.288l-3.813-2.023l-5.354,2.023l-2.025-0.357l-3.098-3.094l-4.285,2.5h-2.383l-2.857,1.191l-4.285-3.096l-2.854-5.24l-6.787,1.189l-2.621,3.099l-0.238,3.45l-7.502-2.023l-1.074,2.381l0.601,1.667l3.928,2.859v4.046l0.594,3.929l2.265,3.456l0.356,3.095l1.666,1.191l5.717-5.479l5.953,7.502v4.288l3.213,1.667l0.238-1.431l4.885,1.431l3.451,4.046l1.666-1.784l0.357-1.074l8.217,11.075l0.594,4.286l4.527,5.239l0.592,4.761l4.051-2.499l3.689-10.598l1.67-0.595l4.047,2.263l6.549-0.834l2.26-2.024l-3.092-4.763l0.832-1.191c0,0,7.84-2.611,6.072-2.022c-1.766,0.588,2.5-4.883,2.5-4.883l3.215-1.428l0.238-4.766l0.832-3.212l1.785-0.596l1.668,1.789l1.668,1.426l4.287-5.715l1.188-4.288L544.896,113.042z"}),b[32]=a._setMapInfo({index:32,cx:463,cy:266,d:"M483.646,282.616l-1.426,4.286l-1.898,2.251l-3.225,3.824l-4.879-0.835l-3.929-2.383l-2.383,1.19l-8.571-0.832l-0.238-3.454l-4.287-2.856l-1.428-2.618l2.02-2.264v-1.665v-2.267l5.121-0.594l0.24-2.023l-1.666-2.263l-2.621-0.355l-1.666,2.854l-4.287-0.831l-1.188-2.263l-2.857-1.666l0.955-6.074l-0.598-1.072l-2.859,0.479l-2.021-1.667l-5.118-1.429l-2.861-2.857l-6.307-2.621l0.592-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.427-2.62l0.358-1.43l2.857-1.667l0.834-3.45l2.854-0.597l7.148,4.881c0,0,3.365,0.754,5.117,2.025c1.754,1.271,9.766,16.313,9.766,16.313l-0.357,1.666l6.548,3.095l1.784,2.859l3.099,1.429l1.428,2.855l-2.023,0.951l-3.334-1.188h-4.645l-4.287-1.432l-1.666,1.432l3.932,1.188l3.813,1.669L483.646,282.616z"}),b[36]=a._setMapInfo({index:36,cx:429,cy:339,d:"M408.279,325.242l3.336,6.549l0.355,3.452l-1.785,3.454l-2.502,2.024l-0.594,6.188l0.832,0.955l1.43-0.596l0.834,0.596v3.927l1.785,4.647l2.026,0.831l0.234,6.789l-1.193,4.642l1.193,2.021l2.266,2.265l5.474-1.429l1.071,2.022l-1.665,2.263l-2.859,4.287v1.07l1.67,1.192l11.43-4.525l4.047,2.263l1.191-1.19l-1.191-2.499l0.281-1.663l1.742-10.365l1.67-2.62l0.832-2.854l2.025-4.286l-1.072-1.668l0.238-3.691l4.881-5.475l-0.355-3.691l3.213-5.478l3.095,0.834l6.311-4.524l1.193-2.263l-4.049-7.501l-2.619-3.69l1.901-1.818l-2.381-2.111H446.5l-2.5-2.855l-4.884,4.762l-1.784-0.835l2.024-3.69l-0.24-1.188l-1.784-0.479l-5.716,3.099l-4.524,1.429l-3.689-0.238c0,0-9.709,9.669-7.979,7.381c1.731-2.287-4.287,1.433-4.287,1.433L408.279,325.242z"}),b[21]=a._setMapInfo({index:21,cx:475,cy:156,d:"M491.15,173.2l6.783-10.002l4.287-4.881l-0.595-4.763l-4.524-5.239l-0.594-4.286l-8.216-11.075l-0.358,1.074l-1.666,1.786l-3.453-4.05l-4.883-1.429l-0.236,1.429v2.264l-2.022,2.022l-4.047,4.05H467.1l-1.666,2.856h-1.789l-3.094,3.096h-1.787l-3.691,3.691l-2.262,0.596l-4.881,7.5l-3.096-4.644l-3.453-2.262l-1.666,1.667l1.903,10.002l-1.666,3.453l-1.668,5.12l4.763,3.215l2.621,0.238l3.45,4.881l2.5-1.429c0,0,2.857-2.881,4.05-4.882c1.192-2.002,4.049-6.788,4.049-6.788l6.787-1.429l4.287,4.286l-3.099,6.787l-4.049,6.311l3.688,2.62l-0.233,3.098l-2.857,2.855l0.597,1.19l4.881-2.619l7.143-9.407l10.836-6.072L491.15,173.2z"}),b[15]=a._setMapInfo({index:15,cx:374,cy:162,d:"M301.969,226.604l3.438-0.779l2.859-1.188l4.762-3.932l0.953-6.31l2.855-9.168l5.954-4.048l0.835,0.951l1.786,6.19l-2.858,4.049l-0.594,3.691l9.168,3.453l0.832,2.621l5.358-0.359l2.617,0.596l1.191,0.834l9.405-13.454l2.502-0.835l0.593-1.664l-0.236-2.623l3.096-4.523l6.072-0.358l2.262-2.5l1.431,1.074l3.452-2.86h1.904l6.312-9.046l3.215,0.235l3.93-2.855l1.191,1.189l7.381-3.809l-3.689-6.193l1.189-6.311l3.096-6.549l2.619-1.188l1.666,0.832v4.644l2.025,1.43l4.526-3.453l2.021-2.026l2.022,0.835l2.265-2.025l4.881-0.234l0.834-1.667l-1.191-2.622l3.453-3.452l4.049-2.024l6.31,6.908l-0.355,2.618l3.213,4.763l7.385,0.595l1.666-3.453l-1.903-10.002l1.666-1.667l3.453,2.262l3.096,4.644l4.881-7.5l2.264-0.596l3.689-3.692h1.787l3.094-3.095h1.787l1.666-2.856h4.527l4.047-4.051l2.021-2.021v-2.264l-3.213-1.667v-4.286l-5.953-7.502l-5.717,5.478l-1.666-1.19l-0.357-3.096l-2.264-3.453l-0.594-3.931v-4.046l-3.928-2.858l-0.601-1.667l1.074-2.382l7.502,2.022l0.238-3.452l2.621-3.099l-1.789-1.666l0.358-3.214l3.689-1.667l0.834-1.19l-0.598-1.07l-3.927,1.07l-7.145-4.882l-0.357-1.43l3.453-4.524l7.146-10.597l0.594-1.072h1.193l2.26,2.858l0.596,0.479l0.238-13.336l2.26-1.191v-5.121l-0.594-8.333l2.858-11.668l-8.575-6.312l-6.548,5.478l-3.45,0.476l-1.668,1.786l-5.718-0.832l-2.854-3.215l-1.664-5.122l0.236-2.021l-4.525-2.858l-2.621,4.289l-4.881-3.096l-0.834-0.835l2.856-7.5L433.4,7.223h-2.024l-5.119,3.688l-4.285,6.311l1.668,1.071l3.211,0.359l2.504,6.548l-1.43,2.618l-2.502,3.689l-4.644,17.147l1.785,2.856l-1.428,2.498l-10.599,7.742l-5.713-1.071l-3.215-1.191l-0.479,1.667l-4.642,18.577l-2.264,2.378l1.191,3.335l2.854,2.382l4.764-2.623l7.74,0.598l2.26-3.692l4.052-0.951l7.737,2.856l9.408,9.765v2.023l-2.024,1.429l-10.836,0.599l-3.691,2.854l-2.857-0.355l-2.022,3.214l-5.121,1.07l-3.457,5.12l-0.592,3.81l-7.379,4.763l-4.646,0.598l-5.119,6.904l-4.883,2.859l-9.408-2.025l-3.092-1.431l-3.692,3.694l-1.785,6.548l5.119,7.501l-3.335,3.451l-4.643,2.859c0,0-8.422,10.638-6.787,8.571c1.637-2.064-6.619,3.36-8.93,3.93c-2.31,0.568-14.525,1.429-14.525,1.429l-2.264-0.237l-16.906,7.144l-7.742,4.881l-2.262-1.19l-0.83-2.262l-10.36-0.597l-11.909-3.688l-3.211-3.69l-17.385-2.025l-3.217,1.43l-21.072-2.022l-0.358,3.095l1.43,4.883l-0.834,7.976l6.073,8.929l3.096,2.026l4.883-3.812h10.237l2.623,0.953l1.426,2.262l-1.19,2.5l-5.714,4.646l0.597,2.261l6.549,4.88h2.618l0.834,1.072l-0.596,2.023l4.05,3.217l9.403,1.429l4.527-1.19l5.716-5.719l6.903,0.598l2.857,4.289l-1.664,3.926l0.473,2.382l-3.688,2.263l-1.668,2.024l0.596,4.76l6.545,4.647L301.969,226.604z"}),b[64]=a._setMapInfo({index:64,cx:317,cy:226,d:"M329.934,230.111l0.24-5.476l1.785-2.499l-0.832-2.62l-9.168-3.454l0.594-3.691l2.858-4.049l-1.786-6.19l-0.835-0.952l-5.954,4.049l-2.855,9.168l-0.953,6.31l-4.762,3.93l-2.859,1.189l-3.438,0.779c0,0,9.184,11.236,7.729,9.458c-1.455-1.78,1.664,7.146,1.664,7.146l-0.834,3.449l5.357,2.859v2.262l4.881,1.19h1.43v-4.048l3.691-0.597l0.951-4.763l-2.619-2.026l-2.023-2.021l0.832-9.163l2.023-1.073l3.453,1.43L329.934,230.111z"}),b[63]=a._setMapInfo({index:63,cx:219,cy:244,d:"M153.954,234.989l4.523,1.667l7.742-2.617l-1.193-1.429h-2.021l-0.834-2.259l0.594-2.024l3.692-1.668l2.617-4.286l-7.977-6.548l-0.356-6.906c0,0,2.08-2.545,3.689-2.856c1.609-0.313,26.317-5.119,26.317-5.119l1.783-1.428l3.931,0.594l13.215,3.095l3.93,2.265l5.714,3.451l3.692-0.237l5.714-3.452l7.501,1.188l4.882-2.616l9.999,6.309l5.36-2.023l2.856,6.903l6.907,4.286l5.119,4.527l3.691-1.431l7.146,9.405l1.426,6.071l2.619,3.688l-0.832,7.146l-5.715,4.524l1.073,2.856l-2.265,2.263l-2.856,2.62v4.879l-2.621,2.027l-3.097-0.954l-2.617-2.5l-1.431,2.859l1.787,2.499l4.524,0.594l4.287,4.288h2.618l2.024,2.265l-1.787,4.046v0.239l-3.688-0.479l-2.621,1.905l-1.666-2.856l-4.524,1.785l-1.19,2.264v3.451l-4.524,0.836l-5.715-5.716l-1.787-2.856l-4.524,1.428l-7.738-2.262l-11.67,1.666l-0.952,1.189l-1.071,3.69l-2.263,1.43l0.238,3.692l-6.906,8.931l-11.43-2.383l-0.833-4.285l-7.146-5.718l-15.717-2.498l-6.786-1.19l-2.621-0.238l-5.953-4.883l-12.384-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.313l-2.858-2.856L153.954,234.989z"}),b[51]=a._setMapInfo({index:51,cx:286,cy:310,d:"M279.33,280.95l1.788-4.05l-2.025-2.261l-0.357-3.454l7.145-3.096h1.787l1.069,2.619l0.357,3.336l3.455,2.384l4.522,4.521l2.621-1.669l1.664,1.669l0.6,4.525l2.855,2.021l7.383,0.599l1.189-1.431l-0.357-2.023l4.287-1.07l2.381,0.478l0.238,2.617l2.024,0.237l7.382-1.427l1.43,0.593l0.354,2.026l3.099,0.834l6.549,3.214v7.47l-3.932,1.059l-1.351,7.671l-5.346,3.72l-1.014,5.811l-4.564-2.092l-5.58,2.092l-0.231,4.416l-0.464,4.53l6.507,4.07l2.28,6.977l-2.623,0.833l-3.928-2.263l-3.213,3.691v1.666l6.311,3.452l1.427,2.62l-4.523,1.666l-6.904-0.238l-0.831-2.855l-2.621-0.954l-4.285,2.623l-2.859-1.429l-0.238-3.694l-1.43-1.786v-1.903l-4.047-0.952l-1.072,1.188l0.599,2.858l-3.215,1.431l-0.836,2.021l0.836,2.504l-7.146,8.334l1.191,9.764l-3.453,2.855l-1.666-1.784l-6.906,4.049l-2.621-1.431l-10.001-19.17l-3.931-2.854l-3.216-0.835l-1.428-2.623l1.787-2.854l-2.857-2.264l-3.455,2.858l-3.45,0.595l-2.264-10.359l-0.597-2.499c0,0-2.04-22.568-0.594-16.55c1.446,6.017-3.099-8.336-3.099-8.336l2.267-1.665l-6.55-12.027l-7.977-6.311l1.069-3.692l0.953-1.188l11.669-1.666l7.738,2.262l4.523-1.431l1.785,2.859l5.717,5.715l4.524-0.833v-3.453l1.191-2.266l4.522-1.783l1.667,2.856l2.621-1.903l3.689,0.478v-0.241H279.33z"}),b[37]=a._setMapInfo({index:37,cx:438,cy:228,d:"M425.661,252.611l0.597-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.429-2.62l0.356-1.43l2.857-1.667l0.834-3.45l2.854-0.595l7.98-13.454l-1.429-2.264l1.429-1.427l1.666,0.595l2.619-1.429l1.432-3.094l6.545-6.073l5.121-1.666l2.381-2.266l-0.592-4.88l-3.457-0.355l-7.738,0.952l-5.356-2.62l-3.216,0.596l-7.977,10.239l-2.262,1.429l-5.117-2.263l-0.359-2.619l-1.069-4.523l-2.859-1.669l-4.643,1.073l-2.882-1.971l-4.266,5.423l-4.523,1.188c0,0-8.514,7.798-6.313,5.718c2.201-2.081-6.902,12.5-6.902,12.5l1.783,3.45l-0.357,1.431v1.666l0.957,1.429l2.261-1.669l3.69-0.834l-10.002,11.074v2.621l2.023,0.596l4.524,3.93l7.146-0.835L425.661,252.611z"}),b[31]=a._setMapInfo({index:31,cx:485,cy:287,d:"M484.32,292.485l-3.998-3.332c0,0,0.867-0.375,1.898-2.251c1.031-1.875,1.426-4.286,1.426-4.286l4.287,1.788l2.027,2.854l-1.433,2.024L484.32,292.485z"}),b[14]=a._setMapInfo({index:14,cx:378,cy:217,d:"M363.393,259.519l8.217-2.265l10.357-7.142l7.381-1.431l5.477-4.287l0.599-9.405l-2.623-3.449l0.836-2.856l1.787-2.619l0.477-3.929l1.785-2.86l-2.859-5.713l-4.047-4.645l2.262-7.383l4.886-3.212l0.83-4.765l-1.904-4.286v-5.242l-3.215-2.854l-7.381,3.809l-1.191-1.189l-3.93,2.855l-3.213-0.235l-6.312,9.048h-1.906l-3.452,2.858l0.237,4.046l-1.67,3.452l-0.594,4.525l-3.096,4.884l3.334,6.905l-1.07,3.929l-2.619,4.286c0,0,4.146,18.996,3.689,16.903s-2.498,8.81-2.498,8.81L363.393,259.519z"}),b[61]=a._setMapInfo({index:61,cx:351,cy:260,d:"M363.393,259.519l-1.428-3.454l2.498-8.81l-3.689-16.903c0,0,3.262-5.777,2.619-4.286c-0.646,1.49,1.07-3.929,1.07-3.929l-3.334-6.905l3.096-4.884l0.594-4.525l1.67-3.452l-0.238-4.046l-1.432-1.074l-2.26,2.502l-6.072,0.356l-3.096,4.526l0.236,2.62l-0.593,1.665l-2.502,0.834l-9.406,13.454l-1.19-0.836l-2.617-0.594l-5.359,0.359l-1.789,2.499l-0.233,5.478l0.834,1.667l9.166,4.637l4.883,3.099l0.832,2.855l-2.619,3.691l1.431,4.286l-0.835,2.021l-6.784,0.6l-1.433,0.835l0.478,1.188v1.904l-5.355,0.596l-2.856-1.428h-3.691l-0.596,0.832l0.596,2.026l-1.789,2.022l-0.592,2.261l3.451,2.861l-2.5,5.117l1.071,2.619l-0.237,1.191h-4.052l-2.854,1.429l2.262,3.098l-1.43,4.048l2.383,0.478l0.238,2.617l2.021,0.237l7.386-1.427l1.43,0.593l0.354,2.025l3.099,0.835l6.547,3.216l3.69-1.434l8.097,2.857l1.666,2.26l4.051-0.829l-0.596-4.288l-0.834-1.191l0.834-3.451l4.286-2.021l1.068-1.668l-2.26-0.837l-2.5-0.593l-2.619-2.62l1.189-1.068h8.571h1.908l1.189,0.83l2.616-2.022v-3.454l-7.737-11.668L363.393,259.519L363.393,259.519z"}),b[12]=a._setMapInfo({index:12,cx:425,cy:193,d:"M430.413,200.491c0,0-1.832,1.672-3.319,1.284c-1.49-0.388-5.479-1.428-5.479-1.428l-0.237-1.429l-0.238-9.169l3.69-1.667l-0.596-1.666l0.81-3.557l0.385-1.683l1.901,0.95l0.953,3.098l-0.356,2.022l4.047,2.858l0.594,2.263l-2.379,1.668l-0.834,3.809L430.413,200.491z"}),b[71]=a._setMapInfo({index:71,cx:497,cy:378,d:"M505.438,371.203l-3.217,19.169l-1.664,6.07v5.123l-1.43,1.427l-3.451-5.119l-3.693-2.858l-3.215-8.571c0,0-0.451-5.62,0.357-7.74c0.809-2.118,5.356-14.05,5.356-14.05l6.313-5.357l4.051,1.904L505.438,371.203z"}),b[91]=a._setMapInfo({index:91,cx:422,cy:410,d:"M417.745,409.005l3.394,0.773l3.453-2.558l1.666,4.582c0,0-5.521,2.673-3.691,1.785c1.828-0.884-4.641-0.355-4.641-0.355l-0.834-3.454L417.745,409.005z"}),b[65]=a._setMapInfo({index:65,cx:125,cy:167,d:"M153.889,69.508l2.327-0.014l-1.428,4.525l2.025,2.38l0.236,1.666l4.525,4.524l1.191,3.453l5.953,0.357l2.62,2.265h1.429l3.453,7.379l3.451,8.931l-1.784,5.357l0.358,2.025l-3.215,5.477l0.833,4.286l11.192,4.763l12.025,1.788l12.503,8.571l4.049,1.429l0.237,2.261l2.619,5.478l2.619,7.146l3.333,5.953l-1.903,2.263v4.047l-4.286,2.026l-10.596,4.284l-6.907,5.719l-4.881,2.26l-0.834,3.453l1.43,16.55l-3.931-0.596l-1.783,1.431l-26.315,5.119l-3.691,2.856l0.358,6.906l7.978,6.548l-2.62,4.286l-3.69,1.668l-0.597,2.024l0.835,2.259h2.021l1.192,1.429l-7.738,2.617l-4.525-1.667l-2.382-1.424h-5.715l-10.24-4.642h-6.546l-5.121,1.428h-5.714l-8.931,4.879l-7.143-0.834l-7.145,2.5l-5.956-1.907l-3.689-3.211l-9.525-1.427l-6.191,4.28l-3.452-1.425l-2.858-2.263l-6.907-1.667l-1.07-1.189l-2.857-0.237l-9.782,5.945l-10.037-1.25l-0.822-0.359l1.113-8.623l-4.524-1.191l-9.406-6.902l-2.62-0.241l-2.023-4.525l1.427-4.643l-0.477-2.26l-3.451-2.266l-1.192-2.26l-7.143-4.049v-1.189l3.452-1.431l2.023,1.19l2.025-2.025l-0.598-6.785l0.598-5.716l-4.646-4.642l-3.095,0.833l-1.189-3.336l1.785-3.452l-0.952-3.214l3.038-2.749l1.248-1.182v-2.618l4.285-2.024l4.286-0.833l3.811-1.429l3.099,0.832l2.26-0.832l0.833,0.595l0.356,2.859l2.022,0.832l4.765-0.238c0,0,3.566-4.729,5.478-6.073c1.911-1.346,11.19,2.381,11.19,2.381l5.717-4.048l16.552-3.689l1.069-2.264l1.43-6.31l4.643-3.69h1.433v-1.906l0.236-15.836l0.833-3.212l-4.521-1.668l-0.24-1.191l4.762-1.428l12.384-1.073l1.905,2.501l4.287,0.952l1.192,0.239l1.665-2.262l-2.265-2.263l9.169-18.574l1.431-0.953l8.335,4.047h3.689l1.667,2.264l7.979-2.502l2.023-13.212l3.452-2.265l4.048-0.238l2.859-3.452l1.071-3.454l2.263-1.191L153.889,69.508z"}),b[54]=a._setMapInfo({index:54,cx:130,cy:288,d:"M152.525,339.529l6.787,0.834l2.265,3.216l1.189,0.477l10.239-1.904l0.594-1.787l2.023-1.07l4.884-4.05l4.285-0.594l3.93-2.501l7.74-4.286l0.832,1.428l5.716,1.904l8.334-4.285l2.618,1.787l-2.379,3.452l0.952,0.833h3.332l0.359,1.427l-2.857,5.121l0.833,0.834h1.666l8.336,2.265l3.691-3.099l5.478,4.289l1.667-2.026l1.43,1.431h1.784l0.834-1.431l-0.356-6.549l1.429-0.835l3.451-4.284l-0.594-16.549l-3.099-8.337l2.265-1.665l-6.548-12.027l-7.979-6.311l-2.26,1.43l0.238,3.692l-6.908,8.931l-11.428-2.384l-0.833-4.286l-7.146-5.716l-15.717-2.498l-6.787-1.188l-2.619-0.241l-5.952-4.883l-12.385-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.311l-2.858-2.858l3.811-3.095l-2.383-1.425h-5.716l-10.238-4.644h-6.549l-5.118,1.43h-5.715l-8.931,4.879l-7.144-0.834l-7.146,2.5l-5.954-1.906l-3.688-3.212l-9.526-1.427l-6.192,4.28l-3.45-1.425l-2.859-2.263l-6.908-1.667l-1.065-1.189l-2.857-0.237l-9.782,5.945l-10.412-1.297l2.428,4.398l2.68,1.995l-0.821,3.842l-0.231,3.758l0.256,2.672l0,0l-0.193,3.208l3.451,3.454l0.239,4.884l-1.072,1.907l-5.119,0.591l-2.621-2.854l-2.619,0.355l-0.476,2.265l1.428,3.688l0.479,2.62v3.333l-0.833,2.381l0.354,1.909l3.336,0.356l1.785,3.094l7.739,6.071v1.906l5.716,6.311l1.902,2.262l1.79,0.595l3.451-3.451l3.096,2.856c0,0,15.395,13.684,13.098,11.193c-2.297-2.491,2.381,5.715,2.381,5.715h2.859l1.667-1.665l1.426,1.428v5.117l7.741,4.287l1.667-0.357l1.191,4.287l6.548,3.81l0.238,2.501l1.188,0.835l5.717-0.24h3.098l4.644,3.457l10.24-0.359l5.476-0.239l1.428,2.265l-1.188,4.883l1.427,1.664l5.715-4.761l7.146-5.239l5.12,0.95L152.525,339.529z"}),b[53]=a._setMapInfo({index:53,cx:271,cy:390,d:"M313.622,349.296l-0.836-2.858l-2.618-0.954l-4.283,2.622l-2.859-1.432l-0.238-3.688l-1.43-1.79v-1.903l-4.049-0.952l-1.07,1.188l0.599,2.859l-3.217,1.43l-0.834,2.021l0.834,2.5l-7.146,8.336l1.191,9.766l-3.453,2.854l-1.666-1.784l-6.907,4.048l-2.618-1.431c0,0-11.535-22.106-10.002-19.172c1.533,2.938-3.931-2.854-3.931-2.854l-3.213-0.834l-1.432-2.619l1.787-2.859l-2.857-2.263l-3.455,2.859l-3.451,0.598l-2.263-10.363l-0.596-2.499l-3.454,4.286l-1.427,0.831l0.356,6.551l-0.834,1.431h-1.784l-1.43-1.431l-1.667,2.026l1.667,7.381h2.024l1.667,1.19c0,0,0.468,2.396,0.594,4.521c0.125,2.125-0.833,15.719-0.833,15.719l-10.837,9.766l-0.594,3.689l-2.024,1.787l-0.238,1.903l1.669,4.643l-1.431,3.454l0.834,0.478l5.478-1.433l7.738-0.476l-0.834,3.098l1.431,2.857l0.475,4.287l0.955,1.426l4.524,0.243l2.024,1.425l-2.264,2.856l-0.356,3.453l-1.667,4.05l1.068,1.43l2.86,0.238l4.881,1.784l-0.593,1.667l3.212,4.881h4.524l5.716-3.213l1.786,0.952v1.906l0.832,2.856l1.432,1.429l3.092-0.477l1.192,0.834l1.072-1.192v-4.525l-1.906-8.333l1.431-2.5h4.762h1.192l2.62-3.213l6.783,2.261l2.858-2.503l1.431,1.432l2.858-1.786l2.615,2.618h1.073l0.953-1.428l2.261-2.263l1.073,0.833l3.213-0.595l3.099-2.502l2.619-3.811l3.688-0.831l2.023,2.021l1.43-4.048l2.857-0.235l1.069-0.834l0.957-3.691l-1.192-2.023l-9.765-1.785l-1.668-2.857h-2.854h-2.619l-1.906-3.097l0.24-1.665l1.188-6.907l-3.809-3.689l2.859-12.027l-1.908-1.667l-6.309,1.906l-1.431-2.501v-2.856l-1.428-1.43l3.094-4.286l3.453,1.07l1.43-1.429l6.313,0.951l2.856-0.951L313.622,349.296z"}),b[33]=a._setMapInfo({index:33,cx:475,cy:314,d:"M483.793,336.063l-6.455,2.276l-3.693-3.69l-2.498,3.215h-4.049l-1.666-3.454l-2.023-5.118l-3.692-0.596l-4.047-7.501l-2.619-3.69l1.903-1.818l0.716-0.685c0,0,6.241-8.84,4.286-6.07c-1.954,2.769-0.239-4.882-0.239-4.882l1.43-1.906l3.336-0.594l0.951-1.43l-1.189-2.263l1.666-2.382v-4.524l2.384-1.189l3.928,2.382l4.879,0.835l3.225-3.824l3.998,3.332l-1.744,1.324l-2.021,3.096l-3.217,0.952l-1.074,0.833l3.098,1.666l5.715-2.499l9.406,3.929l0.953,7.979h-3.809l-0.24,2.382l2.024,3.332l-1.784,2.024l2.022,3.214l-3.096,3.69l-1.43-1.787l-4.644,11.788L483.793,336.063z"}),b},_setMapInfo:function(a){var b={index:a.index,element:null,cx:a.cx,cy:a.cy,d:a.d};return b}};return b}),KISSY.add("brix/gallery/charts/js/e/map/view/widget",function(a,b,c,d,e,f,g,h,i,j,k){function m(){var a=this;m.superclass.constructor.apply(a,arguments),a.init()}var l=c.all;return m.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},values:{org:[],data:[]}}},_dis:{value:4},_angle_left:{value:235},_angle_right:{value:309},_radius:{value:155},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_timeoutId:{value:0},_timeoutDelay:{value:300}},a.extend(m,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a._widget()},_widget:function(){var a=this;a.set("element",new g("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_graphs",new k({parent:a.get("element")})),a.set("_infos",new i),a.set("_globalInduce",new h);var b=parseInt(Math.min(a.get("w"),a.get("h")))-a.get("_dis"),c={parent:a.get("element"),data:a.get("_DataFrameFormat").values.data,w:a.get("w")-2*a.get("_dis"),h:a.get("h")-2*a.get("_dis")};a.get("_graphs").widget(c),a.get("_infos").init({parent:a.get("element")});var c={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(c),a.set("_induces",new k({parent:a.get("element"),id:"induces"}));var c={parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").values.data,isInduce:1,w:a.get("w")-2*a.get("_dis"),h:a.get("h")-2*a.get("_dis")};a.get("_induces").get("element").on(j.COMPLETE,function(b){a._completeHandler(b)}),a.get("_induces").get("element").on(j.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(j.OUT,function(b){a._outHandler(b)}),a.get("_induces").widget(c)},_getRPoint:function(a,b,c,d,e){var e=e*Math.PI/180;return{x:Math.cos(e)*c+a,y:Math.sin(e)*d+b}},_completeHandler:function(){var a=this,b=(a.get("w")-a.get("_graphs").get("map_w"))/2,c=(a.get("h")-a.get("_graphs").get("map_h"))/2;a.get("_graphs").get("element").transformXY(b,c),a.get("_induces").get("element").transformXY(b,c),a.set("_radius",a.get("_graphs").get("map_scale")*a.get("_radius"))},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=this,c=a.index,d=Number(a.cx)+Number(this.get("_graphs").get("element").get("_x")),e=Number(a.cy)+Number(this.get("_graphs").get("element").get("_y")),f=b.get("w")/2<d?b.get("_angle_left"):b.get("_angle_right"),g=b._getRPoint(d,e,b.get("_radius"),b.get("_radius"),f),h=a.content,i=b.get("config").info.frame_fill,j={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:g.x,y:g.y,data:h,base_fill:i},hLine:{is:0},hInfo:{is:0},arrow:{is:1,x:d,y:e}};this.get("_infos").move(j),this.get("_graphs").induce({index:a.index,id:a.id},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index,id:a.id},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.values.org=b.values.data,a.values.data=b.data,a}}),m},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/move","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/e/pie/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{fills:{order:0,normals:["0x458AE6","0x45B5E6","0x39BCC0","0x5BCB8A","0x94CC5C","0xC3CC5C","0xE6B522","0xE68422","0xB0704A","0x6280A1"],overs:["0x135EBF","0x3997BF","0x2E9599","0x36B26A","0x78A64B","0x9CA632","0xBF9E39","0xBF7C39","0x8C5738","0x4D6580"]}}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0],i=h.getElementsByTagName("colors")[0];return i&&(d.fills.order=i.getAttribute("normals")&&String(i.getAttribute("normals"))?1:d.fills.order,d.fills.normals=i.getAttribute("normals")&&String(i.getAttribute("normals"))?String(i.getAttribute("normals")).split(","):d.fills.normals,d.fills.overs=i.getAttribute("overs")&&String(i.getAttribute("overs"))?String(i.getAttribute("overs")).split(","):d.fills.overs),d.fills.normals=c._trimFills(d.fills.normals),d.fills.overs=c._trimFills(d.fills.overs),d},_trimFills:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=String(a[c]);e=e.replace("0x","#"),b.push(e)}return b}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/pie/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:"",data:[]},values:{names:[],data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("indexAxis")[0],i=h.getElementsByTagName("key")[0],j=g.getElementsByTagName("sets")[0],k=j.getElementsByTagName("set")[0];return d.key.indexs=i&&String(i.getAttribute("indexs"))?String(i.getAttribute("indexs")):d.key.indexs,d.values.data=k.getAttribute("values")&&String(k.getAttribute("values"))?String(k.getAttribute("values")).split(","):d.values.data,d.values.names=k.getAttribute("names")&&String(k.getAttribute("names"))?String(k.getAttribute("names")).split(","):d.values.names,d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/pie/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new e).parse(a.get("data"))),a.set("_config",(new f).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new g(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./control/dataparse","./control/configparse","./view/widget"]}),KISSY.add("brix/gallery/charts/js/e/pie/model/eventtype",function(a){var b={MOVE:"move",OVER:"over",OUT:"out",COMPLETE:"complete"};return b}),KISSY.add("brix/gallery/charts/js/e/pie/view/graphs",function(a,b,c,d,e,f,g,h,i){function j(){var a=this;j.superclass.constructor.apply(a,arguments),this._move=[]}return j.ATTRS={w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:0},fills:{value:[]},fills_over:{value:[]},x0:{value:0},y0:{value:0},xr:{value:100},yr:{value:100},mw:{value:300},mh:{value:300},tr:{value:60},_elements:{value:null},_induces:{value:null},_index:{value:-1},_startR:{value:0},_total:{value:0},_elementList:{value:[]},_angleList:{value:[]},_scaleList:{value:[]},_moveList:{value:[]},_elementArr:{value:[]},_disR:{value:1},_disMinCirR:{value:16},_disMove:{value:8},_minCirR:{value:2.5},_font_fill:{value:"#FFFFFF"},_font_family:{value:"Tahoma"}},a.extend(j,b,{init:function(){var a=this;j.superclass.constructor.apply(a,arguments),a.set("element",new f("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a.set("_total",d.getTotalForArray(a.get("data"))),a.set("_angleList",a._getAngleList(a.get("data"),a.get("_total"),a.get("_startR"))),a.set("_scaleList",a._getScaleList(a.get("data"),a.get("_total"))),a.get("data").length<=1&&a.set("_disR",0),a._widget(),a._layout()},induce:function(a,b){var c=this;c._induce(a.index,b)},_widget:function(){var a=this;a.set("_elements",new f("g")),a.get("_elements").set("class","elements"),a.get("element").appendChild(a.get("_elements").element),a.set("_induces",new f("g")),a.get("_induces").set("class","induces"),a.get("element").appendChild(a.get("_induces").element)},_layout:function(){var a=this;for(var b=0,c=a.get("_angleList").length;b<c;b++){var d=new f("g");d.set("class","element"),d.transformXY(0,0),a.get("_elements").appendChild(d.element),a.get("_elementArr").push(d);var e=new f("g");e.set("class","graph"),d.appendChild(e.element);var g=a.get("fills")[b]?a.get("fills")[b]:"#000000",i=a.get("_angleList")[b][0],j=i,k=a.get("_angleList")[b][1];i=i-a.get("_disR"),k=k-2*a.get("_disR");if(a.get("isInduce")==0){var l=[],m=a._getRPoint(a.get("x0"),a.get("y0"),a.get("xr"),a.get("yr"),i);l.push(m);for(var n=i,o=k;n<=o;n++)m=a._getRPoint(a.get("x0"),a.get("y0"),a.get("xr"),a.get("yr"),n),l.push(m);i=a.get("_angleList")[b][0];for(var p=k,q=i;p>=q;p--)m=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))-Number(a.get("tr")),Number(a.get("yr"))-Number(a.get("tr")),p),l.push(m);m=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))-Number(a.get("tr")),Number(a.get("yr"))-Number(a.get("tr")),i),l.push(m),e.appendChild(a._fillLine({lines:l,fill:g,stroke:"none"}).element)}var r=new f("g");r.set("class","induce"),a.get("_induces").appendChild(r.element),i=a.get("_angleList")[b][0]-a.get("_disR"),k=a.get("_angleList")[b][1]-2*a.get("_disR");var l=[],m=a._getRPoint(a.get("x0"),a.get("y0"),a.get("xr")+a.get("_disMove"),a.get("yr")+a.get("_disMove"),i);l.push(m);for(var s=i,t=k;s<=t;s++)m=a._getRPoint(a.get("x0"),a.get("y0"),a.get("xr")+a.get("_disMove"),a.get("yr")+a.get("_disMove"),s),l.push(m);i=a.get("_angleList")[b][0];for(var u=k,v=i;u>=v;u--)m=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))-Number(a.get("tr")),Number(a.get("yr"))-Number(a.get("tr")),u),l.push(m);m=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))-Number(a.get("tr")),Number(a.get("yr"))-Number(a.get("tr")),i),l.push(m),r.element.addEventListener("mouseover",function(b){a._overHandler(b)},!1),r.element.addEventListener("mousemove",function(b){a._moveHandler(b)},!1),r.element.addEventListener("mouseout",function(b){a._outHandler(b)},!1),r.appendChild(a._fillLine({lines:l,fill:"#000000",stroke:"none",opacity:0}).element),r.set("_index",b);var w=0;Math.abs(i)>Math.abs(k)?w=(i-k)/2:w=(k-i)/2,w=i+(k-i)/2;var x=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))-Number(a.get("tr"))/2,Number(a.get("yr"))-Number(a.get("tr"))/2,w-a.get("_disR")/2);a.get("_moveList").push(a._getRPoint(a.get("x0"),a.get("y0"),a.get("_disMove"),a.get("_disMove"),w-a.get("_disR")/2));if(a.get("isInduce")==0){var y;if(k-j>=15)y=h.text({content:String(a.get("_scaleList")[b])+"%",size:x.size,fill:a.get("_font_fill"),bold:1,family:a.get("_font_family")}),d.appendChild(y.element),y.transformXY(x.x-y.getWidth()/2,x.y);else{var z;x=a._getRPoint(a.get("x0"),a.get("y0"),Number(a.get("xr"))+Number(a.get("_disMinCirR")),a.get("yr")+Number(a.get("_disMinCirR")),w-a.get("_disR")/2),y=h.text({content:String(a.get("_scaleList")[b])+"%",size:x.size,fill:g,bold:1}),d.appendChild(y.element),y.transformXY(x.x-y.getWidth()/2,x.y+y.getHeight()/4)}}}},_fillLine:function(a){var b=this,a=a?a:{},c=a.lines,d=a.fill?a.fill:"none",e=a.opacity||a.opacity==0?a.opacity:1,h=a.stroke?a.stroke:"#000000",i=a.stroke_width?a.stroke_width:1,j=g.symbol("lines","","","","",c),k=new f("path");return k.attr({d:j,fill:d,stroke:h,"stroke-width":i,opacity:e}),k},_getAngleList:function(a,b,c){var d=this,e=[],f=c;for(var g=0,h=a.length;g<h;g++)if(g==h-1)e.push([f,360+d.get("_startR")]);else{var i=Math.round(a[g]/b*360),j=f+i;e.push([f,j]),f=j}return e},_getScaleList:function(a,b,c){var d=this,c=c?c:0,e=[],f=Math.pow(10,c);for(var g=0,h=a.length;g<h;g++)e.push(Math.round(a[g]/b*100*f)/f);return e},_getRPoint:function(a,b,c,d,e){var e=e*Math.PI/180;return{x:Math.cos(e)*c+a,y:Math.sin(e)*d+b}},_overHandler:function(b){var c=this,d=a.one(b.target).parent().attr("_index"),e=c._globalToLocal({x:b.layerX,y:b.layerY}),f=e.x,g=e.y;e=c._getInfo({index:d,x:f,y:g}),c.get("element").fire(i.OVER,e)},_moveHandler:function(b){var c=this,d=a.one(b.target).parent().attr("_index"),e=c._globalToLocal({x:b.layerX,y:b.layerY}),f=e.x,g=e.y;e=c._getInfo({index:d,x:f,y:g}),c.get("element").fire(i.MOVE,e)},_outHandler:function(b){var c=this,d=a.one(b.target).parent().attr("_index"),e=c._globalToLocal({x:b.layerX,y:b.layerY}),f=e.x,g=e.y;e=c._getInfo({index:d,x:f,y:g}),c.get("element").fire(i.OUT,e)},_globalToLocal:function(a){var b=this,c={};return c.x=a.x-b.get("x"),c.y=a.y-b.get("y"),c},_getInfo:function(a){var b=this,c={};return c.index=a.index,c.x=a.x,c.y=a.y,c.fill=b.get("fills")[c.index],c.fill_over=b.get("fills_over")[c.index],c.contents=String(b.get("_scaleList")[c.index])+"%",c},_induce:function(a,b){var c=this,d=c.get("_elementArr")[a];b?(x=c.get("_moveList")[a].x,y=c.get("_moveList")[a].y):(x=0,y=0);var f=Math.floor(Math.random()*100);this._move&&this._move[a]&&(this._move[a].stop(),this._move[a]=null),this._move[a]=new e({x:Number(d.get("_x")),y:Number(d.get("_y"))},{x:Number(x),y:Number(y)},.2,function(a){d.transformXY(a.x,a.y)},function(){"a"})}}),j},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/move","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/pie/view/widget",function(a,b,c,d,e,f,g,h,i,j){function l(){var a=this;l.superclass.constructor.apply(a,arguments),a.init()}var k=c.all;return l.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},values:{names:[],org:[],data:[],all:[]}}},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_dis:{value:20},_timeoutId:{value:0},_timeoutDelay:{value:300}},a.extend(l,b,{init:function(){var b=this;b.set("_DataFrameFormat",b.DataExtend(b.get("_DataFrameFormat"),b.get("DataSource"))),b.get("_DataFrameFormat").values.data=a.clone(b.get("_DataFrameFormat").values.org).sort(function(a,b){return b-a}),b.get("_DataFrameFormat").values.all=b._trimData(),b._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_graphs",new j),a.set("_infos",new h),a.set("_globalInduce",new g),a.set("_induces",new j);var b=parseInt(Math.min(a.get("w"),a.get("h")))-a.get("_dis"),c={x:parseInt(a.get("w")/2),y:parseInt(a.get("h")/2),parent:a.get("element"),data:a.get("_DataFrameFormat").values.data,mw:b,mh:b,xr:b/2-26,yr:b/2-26,tr:(b/2-26)*.6};a.get("config").fills.normals.length>0&&(c.fills=a._getArrayForObjectPro(a.get("_DataFrameFormat").values.all,"normal"),c.fills_over=a._getArrayForObjectPro(a.get("_DataFrameFormat").values.all,"over")),a.get("_graphs").init(c),a.get("_graphs").get("element").transformXY(parseInt(a.get("w")/2),parseInt(a.get("h")/2)),a.get("_infos").init({parent:a.get("element")});var c={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(c);var c={x:parseInt(a.get("w")/2),y:parseInt(a.get("h")/2),parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").values.data,isInduce:1,mw:b,mh:b,xr:b/2-26,yr:b/2-26,tr:(b/2-26)*.6};a.get("config").fills.normals.length>0&&(c.fills=a._getArrayForObjectPro(a.get("_DataFrameFormat").values.all,"normal"),c.fills_over=a._getArrayForObjectPro(a.get("_DataFrameFormat").values.all,"over")),a.get("_induces").init(c),a.get("_induces").get("element").on(i.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(i.MOVE,function(b){a._moveHandler(b)}),a.get("_induces").get("element").on(i.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(parseInt(a.get("w")/2),parseInt(a.get("h")/2))},_trimData:function(){var a=this,b=[];for(var c=0,d=a.get("_DataFrameFormat").values.org.length;c<d;c++){var e={};e.name=a.get("_DataFrameFormat").values.names[c],e.data=Number(a.get("_DataFrameFormat").values.org[c]),a.get("config").fills.order==1&&(e.normal=a.get("config").fills.normals[c]?a.get("config").fills.normals[c]:"",e.over=a.get("config").fills.overs[c]?a.get("config").fills.overs[c]:""),b.push(e)}b.sort(function(a,b){return a.data<b.data});for(var f=0,g=b.length;f<g;f++){var e=b[f];a.get("config").fills.order==0&&(e.normal=a.get("config").fills.normals[f]?a.get("config").fills.normals[f]:"",e.over=a.get("config").fills.overs[f]?a.get("config").fills.overs[f]:"")}return b},_getArrayForObjectPro:function(a,b){var c=[];for(var d=0,e=a.length;d<e;d++){var f=a[d];c.push(f[b])}return c},_overHandler:function(a){this.get("_graphs").induce({index:a.index},!0)},_moveHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=Number(a.x)+Number(this.get("_graphs").get("element").get("_x")),d=Number(a.y)+Number(this.get("_graphs").get("element").get("_y")),e=a.fill_over,f=[];f[0]=[];var g={};g.content=this.get("_DataFrameFormat").values.all[b].name+"  ",f[0].push(g),g={},g.content=a.contents,f[0].push(g);var g={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:c,y:d,data:f,base_fill:e},hLine:{is:0},hInfo:{is:0}};this.get("_infos").update(g)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay"))),this.get("_graphs").induce({index:a.index},!1)},_outTimeout:function(){this.get("_infos").remove()},DataExtend:function(a,b){return a.values.names=b.values.names,a.values.org=b.values.data,a}}),l},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/e/scatter/control/configparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{v:"1.0",style:1}}},a.extend(e,b,{parse:function(b,c){var d=this,e=a.clone(d.o),f=c?c:"xml";return f=="xml"&&(e=d._xml(b)),e},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("data")[0];return d.v=h.getAttribute("v")&&String(h.getAttribute("v"))?String(h.getAttribute("v")):d.v,d.style=h.getAttribute("style")&&String(h.getAttribute("style"))?Number(h.getAttribute("style")):d.style,d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/scatter/control/dataparse",function(a,b,c){function e(){var a=this;e.superclass.constructor.apply(a,arguments)}var d=c.all;return e.ATTRS={o:{value:{key:{indexs:""},vertical:{name:"",data:[]},horizontal:{name:"",data:[]}}}},a.extend(e,b,{parse:function(a,b){var c,d=b?b:"xml";return d=="xml"&&(c=this._xml(a)),c},_xml:function(b){var c=this,d=a.clone(c.get("o")),e=String(b),f=new DOMParser,g=f.parseFromString(e,"text/xml"),h=g.getElementsByTagName("indexAxis")[0],i=h.getElementsByTagName("key")[0],j=g.getElementsByTagName("sets")[0],k=j.getElementsByTagName("set")[0];return d.key.indexs=i&&String(i.getAttribute("indexs"))?String(i.getAttribute("indexs")):d.key.indexs,d.vertical.name=j.getAttribute("name")&&String(j.getAttribute("name"))?String(j.getAttribute("name")):d.vertical.name,d.vertical.data=k.getAttribute("values")?String(k.getAttribute("values")).split(","):d.vertical.data,d.horizontal.name=h.getAttribute("name")&&String(h.getAttribute("name"))?String(h.getAttribute("name")):d.horizontal.name,d.horizontal.data=h.getAttribute("labels")?String(h.getAttribute("labels")).split(","):d.horizontal.data,d}}),e},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/e/scatter/main",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments),a.init()}return h.ATTRS={_main:{value:null},_config:{value:{}},_DataSource:{value:{}}},a.extend(h,b,{init:function(){var a=this;a.set("_DataSource",(new f).parse(a.get("data"))),a.set("_config",(new g).parse(a.get("config"))),a._widget()},_widget:function(){var a=this;a.set("_main",new d("g")),a.get("_main").attr({"class":"main"}),a.get("parent").appendChild(a.get("_main").element),a.get("_main").transformXY(c.N05,c.N05);var b={};b.parent=a.get("_main"),b.w=a.get("w"),b.h=a.get("h"),b.DataSource=a.get("_DataSource"),b.config=a.get("_config"),new e(b)}}),h},{requires:["base","../../pub/utils/global","../../pub/utils/svgelement","./view/widget","./control/dataparse","./control/configparse"]}),KISSY.add("brix/gallery/charts/js/e/scatter/model/eventtype",function(a){var b={OVER:"over",OUT:"out"};return b}),KISSY.add("brix/gallery/charts/js/e/scatter/view/graphs",function(a,b,c,d,e,f,g,h,i){function j(){var a=this;j.superclass.constructor.apply(a,arguments)}return j.ATTRS={x:{value:0},y:{value:0},w:{value:100},h:{value:100},id:{value:"graphs"},data:{value:[]},element:{value:null},isInduce:{value:0},style:{value:1},_groupArr:{value:[]},_groups:{value:null},_line:{value:null},_fills:{value:["#458AE6","#45B5E6","#5BCB8A","#94CC5C","#C3CC5C","#E6B552","#E68422"]},_fill_scale:{value:[]},_fills_over:{value:["#135EBF","#3997BF","#36B36A","#78A64B","#9CA632","#BF971D","#BF7C39"]},_linearGradient_id:{value:"linearGradient"}},a.extend(j,b,{init:function(){var a=this;j.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a.get("style")==1&&a._linearGradient({fills:a.get("_fills")}),a._widget(),a._layout()},induce:function(a,b){var c=this;c.get("_line").element.lastChild&&c.get("_line").element.removeChild(c.get("_line").element.lastChild);if(b){var d=c.get("_groupArr")[a.index].getInfo(),g=new e("path"),h=f.symbol("line",0,0,0,-d.y).join(" ");g.attr({stroke:"#555555","stroke-width":1,d:h}),c.get("_line").appendChild(g.element),g.transformXY(d.x,d.y)}},_widget:function(){var a=this;a.set("_line",new e("g")),a.get("_line").set("class","line"),a.get("element").appendChild(a.get("_line").element),a.set("_groups",new e("g")),a.get("_groups").set("class","groups"),a.get("element").appendChild(a.get("_groups").element),a.get("isInduce")==1&&a.get("_groups").set("opacity",0)},_layout:function(){var a=this,b=document.createDocumentFragment();for(var c=0,d=a.get("data").length;c<d;c++){if(a.get("style")==1)var e=new g;else if(a.get("style")==2)var e=new h;a.get("_groupArr").push(e);var f={index:c,x:a.get("data")[c].x,y:a.get("data")[c].y,w:a.get("w"),h:a.get("h"),parent:b,isInduce:a.get("isInduce"),key:a.get("data")[c].key};if(a.get("style")==1){f.linearGradient_id=a.get("_linearGradient_id");var j=a._getScaleIndex(Math.floor(f.x/f.w*100));f.fill=a.get("_fills")[j],f.fill_over=a.get("_fills_over")[j]}e.init(f),e.get("element").on(i.OVER,function(b){a._overHandler(b)}),e.get("element").on(i.OUT,function(b){a._outHandler(b)})}a.get("_groups").appendChild(b)},_linearGradient:function(a){var b=this,a=a?a:{},c=a.id?a.id:"linearGradient",d=a.fills?a.fills:[],f=new e("defs");b.get("element").appendChild(f.element);var g=new e("linearGradient");g.attr({id:c}),f.appendChild(g.element);for(var h=0,i=d.length;h<i;h++){var j=new e("stop"),k=Math.floor(1/(d.length-1)*h*100);j.attr({"stop-color":d[h],"stop-opacity":1,offset:k+"%"}),g.appendChild(j.element),b.get("_fill_scale").push(k)}},_getScaleIndex:function(a){var b=this;return d.disMinATArr(a,b.get("_fill_scale"))},_overHandler:function(a){var b=this;b.get("element").fire(i.OVER,a)},_outHandler:function(a){var b=this;b.get("element").fire(i.OUT,a)},_globalToLocal:function(a){var b=this,c={};return c.x=a.x-b.get("x"),c.y=a.y-b.get("y"),c}}),j},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","./group","./group2","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/scatter/view/group",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments)}return i.ATTRS={index:{value:0},element:{value:null},x:{value:0},y:{value:0},w:{value:100},h:{value:100},isInduce:{value:0},key:{value:{iskey:0}},fill:{value:"#458AE6"},fill_over:{value:"#135EBF"},linearGradient_id:{value:""},clipPath_id:{value:"clipPath"},_radius:{value:10}},a.extend(i,b,{init:function(){var a=this;i.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("index")),a.get("parent").appendChild(a.get("element").element),a.get("isInduce")==0&&(a.set("clipPath_id",a.get("clipPath_id")+String(a.get("index"))),a._clipPath({id:a.get("clipPath_id"),r:a.get("_radius"),x:a.get("x"),y:a.get("y")})),a._widget()},getInfo:function(){var a=this,b=a._getInfo();return b},_widget:function(){var a=this,b=a.get("fill");a.get("key").isKey&&(b=a.get("keyFill"));var c=new e("g");a.get("element").appendChild(c.element);if(a.get("isInduce")==0){var d=new e("rect");c.appendChild(d.element);var f="url(#"+a.get("clipPath_id")+")",b="url(#"+a.get("linearGradient_id")+")";d.attr({"clip-path":f,fill:b,width:a.get("w"),height:a.get("h"),y:-a.get("h"),"fill-opacity":.8});if(a.get("key").isKey){var h=g.circle({r:a.get("_radius"),fill:"none",stroke:"#FFFFFF",stroke_width:2.5});a.get("element").element.appendChild(h.element);var i=a.get("x"),j=a.get("y");h.transformXY(i,j);var h=g.circle({r:a.get("_radius")+2,fill:"none",stroke:a.get("fill"),stroke_width:2.5});a.get("element").element.appendChild(h.element);var i=a.get("x"),j=a.get("y");h.transformXY(i,j)}else{var h=g.circle({r:a.get("_radius"),fill:"none",stroke:a.get("fill"),stroke_width:2});a.get("element").element.appendChild(h.element);var i=a.get("x"),j=a.get("y");h.transformXY(i,j)}}else{var h=g.circle({r:a.get("_radius"),fill:b,stroke:b,stroke_width:2,fill_opacity:.8});h.element.addEventListener("mouseover",function(b){a._overHandler(b)},!1),h.element.addEventListener("mouseout",function(b){a._outHandler(b)},!1),a.get("element").element.appendChild(h.element);var i=a.get("x"),j=a.get("y");h.transformXY(i,j)}},_clipPath:function(a){var b=this,a=a?a:{},c=a.id?a.id:"clipPath",d=a.r?a.r:10,f=a.x?a.x:0,h=a.y?a.y:0,i=new e("defs");b.get("element").appendChild(i.element);var j=new e("clipPath");j.attr({id:c}),i.appendChild(j.element);var k=g.circle({r:d,fill:"#000000",stroke:"none"});j.appendChild(k.element),k.transformXY(f,h)},_overHandler:function(a){var b=this,c=b._getInfo();b.get("element").fire(h.OVER,c)},_outHandler:function(a){var b=this,c=b._getInfo();b.get("element").fire(h.OUT,c)},_getInfo:function(){var a=this,b={};return b.index=a.get("index"),b.x=a.get("x"),b.y=a.get("y"),b.fill=a.get("fill"),b.fill_over=a.get("fill_over"),b}}),i},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/scatter/view/group2",function(a,b,c,d,e,f,g,h){function i(){var a=this;i.superclass.constructor.apply(a,arguments)}return i.ATTRS={index:{value:0},element:{value:null},x:{value:0},y:{value:0},w:{value:100},h:{value:100},key:{value:{iskey:0}},fill:{value:"#458AE6"},fill_over:{value:"#135EBF"},keyFill:{value:"#E68422"},keyFill_over:{value:"#BF7C39"},_radius:{value:10}},a.extend(i,b,{init:function(){var a=this;i.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("parent").appendChild(a.get("element").element),a._widget()},getInfo:function(){var a=this,b=a._getInfo();return b},_widget:function(){var a=this,b=a.get("fill");a.get("key").isKey&&(b=a.get("keyFill"));var c=g.circle({r:a.get("_radius"),fill:b,stroke:b,stroke_width:2,fill_opacity:.8});c.element.addEventListener("mouseover",function(b){a._overHandler(b)},!1),c.element.addEventListener("mouseout",function(b){a._outHandler(b)},!1),a.get("element").element.appendChild(c.element);var d=a.get("x"),e=a.get("y");c.transformXY(d,e)},_overHandler:function(a){var b=this,c=b._getInfo();b.get("element").fire(h.OVER,c)},_outHandler:function(a){var b=this,c=b._getInfo();b.get("element").fire(h.OUT,c)},_getInfo:function(){var a=this,b={};return b.index=a.get("index"),b.x=a.get("x"),b.y=a.get("y"),b.fill=a.get("fill"),b.fill_over=a.get("fill_over"),a.get("key").isKey&&(b.fill=a.get("keyFill"),b.fill_over=a.get("keyFill_over")),b}}),i},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/svgelement","../../../pub/utils/svgrenderer","../../../pub/views/svggraphics","../model/eventtype"]}),KISSY.add("brix/gallery/charts/js/e/scatter/view/widget",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function o(){var a=this;o.superclass.constructor.apply(a,arguments),a.init()}var n=c.all;return o.ATTRS={w:{value:0},h:{value:0},element:{value:null},_DataFrameFormat:{value:{key:{indexs:"",data:[]},vertical:{name:"",org:[],section:[],data:[]},horizontal:{name:"",org:"",section:[],data:[]},graphs:{data:[]}}},_vertical:{value:null},_horizontal:{value:null},_back:{value:null},_graphs:{value:null},_infos:{value:null},_globalInduce:{value:null},_induces:{value:null},_disX:{value:6},_disY:{value:10},_dis_line:{value:10},_dis_graphs:{value:10},_verticalMaxH:{value:0},_verticalGraphsH:{value:0},_verticalDrawH:{value:0},_horizontalMaxW:{value:0},_horizontalGraphsW:{value:0},_horizontalDrawW:{value:0},_timeoutId:{value:0},_timeoutDelay:{value:800}},a.extend(o,b,{init:function(){var a=this;a.set("_DataFrameFormat",a.DataExtend(a.get("_DataFrameFormat"),a.get("DataSource"))),a.get("_DataFrameFormat").key.data=String(a.get("_DataFrameFormat").key.indexs).split(","),a.get("_DataFrameFormat").vertical.section=e.section(a.get("_DataFrameFormat").vertical.org),a.get("_DataFrameFormat").horizontal.section=e.section(a.get("_DataFrameFormat").horizontal.org),a._widget()},_widget:function(){var a=this;a.set("element",new f("g")),a.get("element").set("class","widget"),a.get("parent").appendChild(a.get("element").element),a.set("_vertical",new g),a.set("_horizontal",new h),a.set("_back",new i),a.set("_graphs",new m),a.set("_infos",new k),a.set("_globalInduce",new j),a.set("_induces",new m),a._trimVertical();var b={parent:a.get("element"),data:a.get("_DataFrameFormat").vertical.data};a.get("_vertical").init(b),a.get("_vertical").get("element").transformXY(a.get("_disX"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimHorizontal();var b={w:a.get("_horizontalMaxW"),parent:a.get("element"),data:a.get("_DataFrameFormat").horizontal.data,dis_left:a.get("_disX")+a.get("_vertical").get("w")-a.get("_disX")};a.get("_horizontal").init(b),a.get("_horizontal").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")),a._trimGraphs();var b={w:a.get("_horizontalMaxW"),h:a.get("_verticalMaxH"),parent:a.get("element"),data_hor:a.get("_DataFrameFormat").vertical.data,data_ver:a.get("_horizontal").getShowData(),h_ver:a.get("_verticalGraphsH")};a.get("_back").init(b),a.get("_back").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w"),a.get("h")-a.get("_horizontal").get("h")-a.get("_disY"));var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalGraphsW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),data:a.get("_DataFrameFormat").graphs.data,style:a.get("config").style};a.get("_graphs").init(b),a.get("_graphs").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05),a.get("_infos").init({parent:a.get("element")});var b={w:a.get("w"),h:a.get("h"),parent:a.get("element"),opacity:d.N00001};a.get("_globalInduce").init(b);var b={x:a.get("_disX")+a.get("_vertical").get("w")+d.N05,y:a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05,w:a.get("_horizontalGraphsW"),h:a.get("_verticalGraphsH"),parent:a.get("element"),id:"induces",data:a.get("_DataFrameFormat").graphs.data,isInduce:1,style:a.get("config").style};a.get("_induces").init(b),a.get("_induces").get("element").on(l.OVER,function(b){a._overHandler(b)}),a.get("_induces").get("element").on(l.OUT,function(b){a._outHandler(b)}),a.get("_induces").get("element").transformXY(a.get("_disX")+a.get("_vertical").get("w")+d.N05,a.get("h")-a.get("_horizontal").get("h")-a.get("_disY")+d.N05)},_trimVertical:function(){var a=this;a.set("_verticalMaxH",a.get("h")-a.get("_disY")-a.get("_horizontal").get("h")-a.get("_disY")),a.set("_verticalGraphsH",a.get("_verticalMaxH")-a._getVerticalDisY()),a.set("_verticalDrawH",a.get("_verticalGraphsH")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").vertical.section,e=[];for(var f=0,g=c.length;f<g;f++){var h=-a.get("_dis_graphs")-c[f]/b*a.get("_verticalDrawH");h=isNaN(h)?0:d.ceil(h),e[f]={value:c[f],y:h}}a.get("_DataFrameFormat").vertical.data=e},_getVerticalDisY:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_verticalMaxH")%a.get("_DataFrameFormat").vertical.section.length,d=d>c?c:d,d},_trimHorizontal:function(){var a=this;a.set("_horizontalMaxW",a.get("w")-a.get("_disX")-a.get("_vertical").get("w")-a.get("_disX")),a.set("_horizontalGraphsW",a.get("_horizontalMaxW")-a._getHorizontalDisX()),a.set("_horizontalDrawW",a.get("_horizontalGraphsW")-a.get("_dis_graphs"));var b=a.get("_DataFrameFormat").horizontal.section[a.get("_DataFrameFormat").horizontal.section.length-1],c=a.get("_DataFrameFormat").horizontal.section,e=[];for(var f=0,g=c.length;f<g;f++)e.push({value:c[f],x:d.ceil(a.get("_dis_graphs")+c[f]/b*a.get("_horizontalDrawW"))});a.get("_DataFrameFormat").horizontal.data=e},_getHorizontalDisX:function(){var a=this,b=a.get("_dis_line"),c=2*a.get("_dis_line"),d=b;return d=b+a.get("_horizontalMaxW")%a.get("_DataFrameFormat").horizontal.org.length,d=d>c?c:d,d},_trimGraphs:function(){var a=this,b=a.get("_DataFrameFormat").vertical.section[a.get("_DataFrameFormat").vertical.section.length-1],c=a.get("_DataFrameFormat").horizontal.section[a.get("_DataFrameFormat").horizontal.section.length-1],d=a.get("_DataFrameFormat").vertical.org,e=[];for(var f=0,g=d.length;f<g;f++)e[f]={value:d[f],x:a.get("_dis_graphs")+a.get("_DataFrameFormat").horizontal.org[f]/c*a.get("_horizontalDrawW"),y:-a.get("_dis_graphs")-d[f]/b*a.get("_verticalDrawH"),key:{isKey:0}};for(var h=0,i=a.get("_DataFrameFormat").key.data.length;h<i;h++)e[a.get("_DataFrameFormat").key.data[h]-1]&&(e[a.get("_DataFrameFormat").key.data[h]-1].key.isKey=1);a.get("_DataFrameFormat").graphs.data=e},_overHandler:function(a){clearTimeout(this.get("_timeoutId"));var b=a.index,c=a.id,e=Number(a.x)+Number(this.get("_graphs").get("element").get("_x")),f=Number(a.y)+Number(this.get("_graphs").get("element").get("_y")),g=a.fill_over,h=[];h[0]=[];var i={};i.content=this.get("_DataFrameFormat").vertical.name,h[0].push(i),i={},i.content=this.get("_DataFrameFormat").graphs.data[b].value,h[0].push(i);var i={w:this.get("w"),h:this.get("h"),parent:this.get("element"),info:{x:e,y:f,data:h,base_fill:g},light:{is:1,x:e,y:f,min_radius:5,max_radius:18,fill:g,fill_opacity:d.N00001},hLine:{is:1,x:e,y:this.get("_graphs").get("element").get("_y")}},j=this.get("_DataFrameFormat").horizontal.org[b],k=this.get("_DataFrameFormat").horizontal.name+j;i.hInfo={is:1,x:e,y:this.get("_graphs").get("element").get("_y"),content:k},this.get("_infos").update(i),this.get("_graphs").induce({index:a.index},!0)},_outHandler:function(a){var b=this;this.set("_timeoutId",setTimeout(function(){b._outTimeout()},b.get("_timeoutDelay")))},_outTimeout:function(){this.get("_infos").remove(),this.get("_graphs").induce({},!1)},DataExtend:function(a,b){return a.key.indexs=b.key.indexs,a.vertical.name=b.vertical.name,a.vertical.org=b.vertical.data,a.horizontal.name=b.horizontal.name,a.horizontal.org=b.horizontal.data,a}}),o},{requires:["base","node","../../../pub/utils/global","../../../pub/utils/datasection","../../../pub/utils/svgelement","../../../pub/views/vertical","../../../pub/views/horizontal","../../../pub/views/back","../../../pub/views/globalinduce","../../../pub/views/infos/infos","../model/eventtype","./graphs"]}),KISSY.add("brix/gallery/charts/js/m/datasource/datasource",function(a,b){function c(){var a=this;c.superclass.constructor.apply(a,arguments)}return c.ATTRS={o:{value:{type:"",data:""}},version:{value:{v1:"1.0"}}},a.extend(c,b,{parse:function(a,b){var c=this,d,e=b?b:"xml";return e=="xml"&&(d=c._xml(a)),d},_xml:function(a){var b=this,c,d=new DOMParser,e=d.parseFromString(a,"text/xml"),f=e.getElementsByTagName("chart")[0],g=f&&f.getAttribute("v")&&String(f.getAttribute("v"))?String(f.getAttribute("v")):"1.0";return g==b.get("version").v1&&(c=b._V1(a)),c},_V1:function(b){var c=this,d=a.clone(c.get("o")),e=new DOMParser,f=e.parseFromString(b,"text/xml"),g=f.getElementsByTagName("chart")[0];return d.type=g.getAttribute("type")&&String(g.getAttribute("type"))?String(g.getAttribute("type")):"",d.data=(new XMLSerializer).serializeToString(g.getElementsByTagName("data")[0]),d}}),c},{requires:["base"]}),KISSY.add("brix/gallery/charts/js/m/widget/widget",function(a,b,c,d){function f(){var a=this;f.superclass.constructor.apply(a,arguments),a.init()}var e=c.all;return f.ATTRS={path_chart:{value:""},_FileType:{value:{histogram:"histogram",integrate:"integrate",line:"line",line2:"line2",line3:"line3",pie:"pie",scatter:"scatter",map:"map"}},_svg:{value:null},_main:{value:null}},a.extend(f,b,{init:function(){var a=this;a.get("type")||a.set("type",a.get("_FileType").histogram),a.set("path_chart",a._getPath(a.get("_FileType")[a.get("type")])),a._widget()},_widget:function(){var b=this;b.set("_svg",new d("svg")),b.get("_svg").attr({version:"1.1",width:b.get("w"),height:b.get("h"),xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),e("#"+b.get("parent_id")).append(b.get("_svg").element),a.use(b.get("path_chart"),function(a,c){var d={};d.parent=b.get("_svg"),d.w=b.get("w"),d.h=b.get("h"),d.type=b.get("type"),d.config=b.get("config"),d.data=b.get("data"),b.set("_main",new c(d))})},_getPath:function(a){var b=this;return"brix/gallery/charts/js/e/"+a+"/"+"main"}}),f},{requires:["base","node","../../pub/utils/svgelement"]}),KISSY.add("brix/gallery/charts/js/pub/utils/datasection",function(a){var b={section:function(a,b){var c=Math.max.apply(null,a),d=a.length,e=b?b:9,f=[],g=c,h=0,i=String(Math.ceil(c)).length;c%Math.pow(10,i-1)!=0&&(i>=3?parseInt(c/Math.pow(10,i-2))%2==0?g=parseInt(c/Math.pow(10,i-2))*Math.pow(10,i-2)+2*Math.pow(10,i-2):g=parseInt(c/Math.pow(10,i-2))*Math.pow(10,i-2)+Math.pow(10,i-2):g=parseInt(c/Math.pow(10,i-1)+1)*Math.pow(10,i-1)),i=String(g).length,e>=d&&(e=d);var j=e;if(i>=2){for(var k=1,l=g/Math.pow(10,i-2);k<=l;k++)g/(k*Math.pow(10,i-2))==parseInt(g/(k*Math.pow(10,i-2)))&&g/(k*Math.pow(10,i-2))<=e&&e-g/(k*Math.pow(10,i-2))<j&&(j=e-g/(k*Math.pow(10,i-2)));for(var m=0,n=e-j;m<n;m++)f[m]=g/(e-j)*(m+1)}else{for(var o=1,p=g;o<=p;o++)g/o==parseInt(g/o)&&g/o<=e&&e-g/o<j&&(j=e-g/o);for(var q=0,r=e-j;q<r;q++)f[q]=g/(e-j)*(q+1)}return f.length<1&&(f=[0]),f}};return b}),KISSY.add("brix/gallery/charts/js/pub/utils/global",function(a){var b={N05:.5,N00001:1e-5,numAddSymbol:function(a,b){var c=String(a),d=b?b:",";if(isNaN(a))return c;var e=c.split(".");c=e[0];var f=c.length,g=f/3,h=[];if(g>1)for(var i=1;i<g;i++)h.unshift(c.substr(-3,3)),c=c.substr(0,c.length-3);return h.unshift(c),e.shift(),h.concat(e),c=h.join(b),e.length==1&&(c=c+"."+e[0]),c},getChildsArr:function(a){var b=[];for(var c=0,d=a.length;c<d;c++){var e=a[c];b=b.concat(e)}return b},getMaxChildArrLength:function(a){var b=0,c=a;for(var d=0,e=c.length;d<e;d++)b=b>c[d].length?b:c[d].length;return b},getArrMergerNumber:function(a,b,c){var d=0;for(var e=0,f=a.length;e<f;e++)if(e>=b){d=d+a[e];if(e==c)break}return d},disMinATArr:function(a,b){var c=0,d=Math.abs(a-b[0]);for(var e=1,f=b.length;e<f;e++)d>Math.abs(a-b[e])&&(d=Math.abs(a-b[e]),c=e);return c},delArrUnPop:function(b,c){var d=a.clone(b);if(d.length>=c+1){var e=d[d.length-1];d.length=d.length-c-1,d.push(e)}return d},unshiftIndexArray:function(a,b){var c=a[b];a.splice(b,1),a.unshift(c)},getTotalForArray:function(a){var b=0;for(var c=0,d=a.length;c<d;c++)a[c]&&(b+=Number(a[c]));return b},ceil:function(a){return Math.ceil(a)},fit:function(a,b){var c={},d=a.w/b.w,e=a.h/b.h;return d>=e?(c.scale=e,c.w=b.w*e,c.h=a.h):(c.scale=d,c.w=a.w,c.h=b.h*d),c},getTextWidth:function(a){return 11+7*(a-1)}};return b}),KISSY.add("brix/gallery/charts/js/pub/utils/move",function(a,b){function c(a,b,d,e,f){var g=this;c.superclass.constructor.apply(g,arguments),g._id=null,g.init(a,b,d,e,f)}return c.ATTRS={_time:{value:10}},a.extend(c,b,{init:function(a,b,c,d,e){var f=this;f.ok=1;var g=f._distance(a,b),h=b.x-a.x>0?1:-1,i=b.y-a.y>0?1:-1,j,k,l,m,n=a.x,o=a.y;f._id=setInterval(function(){if(f.ok!=1)return;d({x:n,y:o});var a=Math.abs(b.x-n),c=Math.abs(b.y-o),g=a/10*h,j=c/10*i;n+=g,o+=j,Math.abs(n)==Math.abs(b.x)&&Math.abs(o)==Math.abs(b.y)&&(e?e():"",clearInterval(f._id),f._id=null)},f.get("_time"))},stop:function(){var a=this;this.ok=0,clearInterval(a._id),a._id=null},_distance:function(a,b){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)}}),c},{requires:["base"]}),KISSY.add("brix/gallery/charts/js/pub/utils/parsestringtoobject",function(a){var b={toArray:function(a,b,c){var b=b?b:"&",c=c?c:"=",d=a.split(b),e=d.length;if(e==1&&!d[0].split(c)[1])return[];var f=new Array;for(var g=0;g<e;g++){var h=d[g].split(c),i=new Object;i.name=h[0],i.value=h[1],i.value!=undefined&&f.push(i)}return f},toObject:function(a,c,d){var c=c?c:"&",d=d?d:"=",e={},f=b.toArray(a,c,d);if(!f.length)return e;for(var g=0,h=f.length;g<h;g++)e[f[g].name]=f[g].value;return e}};return b}),KISSY.add("brix/gallery/charts/js/pub/utils/svgelement",function(a,b){function c(){var a=this;c.superclass.constructor.apply(a,arguments),a.element=null,a.init.apply(a,arguments)}return a.extend(c,b,{init:function(){this.createElement(arguments[0])},attr:function(a){for(var b in a)this.set(b,a[b])},set:function(a,b){this.element.setAttribute(a,b)},get:function(a){return this.element.getAttribute(a)},on:function(a,b){var c=b;return this.element["on"+a]=c,this},fire:function(a,b){this.element["on"+a]&&this.element["on"+a](b)},createElement:function(a){this.element=document.createElementNS("http://www.w3.org/2000/svg",a)},addChild:function(a){this.element.appendChild(a.get("element").element)},delChild:function(a){this.element.removeChild(a.get("element").element)},appendChild:function(a){this.element.appendChild(a)},removeChild:function(a){this.element.removeChild(a)},getWidth:function(){return this.element.getBBox().width},getHeight:function(){return this.element.getBBox().height},transformX:function(a){var b=this.get("_y")?this.get("_y"):0,c="matrix(1,0,0,1,"+a+","+b+")";this.set("_x",a),this.set("transform",c)},transformY:function(a){var b=this.get("_x")?this.get("_x"):0,c="matrix(1,0,0,1,"+b+","+a+")";this.set("_y",a),this.set("transform",c)},transformXY:function(a,b){var c="matrix(1,0,0,1,"+a+","+b+")";this.set("_x",a),this.set("_y",b),this.set("transform",c)}}),c},{requires:["base","node"]}),KISSY.add("brix/gallery/charts/js/pub/utils/svgrenderer",function(a){var b={symbol:function(a,b,c,d,e,f){var g=this.symbols[a],h=g&&g(Math.round(b),Math.round(c),d,e,f);return h},actions:{M:"M",L:"L",Q:"Q"},symbols:{line:function(a,c,d,e){return[b.actions.M,a,c,b.actions.L,d,e]},lines:function(a,c,d,e,f){var g=f,h=b.actions.M+g[0].x+" "+g[0].y;for(var i=1,j=g.length;i<j;i++){var k=g[i].x,l=g[i].y;h+=" "+b.actions.L+k+" "+l}return h},curveLines:function(c,d,e,f,g){var h=a.clone(g),i=b.actions.M+h[0].x+" "+h[0].y;for(var j=0,k=h.length-2;j<k;j++){var l=(h[j+1].x+h[j+2].x)/2,m=(h[j+1].y+h[j+2].y)/2,n=h[j+1].x*2-(h[j].x+l)/2,o=h[j+1].y*2-(h[j].y+m)/2;i+=" "+b.actions.Q+n+" "+o+" "+l+" "+m,h[j+1]={x:l,y:m}}return i+=" "+b.actions.L+h[h.length-1].x+" "+h[h.length-1].y,i},square:function(a,c,d,e){return[b.actions.M,a,c,b.actions.L,a+d,c,a+d,c+e,a,c+e]}}};return b}),KISSY.add("brix/gallery/charts/js/pub/views/back",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={w:{value:0},h:{value:0},h_ver:{value:0},w_hor:{value:0},element:{value:null},data_ver:{value:[]},data_hor:{value:[]},line_fill:{value:"#D6D6D6"},_line_ver:{value:null},_line_hor:{value:null},_line_w:{value:1},_df:{value:null}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","back"),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},_widget:function(){var a=this;a.set("_df",document.createDocumentFragment());var b=f.symbol("line",0,0,0,-a.get("h")).join(" ");a.set("_line_ver",new e("path")),a.get("_line_ver").attr({stroke:a.get("line_fill"),"stroke-width":a.get("_line_w"),d:b}),a.get("_df").appendChild(a.get("_line_ver").element);var b=f.symbol("line",0,0,a.get("w"),0).join(" ");a.set("_line_hor",new e("path")),a.get("_line_hor").attr({stroke:a.get("line_fill"),"stroke-width":a.get("_line_w"),d:b}),a.get("_df").appendChild(a.get("_line_hor").element)},_layout:function(){var a=this;a.set("h_ver",a.get("h_ver")?a.get("h_ver"):a.get("h")),a.set("w_hor",a.get("w_hor")?a.get("w_hor"):a.get("w"));for(var b=0,c=a.get("data_hor").length;b<c;b++){var d=a.get("data_hor")[b],f=d.y,g=new e("line");g.attr({x1:0,y1:0,x2:a.get("w_hor"),y2:0,stroke:a.get("line_fill"),"stroke-dasharray":"2,3"}),g.transformY(f),a.get("_df").appendChild(g.element)}for(var h=0,i=a.get("data_ver").length;h<i;h++){var d=a.get("data_ver")[h],j=d.x,g=new e("line");g.attr({x1:0,y1:0,x2:0,y2:-a.get("h_ver"),stroke:a.get("line_fill")}),g.transformX(j),a.get("_df").appendChild(g.element)}a.get("element").appendChild(a.get("_df"))}}),h},{requires:["base","node","../utils/global","../utils/svgelement","../utils/svgrenderer","../views/svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/globalinduce",function(a,b,c,d,e){function f(){var a=this;f.superclass.constructor.apply(a,arguments)}return f.ATTRS={w:{value:100},h:{value:100},element:{value:null},opacity:{value:1}},a.extend(f,b,{init:function(){var a=this;f.superclass.constructor.apply(a,arguments),a.set("element",new d("g")),a.get("element").set("class","globalInduce"),a.get("parent").appendChild(a.get("element").element);var b=new d("path"),c=a.get("w"),g=a.get("h"),h=e.symbol("square",0,0,c,g).join(" ");b.attr({_w:c,_h:g,d:h,opacity:a.get("opacity")}),a.get("element").appendChild(b.element)}}),f},{requires:["base","node","../utils/svgelement","../utils/svgrenderer"]}),KISSY.add("brix/gallery/charts/js/pub/views/horizontal",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={w:{value:140},h:{value:23},data:{value:[]},element:{value:null},dis_left:{value:0},dis_right:{value:0},font_fill:{value:"#000000"},line_fill:{value:"#BEBEBE"},_data:{value:[]},_maxTextHeight:{value:14},_disX:{value:10},_disY:{value:2},_line_w:{value:1},_line_h:{value:6},_fontArr:{value:[]},_lineArr:{value:[]}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","horizontal"),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout(),a.set("h",a.get("_line_h")+a.get("_disY")+a.get("_maxTextHeight"))},getShowData:function(){var a=this;return a.get("_data")},_widget:function(){var b=this;b.set("dis_right",b.get("dis_right")?b.get("dis_right"):b.get("w"));var c=f.symbol("line",0,0,0,b.get("_line_h")).join(" "),h=document.createDocumentFragment(),i=0;for(var j=0,k=b.get("data").length;j<k;j++){var l=b.get("data")[j],m=l.x,n=0,o=d.numAddSymbol(l.value);o.length>i&&(i=o.length)}var p=d.getTextWidth(i),q=b.get("dis_right"),r=Math.floor(q/(p+10));r=r>b.get("data").length?b.get("data").length:r;var s=Math.floor(b.get("data").length/(r-1));s=b.get("data").length==2&&r==2?1:s,s=b.get("data").length==1&&r==1?0:s;var t=[];for(var j=0,k=b.get("data").length;j<k;j++){var l=b.get("data")[s*j];l&&t.push(b.get("data")[s*j])}if(t.length>r){s=Math.ceil(b.get("data").length/(r-1)),s=b.get("data").length==2&&r==2?1:s,s=b.get("data").length==1&&r==1?0:s,t=[];for(j=0,k=b.get("data").length;j<k;j++)l=b.get("data")[s*j],l&&t.push(b.get("data")[s*j])}r==1&&t.length==0&&(t[0]=b.get("data")[0]),r==2&&t.length==1&&b.get("data").length>=2&&(t[1]=b.get("data")[b.get("data").length-1]);for(var j=0,k=t.length;j<k;j++){var l=t[j],m=l.x,n=0,u=g.text({fill:b.get("font_fill"),content:d.numAddSymbol(l.value)});b.get("_fontArr").push(u),h.appendChild(u.element);var v=new e("path");v.attr({stroke:b.get("line_fill"),"stroke-width":b.get("_line_w"),d:c}),b.get("_lineArr").push(v),m=l.x,n=0,v.transformXY(m,n),h.appendChild(v.element)}b.get("element").appendChild(h);for(var j=0,k=b.get("_fontArr").length;j<k;j++){var l=t[j],u=b.get("_fontArr")[j],m=l.x,n=0;m=m-u.getWidth()/2,n=b.get("_line_h")+b.get("_disY")+u.getHeight(),u.transformXY(m,n)}b.set("_data",a.clone(t))},_layout:function(){var a=this,b=a.get("_fontArr")[0],c=a.get("_fontArr")[a.get("_fontArr").length-1];b&&b.get("_x")<-a.get("dis_left")&&b.transformX(-a.get("dis_left")),c&&Number(c.get("_x"))+Number(c.getWidth())>a.get("dis_right")&&c.transformX(a.get("dis_right")-c.getWidth())}}),h},{requires:["base","node","../utils/global","../utils/svgelement","../utils/svgrenderer","../views/svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/arrow",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={element:{value:null},fill:{value:"#FFFFFF"},fill_opacity:{value:.9},_arrow:{value:null}},a.extend(h,b,{add:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","arrow"),a.get("parent").appendChild(a.get("element").element)},update:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.get("_arrow")&&(a.get("element").removeChild(a.get("_arrow").element),a.set("arrow",null)),a.init()},init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a._widget(),a._layout()},_widget:function(){var a=this;a.set("_arrow",new e("g")),a.get("_arrow").attr({filter:"url(#"+a.get("shadow_id")+")"}),a.get("element").appendChild(a.get("_arrow").element)},_layout:function(){var a=this,b=g.lines({lines:a.get("data"),fill:a.get("fill"),stroke:"none",fill_opacity:a.get("fill_opacity")});a.get("_arrow").appendChild(b.element)}}),h},{requires:["base","node","../../utils/global","../../utils/svgelement","../../utils/svgrenderer","../svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/hinfo",function(a,b,c,d,e,f){function g(){var a=this;g.superclass.constructor.apply(a,arguments)}return g.ATTRS={w:{value:80},h:{value:25},element:{value:null},content:{value:""},font_fill:{value:"#ffffff"},font_bold:{value:1},bg_fill:{value:"#6D6D6D"},dis:{value:8},_g:{value:null},_font:{value:null},_back:{value:null}},a.extend(g,b,{init:function(){var a=this;g.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","hinfo"),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},_widget:function(){var a=this;a.set("_g",new e("g")),a.get("_g").set("class","g"),a.get("element").appendChild(a.get("_g").element),a.set("_back",new e("rect")),a.get("_back").attr({"class":"back"}),a.get("_g").appendChild(a.get("_back").element),a.set("_font",new e("g")),a.get("_font").set("class","font"),a.get("_g").appendChild(a.get("_font").element)},_layout:function(){var a=this,b=f.text({content:d.numAddSymbol(a.get("content")),fill:a.get("font_fill"),bold:a.get("font_bold")});a.get("_font").element.appendChild(b.element);var c,e,g,h;g=b.getWidth()+2*a.get("dis"),h=b.getHeight()+a.get("dis"),c=d.ceil((g-b.getWidth())/2),e=d.ceil(b.getHeight()*.8+a.get("dis")/2),b.transformXY(c,e),a.get("_back").attr({_w:g,_h:h,width:g,height:h,fill:a.get("bg_fill"),rx:4,rx:4}),c=-d.ceil(g/2),e=-d.ceil(h/2),a.get("_g").transformXY(c,e),a.set("w",g),a.set("h",h)}}),g},{requires:["base","node","../../utils/global","../../utils/svgelement","../svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/hline",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={w:{value:1},h:{value:6},y1:{value:0},element:{value:null},fill:{value:"#555555"},_line:{value:null}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","hline"),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},_widget:function(){var a=this;a.set("_line",new e("g")),a.get("_line").set("class","line"),a.get("element").appendChild(a.get("_line").element)},_layout:function(){var a=this,b=new e("path"),c=f.symbol("line",0,a.get("y1"),0,a.get("h")).join(" ");b.attr({stroke:a.get("fill"),"stroke-width":a.get("w"),d:c}),a.get("_line").appendChild(b.element)}}),h},{requires:["base","node","../../utils/global","../../utils/svgelement","../../utils/svgrenderer","../svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/info",function(a,b,c,d,e,f){function g(){var a=this;g.superclass.constructor.apply(a,arguments)}return g.ATTRS={w:{value:80},h:{value:24},data:{value:[]},element:{value:null},base_fill:{value:"#000000"},_lay:{value:{}},_fontsArr:{value:[]},_font_family:{value:"Arial"},_disX:{value:10},_disY:{value:5},_g:{value:null},_fonts:{value:null},_back:{value:null}},a.extend(g,b,{init:function(){var a=this;g.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","info"),a.get("parent").appendChild(a.get("element").element),a._widget(),a._layout()},setShadow:function(a){var b=this;b.get("_back").attr({"class":"back",filter:"url(#"+a+")"})},_widget:function(){var a=this;a.set("_g",new e("g")),a.get("_g").set("class","g"),a.get("element").appendChild(a.get("_g").element),a.set("_back",new e("rect")),a.get("_g").appendChild(a.get("_back").element),a.set("_fonts",new e("g")),a.get("_fonts").set("class","fonts"),a.get("_g").appendChild(a.get("_fonts").element)},_layout:function(){var a=this;a.get("_lay").maxHorH=[],a.get("_lay").maxVerW=[];for(var b=0,c=a.get("data").length;b<c;b++){var e=0;for(var g=0,h=a.get("data")[b].length;g<h;g++){var i=a.get("data")[b][g],j=i.bold||Number(i.bold)==0?Number(i.bold):1,k=i.fill?i.fill:a.get("base_fill"),l=i.family?i.family:a.get("_font_family"),m=f.text({content:d.numAddSymbol(i.content),size:i.size,fill:k,bold:j,family:l});a.get("_fonts").element.appendChild(m.element),e=e<m.getHeight()?m.getHeight():e,a.get("_lay").maxVerW[g]||(a.get("_lay").maxVerW[g]=0),a.get("_lay").maxVerW[g]<m.getWidth()&&(a.get("_lay").maxVerW[g]=m.getWidth()),a.get("_fontsArr")[b]?a.get("_fontsArr")[b].push(m):(a.get("_fontsArr")[b]=[],a.get("_fontsArr")[b].push(m))}a.get("_lay").maxHorH.push(e)}for(var n=0,o=a.get("data").length;n<o;n++)for(var p=0,q=a.get("data")[n].length;p<q;p++){var i=a.get("data")[n][p],m=a.get("_fontsArr")[n][p],r=a.get("_fontsArr")[n][p-1]?a.get("_fontsArr")[n][p-1]:"",s=a.get("_fontsArr")[n-1]&&a.get("_fontsArr")[n-1][p]?a.get("_fontsArr")[n-1][p]:"",t=r?d.getArrMergerNumber(a.get("_lay").maxVerW,0,p-1):0,u=s||n>0?d.getArrMergerNumber(a.get("_lay").maxHorH,0,n-1):0,v=i.ver_align?i.ver_align:2,w=i.hor_align?i.hor_align:2;v==2?t=t+(a.get("_lay").maxVerW[p]-m.getWidth())/2:v==3&&(t=t+a.get("_lay").maxVerW[p]-m.getWidth()),w==2?u=u+(a.get("_lay").maxHorH[n]-m.getHeight())/2:w==3&&(u=u+a.get("_lay").maxHorH[n]-m.getHeight()),u=u+m.getHeight()*.75,t=d.ceil(t),u=d.ceil(u),m.transformXY(t,u)}a.get("_fonts").transformXY(a.get("_disX"),a.get("_disY"));var x=d.getArrMergerNumber(a.get("_lay").maxVerW,0,a.get("_lay").maxVerW.length)+a.get("_disX")*2,y=d.getArrMergerNumber(a.get("_lay").maxHorH,0,a.get("_lay").maxHorH.length)+a.get("_disY")*2;a.get("_back").attr({_w:x,_h:y,width:x,height:y,fill:"#ffffff",opacity:1,rx:4,rx:4,stroke:a.get("base_fill")?a.get("base_fill"):"#000000","stroke-width":2}),a.set("w",x),a.set("h",y);var t=-d.ceil(x/2)-1,u=-d.ceil(y/2);a.get("_g").transformXY(t,u)}}),g},{requires:["base","node","../../utils/global","../../utils/svgelement","../svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/infos",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var a=this;o.superclass.constructor.apply(a,arguments),this._move=null}return o.ATTRS={w:{value:100},h:{value:100},element:{value:null},dis_info:{value:8},info:{value:{x:0,y:0,data:[],base_fill:"#000000"}},light:{value:{is:0,x:0,y:0,min_radius:4,max_radius:7,max_thickness:2,fill:"#000000",fill_opacity:1}},other:{value:{is:0,os:[]}},hInfo:{value:{is:1,x:0,y:0,content:""}},hLine:{value:{is:1,x:0,y:0,y1:0}},arrow:{value:{is:0,mode:1,x:0,y:0}},_is_new_shadow:{value:0},_shadow_id:{value:"shadow"},_move:{value:null},_info:{value:null},_light:{value:null},_other:{value:null},_hInfo:{value:null},_hLine:{value:null},_arrow:{value:null}},a.extend(o,b,{init:function(){var a=this;o.superclass.constructor.apply(a,arguments),a.set("element",new f("g")),a.get("element").set("class","infos"),a.get("parent").appendChild(a.get("element").element)},remove:function(){var a=null,b=this;b.get("_arrow")&&(b.get("element").removeChild(b.get("_arrow").get("element").element),b.set("_arrow",null)),b.get("_hLine")&&(b.get("element").removeChild(b.get("_hLine").get("element").element),b.set("_hLine",null)),b.get("_hInfo")&&(b.get("element").removeChild(b.get("_hInfo").get("element").element),b.set("_hInfo",null)),b.get("_other")&&(b.get("element").removeChild(b.get("_other").get("element").element),b.set("_other",null)),b.get("_light")&&(b.get("element").removeChild(b.get("_light").get("element").element),b.set("_light",null)),b.get("_info")&&(b.get("element").removeChild(b.get("_info").get("element").element),b.set("_info",null))},move:function(){var a=this;o.superclass.constructor.apply(a,arguments);var b=0,c=0;a.get("_info")&&(b=Number(a.get("_info").get("element").get("_x")),c=Number(a.get("_info").get("element").get("_y"))),b==0&&c==0&&(b=Number(a.get("info").x)-17,c=Number(a.get("info").y)),a.update();var d=Number(a.get("_info").get("element").get("_x")),f=Number(a.get("_info").get("element").get("_y"));this._move&&(this._move.stop(),this._move=null),this._move=new e({x:b,y:c},{x:d,y:f},.3,function(b){if(!a.get("_info"))return;a.get("_info").get("element").transformXY(b.x,b.y);if(a.get("arrow").is){var c=a._getArrowInfo(),d={parent:a.get("element"),data:c.lines,shadow_id:a.get("_shadow_id")};a.get("_arrow").update(d);var e=a.get("_info").get("element").get("_x"),f=a.get("_info").get("element").get("_y");a.get("_arrow").get("element").transformXY(e,f)}},function(){"a"})},update:function(){var a=this;o.superclass.constructor.apply(a,arguments),a.get("_is_new_shadow")==0&&(a._shadow(),a.get("arrow").is&&a._shadow({dx:-2,id:"shadow2"}),a.set("_is_new_shadow",1)),a.remove(),a._widget(),a._layout()},_getArrowInfo:function(){var a=this,b=a.get("arrow"),c=45,d=a.get("_info").get("element").get("_x"),e=a.get("_info").get("element").get("_y"),f=a.get("_info").get("w"),g=a.get("_info").get("h"),h=b.dis?b.dis:4;b.x<d&&b.y<e?b.mode=1:b.x>d&&b.y<e?b.mode=2:b.x>d&&b.y>e?b.mode=3:b.x<d&&b.y>e&&(b.mode=4);var i=[];if(b.mode==1||b.mode==3){a.set("_shadow_id","shadow");var j={};j.x=f/2,j.y=-g/2+h,i.push(j);var j={};j.x=b.x-d,j.y=b.y-e,i.push(j);var j={};j.x=-f/2+h,j.y=g/2,i.push(j)}else if(b.mode==2||b.mode==4){a.set("_shadow_id","shadow2"),c=135;var j={};j.x=f/2-h,j.y=g/2,i.push(j);var j={};j.x=b.x-d,j.y=b.y-e,i.push(j);var j={};j.x=-f/2,j.y=-g/2+h,i.push(j)}return{lines:i,angle:c}},_widget:function(){var a=this;a.get("arrow").is&&a.set("_arrow",new n),a.get("hLine").is&&a.set("_hLine",new l),a.get("hInfo").is&&a.set("_hInfo",new k),a.get("other").is&&a.set("_other",new m),a.get("light").is&&a.set("_light",new j),a.set("_info",new i)},_layout:function(){var a=this;if(a.get("arrow").is){var b={parent:a.get("element")};a.get("_arrow").add(b)}if(a.get("hLine").is){var b={parent:a.get("element")};a.get("hLine").y1&&(b.y1=a.get("hLine").y1),a.get("_hLine").init(b);var c=a.get("hLine").x,d=a.get("hLine").y;a.get("_hLine").get("element").transformXY(c,d)}if(a.get("hLine").is){var b={parent:a.get("element"),content:a.get("hInfo").content};a.get("_hInfo").init(b);var c=a.get("hInfo").x,d=Number(a.get("hInfo").y)+Number(a.get("_hInfo").get("h")/2)+a.get("_hLine").get("h"),e=a._allShow(a.get("w"),a.get("h"),{w:a.get("_hInfo").get("w"),h:a.get("_hInfo").get("h")},{x:c,y:d});c=e.x,d=e.y,a.get("_hInfo").get("element").transformXY(c,d)}if(a.get("_other")){var b={parent:a.get("element"),os:a.get("other").os};a.get("_other").init(b)}if(a.get("_light")){var b={parent:a.get("element"),fill:a.get("light").fill};a.get("light").min_radius&&(b.min_radius=a.get("light").min_radius),a.get("light").max_radius&&(b.max_radius=a.get("light").max_radius),a.get("light").max_thickness&&(b.max_thickness=a.get("light").max_thickness),a.get("light").fill_opacity&&(b.fill_opacity=a.get("light").fill_opacity),a.get("_light").init(b);var c=a.get("light").x,d=a.get("light").y;a.get("_light").get("element").transformXY(c,d)}var b={data:a.get("info").data,parent:a.get("element"),base_fill:a.get("info").base_fill,shadow_id:a.get("_shadow_id")};a.get("_info").init(b);var c=a.get("info").x,d=Number(a.get("info").y)-Number(a.get("dis_info"))-Number(a.get("_info").get("h")/2);a.get("arrow").is&&(d=Number(a.get("info").y)),a.get("_light")&&(d-=Number(a.get("_light").get("max_radius")));var e=a._allShow(a.get("w"),a.get("h"),{w:a.get("_info").get("w"),h:a.get("_info").get("h")},{x:c,y:d});c=e.x,d=e.y,a.get("_light")&&Number(d)+Number(a.get("_info").get("h")/2)+Number(a.get("dis_info"))+Number(a.get("_light").get("max_radius"))>a.get("_light").get("element").get("_y")&&(d=Number(a.get("light").y)+Number(a.get("_light").get("max_radius"))+Number(a.get("dis_info"))+Number(a.get("_info").get("h")/2)),a.get("_info").get("element").transformXY(c,d);if(a.get("arrow").is){var f=a._getArrowInfo(),b={parent:a.get("element"),data:f.lines,shadow_id:a.get("_shadow_id")};a.get("_arrow").init(b);var c=a.get("_info").get("element").get("_x"),d=a.get("_info").get("element").get("_y");a.get("_arrow").get("element").transformXY(c,d)}a.get("_info").setShadow(a.get("_shadow_id"))},_allShow:function(a,b,c,d,e){var f=e?e:4,g=a,h=b,i=d.x,j=d.y;return d.x-c.w/2<f&&(i=c.w/2+f),d.x+c.w/2>g-f&&(i=g-c.w/2-f),d.y-c.h/2<f&&(j=c.h/2+f),d.y+c.h/2>h-f&&(j=h-c.h/2-f),{x:i,y:j}},_shadow:function(a){var b=this,c=2,d=2,e="shadow";a&&(c=a.dx?a.dx:c,d=a.dy?a.dy:d,e=a.id?a.id:e);var g=new f("defs");b.get("element").appendChild(g.element);var h=new f("filter");h.attr({id:e,filterUnits:"objectBoundingBox",x:"-10%",y:"-10%",width:"150%",height:"150%"}),g.appendChild(h.element);var i=new f("feGaussianBlur");i.attr({"in":"SourceAlpha",stdDeviation:1,result:"blurredAlpha"}),h.appendChild(i.element);var j=new f("feOffset");j.attr({"in":"blurredAlpha",dx:c,dy:d,result:"offsetBlurredAlpha"}),h.appendChild(j.element);var k=new f("feFlood");k.attr({style:"flood-color:#000000;flood-opacity:0.15",result:"flooded"}),h.appendChild(k.element);var l=new f("feComposite");l.attr({"in":"flooded",operator:"in",in2:"offsetBlurredAlpha",result:"coloredShadow"}),h.appendChild(l.element);var l=new f("feComposite");l.attr({"in":"SourceGraphic",in2:"coloredShadow",operator:"over"}),h.appendChild(l.element)}}),o},{requires:["base","node","../../utils/global","../../utils/move","../../utils/svgelement","../../utils/svgrenderer","../svggraphics","./info","./light","./hinfo","./hline","./other","./arrow"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/light",function(a,b,c,d,e,f){function g(){var a=this;g.superclass.constructor.apply(a,arguments)}return g.ATTRS={element:{value:null},min_radius:{value:4},max_radius:{value:7},max_thickness:{value:2},fill:{value:"#555555"},fill_opacity:{value:1},_max:{value:null},_min:{value:null}},a.extend(g,b,{init:function(){var a=this;g.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","light"),a.get("parent").appendChild(a.get("element").element),a._widget()},_widget:function(){var a=this;a.set("_max",f.circle({r:a.get("max_radius"),fill:"#ffffff",fill_opacity:a.get("fill_opacity"),stroke:a.get("fill"),stroke_width:a.get("max_thickness")})),a.get("element").appendChild(a.get("_max").element),a.set("_min",f.circle({r:a.get("min_radius"),fill:a.get("fill"),stroke:"none"})),a.get("element").appendChild(a.get("_min").element)}}),g},{requires:["base","node","../../utils/global","../../utils/svgelement","../svggraphics"]}),KISSY.add("brix/gallery/charts/js/pub/views/infos/other",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={element:{value:null},os:{value:[]}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class","other"),a.get("parent").appendChild(a.get("element").element),a._widget()},_widget:function(){var a=this;for(var b=0,c=a.get("os").length;b<c;b++){var d=a.get("os")[b],e=new g,f={parent:a.get("element"),fill:d.fill_over};e.init(f);var h=d.x,i=d.y;e.get("element").transformXY(h,i)}}}),h},{requires:["base","node","../../utils/global","../../utils/svgelement","../svggraphics","./light"]}),KISSY.add("brix/gallery/charts/js/pub/views/svggraphics",function(a,b,c,d){var e={text:function(a){var a=a?a:{},b=a.family?a.family:"Arial",d=a.size?a.size:12,e=a.fill?a.fill:"#000000",f=a.content?a.content:"",g=a.bold?"bold":"",h=new c("text");return h.attr({"font-family":b,"font-size":d,fill:e,"font-weight":g}),h.appendChild(document.createTextNode(f)),h},circle:function(a){var a=a?a:{},b=a.r?a.r:10,d=a.fill?a.fill:"#000000",e=a.stroke?a.stroke:null,f=a.stroke_width?a.stroke_width:1,g=a.fill_opacity?a.fill_opacity:1,h=new c("circle");return h.attr({r:b,fill:d,stroke:e,"stroke-width":f,"fill-opacity":g}),h},lines:function(a){var a=a?a:{},b=a.lines,e=a.fill?a.fill:"none",f=a.stroke?a.stroke:"#000000",g=a.stroke_width?a.stroke_width:1,h=d.symbol("lines","","","","",b),i=a.fill_opacity?a.fill_opacity:1,j=new c("path");return j.attr({d:h,fill:e,stroke:f,"stroke-width":g,"fill-opacity":i}),j},curveLines:function(a){var a=a?a:{},b=a.lines,e=a.fill?a.fill:"none",f=a.stroke?a.stroke:"#000000",g=a.stroke_width?a.stroke_width:1,h=d.symbol("curveLines","","","","",b),i=new c("path");return i.attr({d:h,fill:e,stroke:f,"stroke-width":g}),i}};return e},{requires:["node","../utils/svgelement","../utils/svgrenderer"]}),KISSY.add("brix/gallery/charts/js/pub/views/vertical",function(a,b,c,d,e,f,g){function h(){var a=this;h.superclass.constructor.apply(a,arguments)}return h.ATTRS={w:{value:0},h:{value:0},id:{value:"vertical"},data:{value:[]},element:{value:null},mode:{value:1},font_fill:{value:"#000000"},line_fill:{value:"#BEBEBE"},_maxTextWidth:{value:0},_dis:{value:6},_line_w:{value:6},_line_h:{value:3},_fontArr:{value:[]},_lineArr:{value:[]}},a.extend(h,b,{init:function(){var a=this;h.superclass.constructor.apply(a,arguments),a.set("element",new e("g")),a.get("element").set("class",a.get("id")),a.get("parent").appendChild(a.get("element").element),a._widget(),a.get("mode")==1?a._layout():a.get("mode")==2&&a._layout_right(),a.set("w",a.get("_maxTextWidth")+a.get("_dis")+a.get("_line_w"))},_widget:function(){var a=this,b=f.symbol("line",0,0,a.get("_line_w"),0).join(" "),c=document.createDocumentFragment();for(var h=0,i=a.get("data").length;h<i;h++){var j=a.get("data")[h],k=g.text({fill:a.get("font_fill"),content:d.numAddSymbol(j.value)});a.get("_fontArr").push(k),c.appendChild(k.element);var l=new e("path");a.get("_lineArr").push(l),l.attr({stroke:a.get("line_fill"),"stroke-width":a.get("_line_h"),d:b}),c.appendChild(l.element)}a.get("element").appendChild(c);for(var h=0,i=a.get("data").length;h<i;h++){var k=a.get("_fontArr")[h];a.get("_maxTextWidth")<k.getWidth()&&a.set("_maxTextWidth",k.getWidth())}},_layout:function(){var a=this;for(var b=0,c=a.get("data").length;b<c;b++){var e=a.get("data")[b].y,f=a.get("_fontArr")[b],g=a.get("_maxTextWidth")-f.getWidth(),e=e+f.getHeight()/4;f.transformXY(g,e);var h=a.get("_lineArr")[b],g=a.get("_maxTextWidth")+a.get("_dis");g=d.ceil(g),h.transformXY(g,a.get("data")[b].y)}},_layout_right:function(){var a=this;for(var b=0,c=a.get("data").length;b<c;b++){var d=a.get("data")[b].y,e=a.get("_fontArr")[b],f=a.get("_line_w")+a.get("_dis"),d=d+e.getHeight()/4;e.transformXY(f,d);var g=a.get("_lineArr")[b],f=0;g.transformXY(f,a.get("data")[b].y)}}}),h},{requires:["base","node","../utils/global","../utils/svgelement","../utils/svgrenderer","../views/svggraphics"]});