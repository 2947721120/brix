KISSY.add("brix/gallery/dropdown/index",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}return n.ATTRS={mode:{value:1}},n.METHOD={focus:function(){var e=this.get("mode"),t=this.get("el"),n=t.one(".dropdown-hd").outerWidth();e==1&&t.one(".dropdown-hd").addClass("dropdown-hd-active"),t.one(".dropdown-list").css({display:"block",width:n+"px"})},blur:function(){var e=this.get("mode"),t=this.get("el");e==1&&t.one(".dropdown-hd").removeClass("dropdown-hd-active"),t.one(".dropdown-list").css("display","none")}},n.DOCATTACH={"":{click:function(e){var t=this;if(!t.__show){var n=t.get("el");n.all(".dropdown-list").css("display","none"),n.all(".dropdown-hd").removeClass("dropdown-hd-active")}t.__show=!1}}},n.ATTACH={"":{mouseleave:function(){var e=this.get("mode");e!=1&&this.blur()}},".dropdown-hd":{click:function(e){var t=this.get("mode");t==1&&(el=this.get("el").one(".dropdown-list"),this.__show=!0,el.css("display")=="block"?this.blur():this.focus())},mouseenter:function(){var e=this.get("mode");e!=1&&this.focus()}},".dropdown-item":{click:function(t){this.__show=!0,this.blur();var n=this.get("el"),r=e.one(t.currentTarget);if(r.hasClass("dropdown-itemselected")){console.log("selected");return}n.all(".dropdown-itemselected").removeClass("dropdown-itemselected"),r.addClass("dropdown-itemselected");var i=n.one(".dropdown-text"),s=r.one("span"),o={value:s.attr("value"),text:s.text()},u=n.one("input");u&&u.val(o.value),i.attr("value",o.value),i.text(o.text),this.fire("selected",o)},mouseenter:function(t){var n=e.one(t.currentTarget);n.addClass("dropdown-itemover")},mouseleave:function(t){var n=e.one(t.currentTarget);n.removeClass("dropdown-itemover")}}},e.extend(n,t,{}),e.augment(n,n.METHOD),n},{requires:["brix/core/brick"]});