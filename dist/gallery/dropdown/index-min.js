KISSY.add("brix/gallery/dropdown/index",function(a,b){function c(){c.superclass.constructor.apply(this,arguments)}return c.ATTRS={mode:{value:1}},c.METHOD={focus:function(){var a=this.get("mode"),b=this.get("el"),c=b.one(".dropdown-hd").outerWidth();a==1&&b.one(".dropdown-hd").addClass("dropdown-hd-active"),b.one(".dropdown-list").css({display:"block",width:c+"px"})},blur:function(){var a=this.get("mode"),b=this.get("el");a==1&&b.one(".dropdown-hd").removeClass("dropdown-hd-active"),b.one(".dropdown-list").css("display","none")}},c.DOCATTACH={"":{click:function(a){var b=this;if(!b.__show){var c=b.get("el");c.all(".dropdown-list").css("display","none"),c.all(".dropdown-hd").removeClass("dropdown-hd-active")}b.__show=!1}}},c.ATTACH={"":{mouseleave:function(){var a=this.get("mode");a!=1&&this.blur()}},".dropdown-hd":{click:function(a){var b=this.get("mode");b==1&&(el=this.get("el").one(".dropdown-list"),this.__show=!0,el.css("display")=="block"?this.blur():this.focus())},mouseenter:function(){var a=this.get("mode");a!=1&&this.focus()}},".dropdown-item":{click:function(b){this.__show=!0,this.blur();var c=this.get("el"),d=a.one(b.currentTarget);if(d.hasClass("dropdown-itemselected")){console.log("selected");return}c.all(".dropdown-itemselected").removeClass("dropdown-itemselected"),d.addClass("dropdown-itemselected");var e=c.one(".dropdown-text"),f=d.one("span"),g={value:f.attr("value"),text:f.text()},h=c.one("input");h&&h.val(g.value),e.attr("value",g.value),e.text(g.text),this.fire("selected",g)},mouseenter:function(b){var c=a.one(b.currentTarget);c.addClass("dropdown-itemover")},mouseleave:function(b){var c=a.one(b.currentTarget);c.removeClass("dropdown-itemover")}}},a.extend(c,b,{}),a.augment(c,c.METHOD),c},{requires:["brix/core/brick"]});