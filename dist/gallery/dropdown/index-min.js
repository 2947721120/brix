KISSY.add("brix/gallery/dropdown/index",function(a,b){function c(){c.superclass.constructor.apply(this,arguments)}return c.ATTRS={mode:{value:1},autoResize:{value:!0}},c.FIRES={beforeFocus:"beforeFocus",focus:"focus",beforeBlur:"beforeBlur",blur:"blur",selected:"selected"},c.METHODS={focus:function(){var a=this.get("mode"),b=this.get("el");this.fire(c.FIRES.beforeFocus),a==1&&b.one(".dropdown-hd").addClass("dropdown-hd-active"),b.one(".dropdown-list").css({display:"block"});if(this.get("autoResize")){var d=b.one(".dropdown-hd").outerWidth();b.one(".dropdown-list").css({width:d+"px"})}this.fire(c.FIRES.focus)},blur:function(){var a=this.get("mode"),b=this.get("el");this.fire(c.FIRES.beforeBlur),a==1&&b.one(".dropdown-hd").removeClass("dropdown-hd-active"),b.one(".dropdown-list").css("display","none"),this.fire(c.FIRES.blur)}},c.DOCEVENTS={"":{click:function(a){var b=this,c=b.get("el");!b.__show&&!c.contains(a.target)&&(c.all(".dropdown-list").css("display","none"),c.all(".dropdown-hd").removeClass("dropdown-hd-active")),b.__show=!1}}},c.EVENTS={"":{mouseleave:function(){var a=this.get("mode");a!=1&&this.blur()}},".dropdown-hd":{click:function(a){var b=this.get("mode");b==1&&(el=this.get("el").one(".dropdown-list"),this.__show=!0,el.css("display")=="block"?this.blur():this.focus())},mouseenter:function(){var a=this.get("mode");a!=1&&this.focus()}},".dropdown-item":{click:function(b){this.__show=!0,this.blur();var d=this.get("el"),e=a.one(b.currentTarget);if(e.hasClass("dropdown-itemselected"))return;d.all(".dropdown-itemselected").removeClass("dropdown-itemselected"),e.addClass("dropdown-itemselected");var f=d.one(".dropdown-text"),g=e.one("span"),h={value:g.attr("value")||"",text:g.text()},i=d.one("input");i&&i.val(h.value),f.attr("value",h.value),f.text(h.text),this.fire(c.FIRES.selected,h)},mouseenter:function(b){var c=a.one(b.currentTarget);c.addClass("dropdown-itemover")},mouseleave:function(b){var c=a.one(b.currentTarget);c.removeClass("dropdown-itemover")}}},a.extend(c,b,{}),a.augment(c,c.METHODS),c},{requires:["brix/core/brick"]});