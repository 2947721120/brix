KISSY.add("brix/gallery/form/index",function(e,t){function r(){r.superclass.constructor.apply(this,arguments)}function i(e,t){var n=e.one(".input"),r=e.one("input"),s=r.prop("checked"),o=r.prop("disabled");t&&e.hasClass("radio")&&e.siblings(".radio").each(i);var u="input"+(s?" checked":"")+(o?" disabled":"")+(s&&o?" checked-disabled":"");n?n.attr("class",u):e.prepend('<span class="'+u+'" tabindex="0"></span>')}var n={ENTER:13,SPACE:32};return r.ATTACH={".checkbox, .radio":{keyup:function(t){if(t.keyCode===n.ENTER||t.keyCode===n.SPACE)e.one(t.target).fire("click"),t.preventDefault()}}},e.extend(r,t,{initialize:function(){var t=this.get("el");t.addClass("bx-controls"),t.all(".checkbox, .radio").each(i),t.all("input").on("change",function(t){i(e.one(t.currentTarget.parentNode),!0)}),e.UA.ie<9&&t.all(".checkbox, .radio").on("click",function(t){if(t.target.nodeName==="INPUT")return;e.one(t.currentTarget).one("input")[0].click()})}}),r},{requires:["brix/core/brick"]});