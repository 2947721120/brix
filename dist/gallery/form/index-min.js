KISSY.add("brix/gallery/form/index",function(a,b){function d(){d.superclass.constructor.apply(this,arguments)}function e(a,b){var c=a.one(".input"),d=a.one("input"),f=d.prop("checked"),g=d.prop("disabled");b&&a.hasClass("radio")&&a.siblings(".radio").each(e);var h="input"+(f?" checked":"")+(g?" disabled":"")+(f&&g?" checked-disabled":"");c?c.attr("class",h):a.prepend('<span class="'+h+'" tabindex="0"></span>')}var c={ENTER:13,SPACE:32};return d.ATTACH={".checkbox, .radio":{keyup:function(b){if(b.keyCode===c.ENTER||b.keyCode===c.SPACE)a.one(b.target).fire("click"),b.preventDefault()}}},a.extend(d,b,{initialize:function(){var b=this.get("el");b.addClass("bx-controls"),b.all(".checkbox, .radio").each(e),b.all("input").on("change",function(b){e(a.one(b.currentTarget.parentNode),!0)}),a.UA.ie<9&&b.all(".checkbox, .radio").on("click",function(b){if(b.target.nodeName==="INPUT")return;a.one(b.currentTarget).one("input")[0].click()})}}),d},{requires:["brix/core/brick","./form.css"]});