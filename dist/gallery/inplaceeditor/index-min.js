KISSY.add("brix/gallery/inplaceeditor/index",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}return n.ATTRS={autoRender:{value:!0},tmpl:{value:'<div class="inplaceeditor-popup"><input type="text" value=""></div>'}},n.ATTACH={input:{focusout:function(e){this.hide()},keydown:function(e){e.keyCode==13&&this.hide()}}},n.METHOD={show:function(e,t,n,r){var i=this.get("el"),s=i.one("input");i.css({visibility:"visible",left:e,top:t}),this._v=n,r&&s.css(r),s[0].focus(),s.val(n)},hide:function(){var e=this.get("el");e.css({visibility:"hidden",left:"-9999px",top:"-9999px"});var t=this.getValue();this._v!=t&&this.fire("valueChange",{value:t})},getValue:function(){var e=this.get("el");return e.one("input").val()}},e.extend(n,t,{_v:null}),e.augment(n,n.METHOD),n},{requires:["brix/core/brick"]});