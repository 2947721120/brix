KISSY.add("brix/gallery/inplaceeditor/index",function(a,b){function c(){c.superclass.constructor.apply(this,arguments),this._v=null,this._x=0,this._y=0}return c.ATTRS={autoRender:{value:!0},tmpl:{value:'<div class="inplaceeditor-popup"><input type="text" value=""></div>'}},c.EVENTS={input:{focusout:function(a){this.hide()},keydown:function(a){a.keyCode==13&&this.hide()}}},c.METHODS={show:function(a,b,c,d){var e=this.get("el"),f=e.one("input");e.css({visibility:"visible"}),a!==undefined&&(this._x=a),b!==undefined&&(this._y=b),e.css({left:this._x,top:this._y}),d&&f.css(d),f[0].focus(),c&&(this._v=c,f.val(c))},hide:function(){var b=this.getValue(),c=this.get("el");if(this._v!=b&&this.fire("valueChange",{value:b})===!1){a.later(function(){c.one("input")[0].focus()},50);return}c.css({visibility:"hidden",left:"-9999px",top:"-9999px"})},getValue:function(){var a=this.get("el");return a.one("input").val()}},a.extend(c,b,{}),a.augment(c,c.METHODS),c},{requires:["brix/core/brick"]});