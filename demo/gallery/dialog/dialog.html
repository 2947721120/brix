<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Brix Dialog Demo</title>
        <link type="text/css" rel="stylesheet" href="../../../src/style/brix-min.css" charset="utf-8">
        <link rel="stylesheet" href="../../../src/gallery/dropdown/index.css">
        <link rel="stylesheet" href="../../../src/gallery/dialog/index.css">
        <link rel="stylesheet" href="../../assets/doc.css">
        <script src="http://a.tbcdn.cn/s/kissy/1.3.0/seed.js"></script>
        <script src="../../../src/core/brix.js" bx-config="{autoConfig:true,fixed:'src/'}"></script>
    </head>
    <body style="min-height:280px;">
        <div class="container">
            <a href="#" id="btnShowleft" class="btn">显示左</a>

            <a href="#" id="btnShowright" class="btn">显示右</a>

            <a href="#" id="btnShowup" class="btn">显示上</a>

            <a href="#" id="btnShowdown" class="btn">显示下</a>

            <a href="#" id="btnShow" class="btn">显示</a>

            <a href="#" id="btnHide" class="btn">隐藏</a>
        </div>
		<!--brix begin-->
        <script>
			var dropdown_data = {
                dropdown_list:[{
                        value: "1",
                        text: "计划列表",
                        selected:true
                    },
                    {
                        value: "2",
                        text: "计划列表2"
                    },
                    {
                        value: "3",
                        text: "计划列表3"
                    },
                    {
                        value: "4",
                        text: "计划列表4"
                    }]
            }
        </script>
        <script type="text/template" id="tmpl_dropdown">
            <div style="margin-top:-10px">
            <h2 class="h2" style="margin:0">标题</h2>
            没有共产党就没有新中国，没有共产党就没有新中国。
            <!--<div id="brick13" bx-name="dropdown" class="dropdown" style="width:200px">
                {{#dropdown_list}}
                {{#selected}}
                <span class="dropdown-hd">
                <span class="dropdown-text" value="{{value}}">{{text}}</span>
                <i class="iconfont icon-arrow-down">&#459</i>
                </span>
                {{/selected}}
                {{/dropdown_list}}
                <ul class="dropdown-list">
                    {{#dropdown_list}}
                    <li class="dropdown-item{{#selected}} dropdown-itemselected{{/selected}}"><span value="{{value}}">{{text}}</span><i class="iconfont icon-ok">&#126</i></li>
                    {{/dropdown_list}}
                </ul>
                {{#dropdown_list}}
                {{#selected}}
                <input value="{{value}}" type="hidden" />
                {{/selected}}
                {{/dropdown_list}}
            </div>-->
            <div style="margin-top:15px"><a class="btn">确定</a></div>
            </div>
        </script>
        <script>
            KISSY.ready(function(S) {
                KISSY.use("brix/gallery/dialog/", function(S, Dialog) {
                    var DOM = S.DOM;

                    var config = {
                        data:dropdown_data,
                        tmpl:S.one("#tmpl_dropdown").html(),
                        start:{
                            left:1000,
                            top:100,
                            opacity:0
                        },
                        end:{
                            left:100,
                            top:100,
                            opacity:1
                        },
                        width:300
                    }
                    var dialog = new Dialog(config);

                    var config1 = {
                        data:dropdown_data,
                        tmpl:S.one("#tmpl_dropdown").html(),
                        align:{
                            node:false,
                            points:['cc','cc'],
                            offset:[0,0]
                        },
                        elStyle:{
                            position: S.UA.ie == 6 ? "absolute" : "fixed"
                        },
                        width:300,
                        mask:true
                    }
                    var dialog1 = new Dialog(config1);

                    //dialog.on('hide',function(){console.log('hide')});
                    //dialog.on('show',function(){console.log('show')});

                    S.one('#btnHide').on('click',function(e){
                        e.halt();
                        dialog.hide();
                    });

                    S.one('#btnShowleft').on('click',function(e){
                        e.halt();
                        dialog.hide();
                        dialog.set('start',{
                            left:-300,
                            top:100,
                            opacity:0
                        });

                        dialog.set('end',{
                            left:0,
                            top:100,
                            opacity:1
                        });
                        dialog.show();
                    });

                    S.one('#btnShowright').on('click',function(e){
                        e.halt();
                        dialog.hide();
                        dialog.set('start',{
                            left:S.DOM.docWidth(),
                            top:100,
                            opacity:0
                        });

                        dialog.set('end',{
                            left:S.DOM.docWidth()-300,
                            top:100,
                            opacity:1
                        });
                        dialog.show();
                    });

                    S.one('#btnShowup').on('click',function(e){
                        e.halt();
                        dialog.hide();
                        dialog.set('start',{
                            left:300,
                            top:S.DOM.docHeight(),
                            opacity:0
                        });

                        dialog.set('end',{
                            left:300,
                            top:S.DOM.docHeight()-167,
                            opacity:1
                        });
                        dialog.show();
                    });

                    S.one('#btnShowdown').on('click',function(e){
                        e.halt();
                        dialog.hide();
                        dialog.set('start',{
                            left:600,
                            top:-167,
                            opacity:0
                        });

                        dialog.set('end',{
                            left:600,
                            top:0,
                            opacity:1
                        });
                        dialog.show();
                    });

                    S.one('#btnShow').on('click',function(e){
                        e.halt();
                        dialog.hide();
                        dialog1.center(); 
                        dialog1.show();
                        
                        /*dialog.on('show',function(){
                            debugger;
                           
                       });*/
                        
                    });
                });
            });
        </script>
        <!--brix end-->
    </body>
</html>
