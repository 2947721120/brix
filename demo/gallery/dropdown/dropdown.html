<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Brix Dropdown Demo</title>
        <link type="text/css" rel="stylesheet" href="../../../src/style/brix-min.css" charset="utf-8">
        <link rel="stylesheet" href="../../../src/gallery/dropdown/index.css">
        <link rel="stylesheet" href="../../assets/doc.css">
        <script src="http://a.tbcdn.cn/s/kissy/1.3.0/seed.js"></script>
        <script src="../../../src/core/brix.js" bx-config="{autoConfig:true,fixed:'src/'}"></script>
    </head>
    <body style="min-height:200px;">
        <div class="container">
            <table>
                <tr>
                    <td id="test_container"></td>
                    <td>
                        <div bx-name="dropdown" style="width:200px" class="dropdown dropdown-arrow" id="brick_14">
                            <span class="dropdown-hd">
                                <span class="dropdown-text" value="3">计划列表3</span>
                                <i class="iconfont icon-arrow-down">&#459</i>
                              </span>
                            <ul class="dropdown-list">
                                <li class="dropdown-item"><span value="1">计划列表</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="2">计划列表2</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item dropdown-itemselected "><span value="3">计划列表3</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="4">计划列表4</span><i class="iconfont icon-ok">&#126</i></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div bx-name="dropdown" style="width:200px" class="dropdown" id="brick_15">
                            <span class="dropdown-hd">
                                <span class="dropdown-text" value="3">计划列表3</span>
                            </span>
                            <ul class="dropdown-list" style="height:120px">
                                <li class="dropdown-item"><span value="1">计划列表</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="2">计划列表2</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item dropdown-itemselected "><span value="3">计划列表3</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="4">计划列表4</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="2">计划列表2</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="3">计划列表3</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="4">计划列表4</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="2">计划列表2</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="3">计划列表3</span><i class="iconfont icon-ok">&#126</i></li>
                                <li class="dropdown-item"><span value="4">计划列表4</span><i class="iconfont icon-ok">&#126</i></li>
                            </ul>
                        </div>
                    </td>
                    <td>
                        <div class="dropdown" id="brix_brick_16">
                            <span class="dropdown-hd">
                                <span class="dropdown-text">10</span>
                            </span>
                            <ul class="dropdown-list dropdown-list-noicon" style="display: none; ">
                                <li class="dropdown-item"><span value="0">10</span></li><li class="dropdown-item"><span value="1">15</span></li><li class="dropdown-item"><span value="2">20</span></li><li class="dropdown-item"><span value="3">25</span></li><li class="dropdown-item dropdown-itemselected"><span value="4">30</span></li>
                            </ul>
                            <input name="testInput" type="hidden">
                        </div>
                    </td>
                </tr>
            </table>
        </div>


        <div class="container" id="area">
            
        </div>

        <div class="container containerkeycode">
            <div class="dropdown trip-search-city z-index1000" bx-name="dropdown" style="width: 144px;">
                <span class="dropdown-hd">
                    <span value="3" class="dropdown-text">-请选择-</span>
                </span>
                <ul class="dropdown-list dropdown-list-noicon" style="display: none; width: 144px;height:160px">
                    <li class="dropdown-item"><span value="AKU">A阿克苏</span></li>
                    <li class="dropdown-item"><span value="AAT">A阿勒泰</span></li>
                    <li class="dropdown-item"><span value="AKA">A安康</span></li>
                    <li class="dropdown-item"><span value="AQG">A安庆</span></li>

                    <li class="dropdown-item"><span value="AOG">A鞍山</span></li>
                    <li class="dropdown-item"><span value="AVA">A安顺</span></li>
                    <li class="dropdown-item"><span value="BJS">B北京</span></li>
                    <li class="dropdown-item"><span value="BSD">B保山</span></li>
                    <li class="dropdown-item"><span value="BAV">B包头</span></li>
                    <li class="dropdown-item"><span value="BHY">B北海</span></li>

                    <li class="dropdown-item"><span value="BFU">B蚌埠</span></li>
                    <li class="dropdown-item"><span value="CKG">C重庆</span></li>
                    <li class="dropdown-item"><span value="CTU">C成都</span></li>
                    <li class="dropdown-item"><span value="CSX">C长沙</span></li>
                    <li class="dropdown-item"><span value="CGQ">C长春</span></li>
                    <li class="dropdown-item"><span value="CGD">C常德</span></li>

                    <li class="dropdown-item"><span value="CIF">C赤峰</span></li>
                    <li class="dropdown-item"><span value="CHG">C朝阳</span></li>
                    <li class="dropdown-item"><span value="CIH">C长治</span></li>
                    <li class="dropdown-item"><span value="CZX">C常州</span></li>
                    <li class="dropdown-item"><span value="CNI">C长海</span></li>
                    <li class="dropdown-item"><span value="DLC">D大连</span></li>

                    <li class="dropdown-item"><span value="DDG">D丹东</span></li>
                    <li class="dropdown-item"><span value="DNH">D敦煌</span></li>
                    <li class="dropdown-item"><span value="DLU">D大理</span></li>
                    <li class="dropdown-item"><span value="DIG">D迪庆</span></li>
                    <li class="dropdown-item"><span value="DAX">D达县</span></li>
                    <li class="dropdown-item"><span value="DAT">D大同</span></li>

                    <li class="dropdown-item"><span value="DOY">D东营</span></li>
                    <li class="dropdown-item"><span value="ENH">E恩施</span></li>
                    <li class="dropdown-item"><span value="DSN">E鄂尔多斯</span></li>
                    <li class="dropdown-item"><span value="FOC">F福州</span></li>
                    <li class="dropdown-item"><span value="FYN">F富蕴</span></li>
                    <li class="dropdown-item"><span value="FUG">F阜阳</span></li>

                    <li class="dropdown-item"><span value="FUO">F佛山</span></li>
                    <li class="dropdown-item"><span value="CAN">G广州</span></li>
                    <li class="dropdown-item"><span value="KWL">G桂林</span></li>
                    <li class="dropdown-item"><span value="KWE">G贵阳</span></li>
                    <li class="dropdown-item"><span value="KOW">G赣州</span></li>
                    <li class="dropdown-item"><span value="GOQ">G格尔木</span></li>

                    <li class="dropdown-item"><span value="GHN">G广汉</span></li>
                    <li class="dropdown-item"><span value="GYS">G广元</span></li>
                    <li class="dropdown-item"><span value="HGH">H杭州</span></li>
                    <li class="dropdown-item"><span value="HRB">H哈尔滨</span></li>
                    <li class="dropdown-item"><span value="HFE">H合肥</span></li>
                    <li class="dropdown-item"><span value="HET">H呼和浩特</span></li>

                    <li class="dropdown-item"><span value="HAK">H海口</span></li>
                    <li class="dropdown-item"><span value="TXN">H黄山</span></li>
                    <li class="dropdown-item"><span value="HLD">H海拉尔</span></li>
                    <li class="dropdown-item"><span value="HEK">H黑河</span></li>
                    <li class="dropdown-item"><span value="HMI">H哈密</span></li>
                    <li class="dropdown-item"><span value="HTN">H和田</span></li>

                    <li class="dropdown-item"><span value="HYN">H黄岩</span></li>
                    <li class="dropdown-item"><span value="HNY">H衡阳</span></li>
                    <li class="dropdown-item"><span value="HZG">H汉中</span></li>
                    <li class="dropdown-item"><span value="JIL">J吉林</span></li>
                    <li class="dropdown-item"><span value="TNA">J济南</span></li>
                    <li class="dropdown-item"><span value="JZH">J九寨沟</span></li>

                    <li class="dropdown-item"><span value="KNC">J吉安</span></li>
                    <li class="dropdown-item"><span value="JNG">J济宁</span></li>
                    <li class="dropdown-item"><span value="JMU">J佳木斯</span></li>
                    <li class="dropdown-item"><span value="JGN">J嘉峪关</span></li>
                    <li class="dropdown-item"><span value="JDZ">J景德镇</span></li>
                    <li class="dropdown-item"><span value="JHG">J景洪</span></li>

                    <li class="dropdown-item"><span value="JJN">J晋江</span></li>
                    <li class="dropdown-item"><span value="JNZ">J锦州</span></li>
                    <li class="dropdown-item"><span value="CHW">J酒泉</span></li>
                    <li class="dropdown-item"><span value="JIU">J九江</span></li>
                    <li class="dropdown-item"><span value="JGS">J井冈山</span></li>
                    <li class="dropdown-item"><span value="JIL">J鸡西</span></li>

                    <li class="dropdown-item"><span value="SWA">J揭阳</span></li>
                    <li class="dropdown-item"><span value="KMG">K昆明</span></li>
                    <li class="dropdown-item"><span value="KRY">K克拉玛依</span></li>
                    <li class="dropdown-item"><span value="KHG">K喀什</span></li>
                    <li class="dropdown-item"><span value="KRL">K库尔勒</span></li>
                    <li class="dropdown-item"><span value="KCA">K库车</span></li>

                    <li class="dropdown-item"><span value="LHW">L兰州</span></li>
                    <li class="dropdown-item"><span value="LXA">L拉萨</span></li>
                    <li class="dropdown-item"><span value="LYG">L连云港</span></li>
                    <li class="dropdown-item"><span value="LJG">L丽江</span></li>
                    <li class="dropdown-item"><span value="LYI">L临沂</span></li>
                    <li class="dropdown-item"><span value="LZH">L柳州</span></li>

                    <li class="dropdown-item"><span value="LYA">L洛阳</span></li>
                    <li class="dropdown-item"><span value="LNJ">L临沧</span></li>
                    <li class="dropdown-item"><span value="LZO">L泸州</span></li>
                    <li class="dropdown-item"><span value="LCX">L连城</span></li>
                    <li class="dropdown-item"><span value="LUM">M芒市</span></li>
                    <li class="dropdown-item"><span value="MXZ">M梅县</span></li>

                    <li class="dropdown-item"><span value="NZH">M满洲里</span></li>
                    <li class="dropdown-item"><span value="MIG">M绵阳</span></li>
                    <li class="dropdown-item"><span value="MDG">M牡丹江</span></li>
                    <li class="dropdown-item"><span value="NKG">N南京</span></li>
                    <li class="dropdown-item"><span value="KHN">N南昌</span></li>
                    <li class="dropdown-item"><span value="NGB">N宁波</span></li>

                    <li class="dropdown-item"><span value="NAO">N南充</span></li>
                    <li class="dropdown-item"><span value="WUS">N南平</span></li>
                    <li class="dropdown-item"><span value="NNG">N南宁</span></li>
                    <li class="dropdown-item"><span value="NTG">N南通</span></li>
                    <li class="dropdown-item"><span value="NNY">N南阳</span></li>
                    <li class="dropdown-item"><span value="PZI">P攀枝花</span></li>

                    <li class="dropdown-item"><span value="TAO">Q青岛</span></li>
                    <li class="dropdown-item"><span value="NDG">Q齐齐哈尔</span></li>
                    <li class="dropdown-item"><span value="SHP">Q秦皇岛</span></li>
                    <li class="dropdown-item"><span value="IQM">Q且末</span></li>
                    <li class="dropdown-item"><span value="IQN">Q庆阳</span></li>
                    <li class="dropdown-item"><span value="JJN">Q泉州</span></li>

                    <li class="dropdown-item"><span value="JUZ">Q衢州</span></li>
                    <li class="dropdown-item"><span value="SHA">S上海</span></li>
                    <li class="dropdown-item"><span value="SZX">S深圳</span></li>
                    <li class="dropdown-item"><span value="SHE">S沈阳</span></li>
                    <li class="dropdown-item"><span value="SJW">S石家庄</span></li>
                    <li class="dropdown-item"><span value="SZV">S苏州</span></li>

                    <li class="dropdown-item"><span value="SYX">S三亚</span></li>
                    <li class="dropdown-item"><span value="SHS">S沙市</span></li>
                    <li class="dropdown-item"><span value="SYM">S思茅</span></li>
                    <li class="dropdown-item"><span value="TYN">T太原</span></li>
                    <li class="dropdown-item"><span value="TSN">T天津</span></li>
                    <li class="dropdown-item"><span value="TCG">T塔城</span></li>

                    <li class="dropdown-item"><span value="TNH">T通化</span></li>
                    <li class="dropdown-item"><span value="TGO">T通辽</span></li>
                    <li class="dropdown-item"><span value="TEN">T铜仁</span></li>
                    <li class="dropdown-item"><span value="WUH">W武汉</span></li>
                    <li class="dropdown-item"><span value="WNZ">W温州</span></li>
                    <li class="dropdown-item"><span value="URC">W乌鲁木齐</span></li>

                    <li class="dropdown-item"><span value="WUX">W无锡</span></li>
                    <li class="dropdown-item"><span value="WXN">W万州</span></li>
                    <li class="dropdown-item"><span value="WEF">W潍坊</span></li>
                    <li class="dropdown-item"><span value="WEH">W威海</span></li>
                    <li class="dropdown-item"><span value="HLH">W乌兰浩特</span></li>
                    <li class="dropdown-item"><span value="WUZ">W乌海</span></li>

                    <li class="dropdown-item"><span value="WUS">W武夷山</span></li>
                    <li class="dropdown-item"><span value="WUZ">W梧州</span></li>
                    <li class="dropdown-item"><span value="WNH">W文山</span></li>
                    <li class="dropdown-item"><span value="SIA">X西安</span></li>
                    <li class="dropdown-item"><span value="XMN">X厦门</span></li>
                    <li class="dropdown-item"><span value="DIG">X香格里拉</span></li>

                    <li class="dropdown-item"><span value="XNN">X西宁</span></li>
                    <li class="dropdown-item"><span value="XUZ">X徐州</span></li>
                    <li class="dropdown-item"><span value="JHG">X西双版纳</span></li>
                    <li class="dropdown-item"><span value="XFN">X襄樊</span></li>
                    <li class="dropdown-item"><span value="XIC">X西昌</span></li>
                    <li class="dropdown-item"><span value="XIL">X锡林浩特</span></li>

                    <li class="dropdown-item"><span value="ACX">X兴义</span></li>
                    <li class="dropdown-item"><span value="XNT">X邢台</span></li>
                    <li class="dropdown-item"><span value="INC">Y银川</span></li>
                    <li class="dropdown-item"><span value="ENY">Y延安</span></li>
                    <li class="dropdown-item"><span value="YNJ">Y延吉</span></li>
                    <li class="dropdown-item"><span value="YNT">Y烟台</span></li>

                    <li class="dropdown-item"><span value="YNZ">Y盐城</span></li>
                    <li class="dropdown-item"><span value="YBP">Y宜宾</span></li>
                    <li class="dropdown-item"><span value="YIH">Y宜昌</span></li>
                    <li class="dropdown-item"><span value="YIN">Y伊宁</span></li>
                    <li class="dropdown-item"><span value="YIW">Y义乌</span></li>
                    <li class="dropdown-item"><span value="UYN">Y榆林</span></li>

                    <li class="dropdown-item"><span value="YCU">Y运城</span></li>
                    <li class="dropdown-item"><span value="LLF">Y永州</span></li>
                    <li class="dropdown-item"><span value="CGO">Z郑州</span></li>
                    <li class="dropdown-item"><span value="ZUH">Z珠海</span></li>
                    <li class="dropdown-item"><span value="ZAT">Z昭通</span></li>
                    <li class="dropdown-item"><span value="DYG">Z张家界</span></li>

                    <li class="dropdown-item"><span value="ZHA">Z湛江</span></li>
                    <li class="dropdown-item"><span value="HSN">Z舟山</span></li>
                    <li class="dropdown-item"><span value="ZYI">Z遵义</span></li>
                    <li class="dropdown-item"><span value="HJJ">Z芷江</span></li>
                </ul>
            </div>
            <div bx-name="dropdown" bx-tmpl="dropdown" class="dropdown" id="brix_brick_297" style="width: 42px;">    <span class="dropdown-hd dropdown-hd-active"><span class="dropdown-text" value="1">1</span></span>                                                              <ul class="dropdown-list dropdown-list-noicon" style="height: 160px; display: block; width: 42px;"> <li class="dropdown-item dropdown-itemselected "><span value="1">1</span></li><li class="dropdown-item  "><span value="2">2</span></li><li class="dropdown-item  "><span value="3">3</span></li><li class="dropdown-item  "><span value="4">4</span></li><li class="dropdown-item  "><span value="5">5</span></li><li class="dropdown-item  "><span value="6">6</span></li><li class="dropdown-item  "><span value="7">7</span></li><li class="dropdown-item  "><span value="8">8</span></li><li class="dropdown-item  "><span value="9">9</span></li><li class="dropdown-item  "><span value="10">10</span></li><li class="dropdown-item  "><span value="11">11</span></li><li class="dropdown-item  "><span value="12">12</span></li><li class="dropdown-item  "><span value="13">13</span></li><li class="dropdown-item  "><span value="14">14</span></li><li class="dropdown-item  "><span value="15">15</span></li><li class="dropdown-item  "><span value="16">16</span></li><li class="dropdown-item  "><span value="17">17</span></li><li class="dropdown-item  "><span value="18">18</span></li><li class="dropdown-item  "><span value="19">19</span></li><li class="dropdown-item  "><span value="20">20</span></li><li class="dropdown-item  "><span value="21">21</span></li><li class="dropdown-item  "><span value="22">22</span></li><li class="dropdown-item  "><span value="23">23</span></li><li class="dropdown-item  "><span value="24">24</span></li><li class="dropdown-item  "><span value="25">25</span></li><li class="dropdown-item  "><span value="26">26</span></li><li class="dropdown-item  "><span value="27">27</span></li><li class="dropdown-item  "><span value="28">28</span></li><li class="dropdown-item  "><span value="29">29</span></li><li class="dropdown-item  "><span value="30">30</span></li><li class="dropdown-item  "><span value="31">31</span></li> </ul> <input value="1" type="hidden">                                                              </div>
        </div>
		<!--brix begin-->
        <script>
			var dropdown_data = {
                dropdown_list:[{
                        value: "1",
                        text: "计划列表",
                        selected:true,
                        color:'red'
                    },
                    {
                        value: "2",
                        text: "计划列表2",
                        color:'red'
                    },
                    {
                        value: "3",
                        text: "计划列表3",
                        color:'red'
                    },
                    {
                        value: "4",
                        text: "计划列表4",
                        color:'red'
                    }]
            }
        </script>
        <script type="text/template" id="tmpl_dropdown">
            <div style="width:200px" id="brick13" bx-name="dropdown" bx-tmpl="dropdown" bx-datakey="dropdown_list" class="dropdown">
            <!--bx-tmpl="dropdown" bx-datakey="dropdown_list"-->
                {{#dropdown_list}}
                {{#selected}}
                <span class="dropdown-hd">
                <span style="{{#if(color==red)}}color:{{color}}{{/if(color==red)}}" class="dropdown-text" value="{{value}}">{{text}}</span>
                </span>
                {{/selected}}
                {{/dropdown_list}}
                <ul class="dropdown-list dropdown-list-noicon">
                    {{#dropdown_list}}
                    <li class="dropdown-item{{#selected}} dropdown-itemselected{{/selected}}"><span value="{{value}}">{{text}}</span></li>
                    {{/dropdown_list}}
                </ul>
                {{#dropdown_list}}
                {{#selected}}
                <input value="{{value}}" type="hidden" />
                {{/selected}}
                {{/dropdown_list}}
            <!--bx-tmpl="dropdown"-->
            </div>
        </script>

        <script type="text/template" id="tmpl_dropdownext">
            <span class="dropdown-hd" bx-tmpl="dropdown" bx-datakey="dropdown_list.selected">
            {{#dropdown_list}}
            {{#selected}}
            <span class="dropdown-text" value="{{value}}">{{text}}</span>{{xx_yy}}
            {{/selected}}
            {{/dropdown_list}}
            </span>
            <ul class="dropdown-list dropdown-list-noicon">
                {{#dropdown_list}}
                <li class="dropdown-item{{#selected}} dropdown-itemselected{{/selected}}"><span value="{{value}}">{{text}}</span></li>
                {{/dropdown_list}}
            </ul>
            {{#dropdown_list}}
            {{#selected}}
            <input value="{{value}}" type="hidden" />
            {{/selected}}
            {{/dropdown_list}}
        </script>
        <script>
            KISSY.ready(function(S) {
                KISSY.use("brix/core/pagelet,brix/gallery/dropdown/,components/area/", function(S,Pagelet, DropdownBrick,AreaBrick) {
                    var config = {
                        container:'#test_container',//容器节点
                        tmpl: '#tmpl_dropdown',//需要的模板
                        data: dropdown_data,  //这个数据会被重新clone一份，所以更新原始数据不会对内部产生影响
                        events:{ //自定义事件代理
                            ".dropdown-a": {
                                mousedown: function(e) {
                                    /*alert(this);
                                    alert(1);*/
                                }
                            }
                        },
                        isRemoveEL:false
                    };

                    var dropdownBrick = new DropdownBrick(config);
                    dropdownBrick.render();

                    //数据更新刷新子模板
                    S.later(function(){
                        dropdown_data.dropdown_list.push({
                            value: "5",
                            text: "计划列表5"
                        });
                        dropdownBrick.setChunkData('dropdown_list',dropdown_data.dropdown_list);
                    },3000);

                    S.later(function(){
                        delete dropdown_data.dropdown_list[0]["selected"];
                        dropdown_data.dropdown_list[2]["selected"] = true;
                        dropdownBrick.setChunkData('dropdown_list',dropdown_data.dropdown_list);
                        dropdownBrick.focus();
                    },5000);


                    S.later(function(){
                        //dropdownBrick.destroy();
                    },8000);

                    //方法调用
                    dropdownBrick.focus();

                    //事件注册
                    dropdownBrick.on('selected',function(e){
                        top.console.log('selected:value='+e.value+';text='+e.text);
                    });

                    new DropdownBrick({tmpl:'#brick_14',mode:2});
                    new DropdownBrick({tmpl:'#brick_15'});
                    var brix_brick_16 = new DropdownBrick({tmpl:'#brix_brick_16'});

                    S.later(function(){
                        brix_brick_16.select('2');
                    },1000);





                    //联动Demo
                    var area = new AreaBrick({container:'#area'});


                    var pagelet2 = new Pagelet({tmpl:'.containerkeycode'});

                    window.dropdownBrick = dropdownBrick
                    S.log(dropdownBrick.select());

                });
            });
        </script>
        <!--brix end-->
    </body>
</html>
