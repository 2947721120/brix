<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Brix Dropdown Demo</title>
        <link type="text/css" rel="stylesheet" href="../../../dist/brix-min.css" charset="utf-8">
        <link rel="stylesheet" href="../../../src/gallery/dropdown/dropdown.css">
        <script src="http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
        <script src="../../config.js"></script>
    </head>
    <body style="margin:0px;padding-top:40px">
        <div style="padding-left:50px;width:200px"  id="test_container">
        </div>
		<!--brix begin-->
        <script>
			var dropdown_data = {
                dropdown_list:[{
                        value: "1",
                        text: "计划列表",
                        selected:true
                    },
                    {
                        value: "2",
                        text: "计划列表2",
                        color:'red'
                    },
                    {
                        value: "3",
                        text: "计划列表3"
                    },
                    {
                        value: "4",
                        text: "计划列表4"
                    }]
            }
        </script>
        <script type="text/template" id="tmpl_dropdown">
            <div id="brick13" bx-name="dropdown" bx-datakey="dropdown_list" bx-tmpl="dropdown" class="dropdown dropdown123">
                {{#dropdown_list}}
                {{#selected}}
                <span class="dropdown-hd">
                <span class="dropdown-text" value="{{value}}">{{text}}</span>
                <i class="iconfont icon-arrow-down">&#405</i>
                </span>
                {{/selected}}
                {{/dropdown_list}}
                <ul class="dropdown-list">
                    {{#dropdown_list}}
                    <li class="dropdown-item{{#selected}} dropdown-itemselected{{/selected}}"><span value="{{value}}">{{text}}</span><i class="iconfont icon-ok">&#126</i></li>
                    {{/dropdown_list}}
                </ul>
                {{#dropdown_list}}
                {{#selected}}
                <input value="{{value}}" type="hidden" />
                {{/selected}}
                {{/dropdown_list}}
            </div>
            <div bx-tmpl-source=".dropdown123">

            </div>

        </script>
        <script>
            KISSY.ready(function(S) {

                KISSY.use("brix/core/pagelet", function(S, Pagelet) {
                    var pagelet = new Pagelet({
                        container:'#test_container',//容器节点

                        tmpl: S.one("#tmpl_dropdown").html(),//需要的模板

                        data: dropdown_data  //这个数据会被重新clone一份，所以更新原始数据不会对内部产生影响

                    });

                    pagelet.addBehavior();
                    pagelet.render();

                    pagelet.ready(function(){
                        var b = pagelet.getBrick('brick13');
                        //alert(b.get('xx'));
                    })
                });

            });
        </script>
        <!--brix end-->
    </body>
</html>
