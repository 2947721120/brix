<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">KISSY.add('brix/gallery/placeholder/index', function(S, Brick) {
<span id='Brix-Gallery-Placeholder'>    /**
</span>     * Placeholder 仿win7登录框placeholder效果 focus后value为空时placeholder不消失
     * &lt;br&gt;&lt;a href=&quot;../demo/gallery/placeholder/placeholder.html&quot; target=&quot;_blank&quot;&gt;Demo&lt;/a&gt;
     * @class Brix.Gallery.Placeholder
     * @extends Brix.Brick
     */

    function Placeholder() {
        if ('placeholder' in document.createElement('input')) {
            return {};
        }
        Placeholder.superclass.constructor.apply(this, arguments);
    }

    Placeholder.ATTRS = {
<span id='Brix-Gallery-Placeholder-cfg-labelShowCls'>        /**
</span>         * input
         * @cfg {String}
         */
         labelShowCls: {
            value: 's-placeholder'
         },
<span id='Brix-Gallery-Placeholder-property-label'>         /**
</span>         * label
         * @type {Object}
         */
         label: {

         }
    };

    Placeholder.EVENTS = {
         &quot;&quot;: {
            keyup: function(e) {
                var self = this,
                    label = self.label,
                    labelShowCls = self.get('labelShowCls');
                if (e.target.value === '') {
                    label.addClass(labelShowCls);
                } else {
                    label.removeClass(labelShowCls);
                }
            }
         }
    };

    S.extend(Placeholder, Brick, {
        initialize: function() {
            var self = this,
                DOM = S.DOM;
                ipt = self.get('el'),
                iptDom = ipt.getDOMNode(),
                labelShowCls = self.get('labelShowCls');
            if (iptDom.tagName.toUpperCase() !== 'INPUT') return;
            var placeholder = ipt.attr('placeholder'),
                label = S.one(DOM.create('&lt;label class=&quot;' + labelShowCls + '&quot; for=&quot;' + iptDom.id + '&quot;&gt;' + placeholder + '&lt;/label&gt;'));
            label.insertBefore(ipt);
            self.label = label;

            if (iptDom.value != '') {
                label.removeClass(labelShowCls);
            }
        },
        destructor:function(){
            if(this.label){
                this.label = null;
            }
        }
    });
    return Placeholder;
}, {
    requires: [&quot;brix/core/brick&quot;]
});

  </pre>
</body>
</html>
