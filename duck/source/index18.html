<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/*
 * @module placeholder新版 
 * @description focus后value为空时出现placeholder 
 *   表单提交时，input的值这里不考虑
 * @param {HTMLElement} input element
 * @param {String} labelShowCls:显示placeholder的class
*/
KISSY.add('brix/gallery/placeholder/index', function(S, Brick) {

    function Placeholder() {
        Placeholder.superclass.constructor.apply(this, arguments);
    }

    Placeholder.ATTRS = {
<span id='global-cfg-ipt'>        /**
</span>         * input
         * @cfg {Element}
         */
         ipt: {

         },

<span id='global-cfg-labelShowCls'>        /**
</span>         * input
         * @cfg {String}
         */
         labelShowCls: {
            value: 'labelshow'
         }
    };

    S.extend(Placeholder, Brick, {
        initialize: function() {
            var self = this,
                Dom = S.DOM;
                ipt = self.get('ipt'),
                labelShowCls = self.get('labelShowCls');

            if (!ipt) return;
            //是否支持placeholder属性
            if ('placeholder' in document.createElement('input')) return;

            var placeholder = ipt.attr('placeholder'),
                label = S.one(DOM.create('&lt;label for=&quot;' + ipt.id + '&quot;&gt;' + placeholder + '&lt;/label&gt;'));

            label.insertBefore(ipt);

            if (ipt.value === '') {
                label.addClass(labelShowCls);
            }

            ipt.on('keyup', function() {
                if (this.value === '') {
                    label.addClass(labelShowCls);
                } else {
                    label.removeClass(labelShowCls);
                }
            });
        }
    });

    return Placeholder;
}, {
    requires: [&quot;brix/core/brick&quot;]
});

  </pre>
</body>
</html>
